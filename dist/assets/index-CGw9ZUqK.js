(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function i(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(r){if(r.ep)return;r.ep=!0;const c=i(r);fetch(r.href,c)}})();function _0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gu={exports:{}},mo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function dy(){if(kp)return mo;kp=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,r,c){var h=null;if(c!==void 0&&(h=""+c),r.key!==void 0&&(h=""+r.key),"key"in r){c={};for(var g in r)g!=="key"&&(c[g]=r[g])}else c=r;return r=c.ref,{$$typeof:n,type:a,key:h,ref:r!==void 0?r:null,props:c}}return mo.Fragment=t,mo.jsx=i,mo.jsxs=i,mo}var Dp;function fy(){return Dp||(Dp=1,Gu.exports=dy()),Gu.exports}var d=fy(),Pu={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function hy(){if(Ip)return pe;Ip=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function C(I){return I===null||typeof I!="object"?null:(I=S&&I[S]||I["@@iterator"],typeof I=="function"?I:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,M={};function R(I,X,te){this.props=I,this.context=X,this.refs=M,this.updater=te||w}R.prototype.isReactComponent={},R.prototype.setState=function(I,X){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,X,"setState")},R.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function j(){}j.prototype=R.prototype;function H(I,X,te){this.props=I,this.context=X,this.refs=M,this.updater=te||w}var D=H.prototype=new j;D.constructor=H,_(D,R.prototype),D.isPureReactComponent=!0;var N=Array.isArray;function G(){}var z={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function Y(I,X,te){var ie=te.ref;return{$$typeof:n,type:I,key:X,ref:ie!==void 0?ie:null,props:te}}function le(I,X){return Y(I.type,X,I.props)}function W(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function ae(I){var X={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(te){return X[te]})}var ue=/\/+/g;function Ae(I,X){return typeof I=="object"&&I!==null&&I.key!=null?ae(""+I.key):X.toString(36)}function ee(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(G,G):(I.status="pending",I.then(function(X){I.status==="pending"&&(I.status="fulfilled",I.value=X)},function(X){I.status==="pending"&&(I.status="rejected",I.reason=X)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function q(I,X,te,ie,$){var fe=typeof I;(fe==="undefined"||fe==="boolean")&&(I=null);var ve=!1;if(I===null)ve=!0;else switch(fe){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(I.$$typeof){case n:case t:ve=!0;break;case y:return ve=I._init,q(ve(I._payload),X,te,ie,$)}}if(ve)return $=$(I),ve=ie===""?"."+Ae(I,0):ie,N($)?(te="",ve!=null&&(te=ve.replace(ue,"$&/")+"/"),q($,X,te,"",function(Ti){return Ti})):$!=null&&(W($)&&($=le($,te+($.key==null||I&&I.key===$.key?"":(""+$.key).replace(ue,"$&/")+"/")+ve)),X.push($)),1;ve=0;var $e=ie===""?".":ie+":";if(N(I))for(var Oe=0;Oe<I.length;Oe++)ie=I[Oe],fe=$e+Ae(ie,Oe),ve+=q(ie,X,te,fe,$);else if(Oe=C(I),typeof Oe=="function")for(I=Oe.call(I),Oe=0;!(ie=I.next()).done;)ie=ie.value,fe=$e+Ae(ie,Oe++),ve+=q(ie,X,te,fe,$);else if(fe==="object"){if(typeof I.then=="function")return q(ee(I),X,te,ie,$);throw X=String(I),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Z(I,X,te){if(I==null)return I;var ie=[],$=0;return q(I,ie,"","",function(fe){return X.call(te,fe,$++)}),ie}function re(I){if(I._status===-1){var X=I._result;X=X(),X.then(function(te){(I._status===0||I._status===-1)&&(I._status=1,I._result=te)},function(te){(I._status===0||I._status===-1)&&(I._status=2,I._result=te)}),I._status===-1&&(I._status=0,I._result=X)}if(I._status===1)return I._result.default;throw I._result}var Ee=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Re={map:Z,forEach:function(I,X,te){Z(I,function(){X.apply(this,arguments)},te)},count:function(I){var X=0;return Z(I,function(){X++}),X},toArray:function(I){return Z(I,function(X){return X})||[]},only:function(I){if(!W(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return pe.Activity=b,pe.Children=Re,pe.Component=R,pe.Fragment=i,pe.Profiler=r,pe.PureComponent=H,pe.StrictMode=a,pe.Suspense=x,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,pe.__COMPILER_RUNTIME={__proto__:null,c:function(I){return z.H.useMemoCache(I)}},pe.cache=function(I){return function(){return I.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(I,X,te){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ie=_({},I.props),$=I.key;if(X!=null)for(fe in X.key!==void 0&&($=""+X.key),X)!Q.call(X,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&X.ref===void 0||(ie[fe]=X[fe]);var fe=arguments.length-2;if(fe===1)ie.children=te;else if(1<fe){for(var ve=Array(fe),$e=0;$e<fe;$e++)ve[$e]=arguments[$e+2];ie.children=ve}return Y(I.type,$,ie)},pe.createContext=function(I){return I={$$typeof:h,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},pe.createElement=function(I,X,te){var ie,$={},fe=null;if(X!=null)for(ie in X.key!==void 0&&(fe=""+X.key),X)Q.call(X,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&($[ie]=X[ie]);var ve=arguments.length-2;if(ve===1)$.children=te;else if(1<ve){for(var $e=Array(ve),Oe=0;Oe<ve;Oe++)$e[Oe]=arguments[Oe+2];$.children=$e}if(I&&I.defaultProps)for(ie in ve=I.defaultProps,ve)$[ie]===void 0&&($[ie]=ve[ie]);return Y(I,fe,$)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(I){return{$$typeof:g,render:I}},pe.isValidElement=W,pe.lazy=function(I){return{$$typeof:y,_payload:{_status:-1,_result:I},_init:re}},pe.memo=function(I,X){return{$$typeof:m,type:I,compare:X===void 0?null:X}},pe.startTransition=function(I){var X=z.T,te={};z.T=te;try{var ie=I(),$=z.S;$!==null&&$(te,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(G,Ee)}catch(fe){Ee(fe)}finally{X!==null&&te.types!==null&&(X.types=te.types),z.T=X}},pe.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},pe.use=function(I){return z.H.use(I)},pe.useActionState=function(I,X,te){return z.H.useActionState(I,X,te)},pe.useCallback=function(I,X){return z.H.useCallback(I,X)},pe.useContext=function(I){return z.H.useContext(I)},pe.useDebugValue=function(){},pe.useDeferredValue=function(I,X){return z.H.useDeferredValue(I,X)},pe.useEffect=function(I,X){return z.H.useEffect(I,X)},pe.useEffectEvent=function(I){return z.H.useEffectEvent(I)},pe.useId=function(){return z.H.useId()},pe.useImperativeHandle=function(I,X,te){return z.H.useImperativeHandle(I,X,te)},pe.useInsertionEffect=function(I,X){return z.H.useInsertionEffect(I,X)},pe.useLayoutEffect=function(I,X){return z.H.useLayoutEffect(I,X)},pe.useMemo=function(I,X){return z.H.useMemo(I,X)},pe.useOptimistic=function(I,X){return z.H.useOptimistic(I,X)},pe.useReducer=function(I,X,te){return z.H.useReducer(I,X,te)},pe.useRef=function(I){return z.H.useRef(I)},pe.useState=function(I){return z.H.useState(I)},pe.useSyncExternalStore=function(I,X,te){return z.H.useSyncExternalStore(I,X,te)},pe.useTransition=function(){return z.H.useTransition()},pe.version="19.2.3",pe}var Up;function cc(){return Up||(Up=1,Pu.exports=hy()),Pu.exports}var U=cc();const py=_0(U);var Vu={exports:{}},go={},Bu={exports:{}},zu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function my(){return Lp||(Lp=1,(function(n){function t(q,Z){var re=q.length;q.push(Z);e:for(;0<re;){var Ee=re-1>>>1,Re=q[Ee];if(0<r(Re,Z))q[Ee]=Z,q[re]=Re,re=Ee;else break e}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var Z=q[0],re=q.pop();if(re!==Z){q[0]=re;e:for(var Ee=0,Re=q.length,I=Re>>>1;Ee<I;){var X=2*(Ee+1)-1,te=q[X],ie=X+1,$=q[ie];if(0>r(te,re))ie<Re&&0>r($,te)?(q[Ee]=$,q[ie]=re,Ee=ie):(q[Ee]=te,q[X]=re,Ee=X);else if(ie<Re&&0>r($,re))q[Ee]=$,q[ie]=re,Ee=ie;else break e}}return Z}function r(q,Z){var re=q.sortIndex-Z.sortIndex;return re!==0?re:q.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var h=Date,g=h.now();n.unstable_now=function(){return h.now()-g}}var x=[],m=[],y=1,b=null,S=3,C=!1,w=!1,_=!1,M=!1,R=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function D(q){for(var Z=i(m);Z!==null;){if(Z.callback===null)a(m);else if(Z.startTime<=q)a(m),Z.sortIndex=Z.expirationTime,t(x,Z);else break;Z=i(m)}}function N(q){if(_=!1,D(q),!w)if(i(x)!==null)w=!0,G||(G=!0,ae());else{var Z=i(m);Z!==null&&ee(N,Z.startTime-q)}}var G=!1,z=-1,Q=5,Y=-1;function le(){return M?!0:!(n.unstable_now()-Y<Q)}function W(){if(M=!1,G){var q=n.unstable_now();Y=q;var Z=!0;try{e:{w=!1,_&&(_=!1,j(z),z=-1),C=!0;var re=S;try{t:{for(D(q),b=i(x);b!==null&&!(b.expirationTime>q&&le());){var Ee=b.callback;if(typeof Ee=="function"){b.callback=null,S=b.priorityLevel;var Re=Ee(b.expirationTime<=q);if(q=n.unstable_now(),typeof Re=="function"){b.callback=Re,D(q),Z=!0;break t}b===i(x)&&a(x),D(q)}else a(x);b=i(x)}if(b!==null)Z=!0;else{var I=i(m);I!==null&&ee(N,I.startTime-q),Z=!1}}break e}finally{b=null,S=re,C=!1}Z=void 0}}finally{Z?ae():G=!1}}}var ae;if(typeof H=="function")ae=function(){H(W)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,Ae=ue.port2;ue.port1.onmessage=W,ae=function(){Ae.postMessage(null)}}else ae=function(){R(W,0)};function ee(q,Z){z=R(function(){q(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(q){switch(S){case 1:case 2:case 3:var Z=3;break;default:Z=S}var re=S;S=Z;try{return q()}finally{S=re}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var re=S;S=q;try{return Z()}finally{S=re}},n.unstable_scheduleCallback=function(q,Z,re){var Ee=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ee+re:Ee):re=Ee,q){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=re+Re,q={id:y++,callback:Z,priorityLevel:q,startTime:re,expirationTime:Re,sortIndex:-1},re>Ee?(q.sortIndex=re,t(m,q),i(x)===null&&q===i(m)&&(_?(j(z),z=-1):_=!0,ee(N,re-Ee))):(q.sortIndex=Re,t(x,q),w||C||(w=!0,G||(G=!0,ae()))),q},n.unstable_shouldYield=le,n.unstable_wrapCallback=function(q){var Z=S;return function(){var re=S;S=Z;try{return q.apply(this,arguments)}finally{S=re}}}})(zu)),zu}var Hp;function gy(){return Hp||(Hp=1,Bu.exports=my()),Bu.exports}var qu={exports:{}},rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function vy(){if(Gp)return rt;Gp=1;var n=cc();function t(x){var m="https://react.dev/errors/"+x;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+x+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(x,m,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:x,containerInfo:m,implementation:y}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(x,m){if(x==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,rt.createPortal=function(x,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(x,m,null,y)},rt.flushSync=function(x){var m=h.T,y=a.p;try{if(h.T=null,a.p=2,x)return x()}finally{h.T=m,a.p=y,a.d.f()}},rt.preconnect=function(x,m){typeof x=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(x,m))},rt.prefetchDNS=function(x){typeof x=="string"&&a.d.D(x)},rt.preinit=function(x,m){if(typeof x=="string"&&m&&typeof m.as=="string"){var y=m.as,b=g(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?a.d.S(x,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:C}):y==="script"&&a.d.X(x,{crossOrigin:b,integrity:S,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},rt.preinitModule=function(x,m){if(typeof x=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=g(m.as,m.crossOrigin);a.d.M(x,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(x)},rt.preload=function(x,m){if(typeof x=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,b=g(y,m.crossOrigin);a.d.L(x,y,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},rt.preloadModule=function(x,m){if(typeof x=="string")if(m){var y=g(m.as,m.crossOrigin);a.d.m(x,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(x)},rt.requestFormReset=function(x){a.d.r(x)},rt.unstable_batchedUpdates=function(x,m){return x(m)},rt.useFormState=function(x,m,y){return h.H.useFormState(x,m,y)},rt.useFormStatus=function(){return h.H.useHostTransitionStatus()},rt.version="19.2.3",rt}var Pp;function xy(){if(Pp)return qu.exports;Pp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),qu.exports=vy(),qu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function yy(){if(Vp)return go;Vp=1;var n=gy(),t=cc(),i=xy();function a(e){var l="https://react.dev/errors/"+e;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)l+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var l=e,o=e;if(e.alternate)for(;l.return;)l=l.return;else{e=l;do l=e,(l.flags&4098)!==0&&(o=l.return),e=l.return;while(e)}return l.tag===3?o:null}function h(e){if(e.tag===13){var l=e.memoizedState;if(l===null&&(e=e.alternate,e!==null&&(l=e.memoizedState)),l!==null)return l.dehydrated}return null}function g(e){if(e.tag===31){var l=e.memoizedState;if(l===null&&(e=e.alternate,e!==null&&(l=e.memoizedState)),l!==null)return l.dehydrated}return null}function x(e){if(c(e)!==e)throw Error(a(188))}function m(e){var l=e.alternate;if(!l){if(l=c(e),l===null)throw Error(a(188));return l!==e?null:e}for(var o=e,s=l;;){var p=o.return;if(p===null)break;var v=p.alternate;if(v===null){if(s=p.return,s!==null){o=s;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===o)return x(p),e;if(v===s)return x(p),l;v=v.sibling}throw Error(a(188))}if(o.return!==s.return)o=p,s=v;else{for(var T=!1,E=p.child;E;){if(E===o){T=!0,o=p,s=v;break}if(E===s){T=!0,s=p,o=v;break}E=E.sibling}if(!T){for(E=v.child;E;){if(E===o){T=!0,o=v,s=p;break}if(E===s){T=!0,s=v,o=p;break}E=E.sibling}if(!T)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:l}function y(e){var l=e.tag;if(l===5||l===26||l===27||l===6)return e;for(e=e.child;e!==null;){if(l=y(e),l!==null)return l;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),H=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Symbol.for("react.client.reference");function Ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ue?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case R:return"Profiler";case M:return"StrictMode";case N:return"Suspense";case G:return"SuspenseList";case Y:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case H:return e.displayName||"Context";case j:return(e._context.displayName||"Context")+".Consumer";case D:var l=e.render;return e=e.displayName,e||(e=l.displayName||l.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return l=e.displayName||null,l!==null?l:Ae(e.type)||"Memo";case Q:l=e._payload,e=e._init;try{return Ae(e(l))}catch{}}return null}var ee=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ee=[],Re=-1;function I(e){return{current:e}}function X(e){0>Re||(e.current=Ee[Re],Ee[Re]=null,Re--)}function te(e,l){Re++,Ee[Re]=e.current,e.current=l}var ie=I(null),$=I(null),fe=I(null),ve=I(null);function $e(e,l){switch(te(fe,l),te($,e),te(ie,null),l.nodeType){case 9:case 11:e=(e=l.documentElement)&&(e=e.namespaceURI)?ep(e):0;break;default:if(e=l.tagName,l=l.namespaceURI)l=ep(l),e=tp(l,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(ie),te(ie,e)}function Oe(){X(ie),X($),X(fe)}function Ti(e){e.memoizedState!==null&&te(ve,e);var l=ie.current,o=tp(l,e.type);l!==o&&(te($,e),te(ie,o))}function Ao(e){$.current===e&&(X(ie),X($)),ve.current===e&&(X(ve),co._currentValue=re)}var ys,Rc;function nl(e){if(ys===void 0)try{throw Error()}catch(o){var l=o.stack.trim().match(/\n( *(at )?)/);ys=l&&l[1]||"",Rc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+e+Rc}var bs=!1;function Ts(e,l){if(!e||bs)return"";bs=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(l){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(O){var B=O}Reflect.construct(e,[],K)}else{try{K.call()}catch(O){B=O}e.call(K.prototype)}}else{try{throw Error()}catch(O){B=O}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(O){if(O&&B&&typeof O.stack=="string")return[O.stack,B.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=s.DetermineComponentFrameRoot(),T=v[0],E=v[1];if(T&&E){var A=T.split(`
`),V=E.split(`
`);for(p=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;p<V.length&&!V[p].includes("DetermineComponentFrameRoot");)p++;if(s===A.length||p===V.length)for(s=A.length-1,p=V.length-1;1<=s&&0<=p&&A[s]!==V[p];)p--;for(;1<=s&&0<=p;s--,p--)if(A[s]!==V[p]){if(s!==1||p!==1)do if(s--,p--,0>p||A[s]!==V[p]){var F=`
`+A[s].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=s&&0<=p);break}}}finally{bs=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?nl(o):""}function qg(e,l){switch(e.tag){case 26:case 27:case 5:return nl(e.type);case 16:return nl("Lazy");case 13:return e.child!==l&&l!==null?nl("Suspense Fallback"):nl("Suspense");case 19:return nl("SuspenseList");case 0:case 15:return Ts(e.type,!1);case 11:return Ts(e.type.render,!1);case 1:return Ts(e.type,!0);case 31:return nl("Activity");default:return""}}function Mc(e){try{var l="",o=null;do l+=qg(e,o),o=e,e=e.return;while(e);return l}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Ss=Object.prototype.hasOwnProperty,Es=n.unstable_scheduleCallback,Ns=n.unstable_cancelCallback,jg=n.unstable_shouldYield,Og=n.unstable_requestPaint,Tt=n.unstable_now,Fg=n.unstable_getCurrentPriorityLevel,kc=n.unstable_ImmediatePriority,Dc=n.unstable_UserBlockingPriority,Ro=n.unstable_NormalPriority,Jg=n.unstable_LowPriority,Ic=n.unstable_IdlePriority,Yg=n.log,Kg=n.unstable_setDisableYieldValue,Si=null,St=null;function Rn(e){if(typeof Yg=="function"&&Kg(e),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(Si,e)}catch{}}var Et=Math.clz32?Math.clz32:$g,Xg=Math.log,Qg=Math.LN2;function $g(e){return e>>>=0,e===0?32:31-(Xg(e)/Qg|0)|0}var Mo=256,ko=262144,Do=4194304;function ll(e){var l=e&42;if(l!==0)return l;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Io(e,l,o){var s=e.pendingLanes;if(s===0)return 0;var p=0,v=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var E=s&134217727;return E!==0?(s=E&~v,s!==0?p=ll(s):(T&=E,T!==0?p=ll(T):o||(o=E&~e,o!==0&&(p=ll(o))))):(E=s&~v,E!==0?p=ll(E):T!==0?p=ll(T):o||(o=s&~e,o!==0&&(p=ll(o)))),p===0?0:l!==0&&l!==p&&(l&v)===0&&(v=p&-p,o=l&-l,v>=o||v===32&&(o&4194048)!==0)?l:p}function Ei(e,l){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&l)===0}function Wg(e,l){switch(e){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uc(){var e=Do;return Do<<=1,(Do&62914560)===0&&(Do=4194304),e}function Cs(e){for(var l=[],o=0;31>o;o++)l.push(e);return l}function Ni(e,l){e.pendingLanes|=l,l!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Zg(e,l,o,s,p,v){var T=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var E=e.entanglements,A=e.expirationTimes,V=e.hiddenUpdates;for(o=T&~o;0<o;){var F=31-Et(o),K=1<<F;E[F]=0,A[F]=-1;var B=V[F];if(B!==null)for(V[F]=null,F=0;F<B.length;F++){var O=B[F];O!==null&&(O.lane&=-536870913)}o&=~K}s!==0&&Lc(e,s,0),v!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=v&~(T&~l))}function Lc(e,l,o){e.pendingLanes|=l,e.suspendedLanes&=~l;var s=31-Et(l);e.entangledLanes|=l,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function Hc(e,l){var o=e.entangledLanes|=l;for(e=e.entanglements;o;){var s=31-Et(o),p=1<<s;p&l|e[s]&l&&(e[s]|=l),o&=~p}}function Gc(e,l){var o=l&-l;return o=(o&42)!==0?1:_s(o),(o&(e.suspendedLanes|l))!==0?0:o}function _s(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ws(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Pc(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:Np(e.type))}function Vc(e,l){var o=Z.p;try{return Z.p=e,l()}finally{Z.p=o}}var Mn=Math.random().toString(36).slice(2),lt="__reactFiber$"+Mn,pt="__reactProps$"+Mn,wl="__reactContainer$"+Mn,As="__reactEvents$"+Mn,ev="__reactListeners$"+Mn,tv="__reactHandles$"+Mn,Bc="__reactResources$"+Mn,Ci="__reactMarker$"+Mn;function Rs(e){delete e[lt],delete e[pt],delete e[As],delete e[ev],delete e[tv]}function Al(e){var l=e[lt];if(l)return l;for(var o=e.parentNode;o;){if(l=o[wl]||o[lt]){if(o=l.alternate,l.child!==null||o!==null&&o.child!==null)for(e=rp(e);e!==null;){if(o=e[lt])return o;e=rp(e)}return l}e=o,o=e.parentNode}return null}function Rl(e){if(e=e[lt]||e[wl]){var l=e.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return e}return null}function _i(e){var l=e.tag;if(l===5||l===26||l===27||l===6)return e.stateNode;throw Error(a(33))}function Ml(e){var l=e[Bc];return l||(l=e[Bc]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ze(e){e[Ci]=!0}var zc=new Set,qc={};function il(e,l){kl(e,l),kl(e+"Capture",l)}function kl(e,l){for(qc[e]=l,e=0;e<l.length;e++)zc.add(l[e])}var nv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jc={},Oc={};function lv(e){return Ss.call(Oc,e)?!0:Ss.call(jc,e)?!1:nv.test(e)?Oc[e]=!0:(jc[e]=!0,!1)}function Uo(e,l,o){if(lv(l))if(o===null)e.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(l);return;case"boolean":var s=l.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(l);return}}e.setAttribute(l,""+o)}}function Lo(e,l,o){if(o===null)e.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttribute(l,""+o)}}function on(e,l,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(l,o,""+s)}}function It(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fc(e){var l=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function iv(e,l,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,l);if(!e.hasOwnProperty(l)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,v=s.set;return Object.defineProperty(e,l,{configurable:!0,get:function(){return p.call(this)},set:function(T){o=""+T,v.call(this,T)}}),Object.defineProperty(e,l,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){e._valueTracker=null,delete e[l]}}}}function Ms(e){if(!e._valueTracker){var l=Fc(e)?"checked":"value";e._valueTracker=iv(e,l,""+e[l])}}function Jc(e){if(!e)return!1;var l=e._valueTracker;if(!l)return!0;var o=l.getValue(),s="";return e&&(s=Fc(e)?e.checked?"true":"false":e.value),e=s,e!==o?(l.setValue(e),!0):!1}function Ho(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ov=/[\n"\\]/g;function Ut(e){return e.replace(ov,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function ks(e,l,o,s,p,v,T,E){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),l!=null?T==="number"?(l===0&&e.value===""||e.value!=l)&&(e.value=""+It(l)):e.value!==""+It(l)&&(e.value=""+It(l)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),l!=null?Ds(e,T,It(l)):o!=null?Ds(e,T,It(o)):s!=null&&e.removeAttribute("value"),p==null&&v!=null&&(e.defaultChecked=!!v),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+It(E):e.removeAttribute("name")}function Yc(e,l,o,s,p,v,T,E){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.type=v),l!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||l!=null)){Ms(e);return}o=o!=null?""+It(o):"",l=l!=null?""+It(l):o,E||l===e.value||(e.value=l),e.defaultValue=l}s=s??p,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=E?e.checked:!!s,e.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),Ms(e)}function Ds(e,l,o){l==="number"&&Ho(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Dl(e,l,o,s){if(e=e.options,l){l={};for(var p=0;p<o.length;p++)l["$"+o[p]]=!0;for(o=0;o<e.length;o++)p=l.hasOwnProperty("$"+e[o].value),e[o].selected!==p&&(e[o].selected=p),p&&s&&(e[o].defaultSelected=!0)}else{for(o=""+It(o),l=null,p=0;p<e.length;p++){if(e[p].value===o){e[p].selected=!0,s&&(e[p].defaultSelected=!0);return}l!==null||e[p].disabled||(l=e[p])}l!==null&&(l.selected=!0)}}function Kc(e,l,o){if(l!=null&&(l=""+It(l),l!==e.value&&(e.value=l),o==null)){e.defaultValue!==l&&(e.defaultValue=l);return}e.defaultValue=o!=null?""+It(o):""}function Xc(e,l,o,s){if(l==null){if(s!=null){if(o!=null)throw Error(a(92));if(ee(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),l=o}o=It(l),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),Ms(e)}function Il(e,l){if(l){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=l;return}}e.textContent=l}var av=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qc(e,l,o){var s=l.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="":s?e.setProperty(l,o):typeof o!="number"||o===0||av.has(l)?l==="float"?e.cssFloat=o:e[l]=(""+o).trim():e[l]=o+"px"}function $c(e,l,o){if(l!=null&&typeof l!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||l!=null&&l.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var p in l)s=l[p],l.hasOwnProperty(p)&&o[p]!==s&&Qc(e,p,s)}else for(var v in l)l.hasOwnProperty(v)&&Qc(e,v,l[v])}function Is(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Go(e){return rv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function an(){}var Us=null;function Ls(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ul=null,Ll=null;function Wc(e){var l=Rl(e);if(l&&(e=l.stateNode)){var o=e[pt]||null;e:switch(e=l.stateNode,l.type){case"input":if(ks(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),l=o.name,o.type==="radio"&&l!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ut(""+l)+'"][type="radio"]'),l=0;l<o.length;l++){var s=o[l];if(s!==e&&s.form===e.form){var p=s[pt]||null;if(!p)throw Error(a(90));ks(s,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(l=0;l<o.length;l++)s=o[l],s.form===e.form&&Jc(s)}break e;case"textarea":Kc(e,o.value,o.defaultValue);break e;case"select":l=o.value,l!=null&&Dl(e,!!o.multiple,l,!1)}}}var Hs=!1;function Zc(e,l,o){if(Hs)return e(l,o);Hs=!0;try{var s=e(l);return s}finally{if(Hs=!1,(Ul!==null||Ll!==null)&&(Na(),Ul&&(l=Ul,e=Ll,Ll=Ul=null,Wc(l),e)))for(l=0;l<e.length;l++)Wc(e[l])}}function wi(e,l){var o=e.stateNode;if(o===null)return null;var s=o[pt]||null;if(s===null)return null;o=s[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,l,typeof o));return o}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gs=!1;if(sn)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){Gs=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{Gs=!1}var kn=null,Ps=null,Po=null;function ed(){if(Po)return Po;var e,l=Ps,o=l.length,s,p="value"in kn?kn.value:kn.textContent,v=p.length;for(e=0;e<o&&l[e]===p[e];e++);var T=o-e;for(s=1;s<=T&&l[o-s]===p[v-s];s++);return Po=p.slice(e,1<s?1-s:void 0)}function Vo(e){var l=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&l===13&&(e=13)):e=l,e===10&&(e=13),32<=e||e===13?e:0}function Bo(){return!0}function td(){return!1}function mt(e){function l(o,s,p,v,T){this._reactName=o,this._targetInst=p,this.type=s,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(o=e[E],this[E]=o?o(v):v[E]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Bo:td,this.isPropagationStopped=td,this}return b(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Bo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Bo)},persist:function(){},isPersistent:Bo}),l}var ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zo=mt(ol),Ri=b({},ol,{view:0,detail:0}),uv=mt(Ri),Vs,Bs,Mi,qo=b({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mi&&(Mi&&e.type==="mousemove"?(Vs=e.screenX-Mi.screenX,Bs=e.screenY-Mi.screenY):Bs=Vs=0,Mi=e),Vs)},movementY:function(e){return"movementY"in e?e.movementY:Bs}}),nd=mt(qo),cv=b({},qo,{dataTransfer:0}),dv=mt(cv),fv=b({},Ri,{relatedTarget:0}),zs=mt(fv),hv=b({},ol,{animationName:0,elapsedTime:0,pseudoElement:0}),pv=mt(hv),mv=b({},ol,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gv=mt(mv),vv=b({},ol,{data:0}),ld=mt(vv),xv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tv(e){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(e):(e=bv[e])?!!l[e]:!1}function qs(){return Tv}var Sv=b({},Ri,{key:function(e){if(e.key){var l=xv[e.key]||e.key;if(l!=="Unidentified")return l}return e.type==="keypress"?(e=Vo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(e){return e.type==="keypress"?Vo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ev=mt(Sv),Nv=b({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),id=mt(Nv),Cv=b({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),_v=mt(Cv),wv=b({},ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),Av=mt(wv),Rv=b({},qo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mv=mt(Rv),kv=b({},ol,{newState:0,oldState:0}),Dv=mt(kv),Iv=[9,13,27,32],js=sn&&"CompositionEvent"in window,ki=null;sn&&"documentMode"in document&&(ki=document.documentMode);var Uv=sn&&"TextEvent"in window&&!ki,od=sn&&(!js||ki&&8<ki&&11>=ki),ad=" ",sd=!1;function rd(e,l){switch(e){case"keyup":return Iv.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ud(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hl=!1;function Lv(e,l){switch(e){case"compositionend":return ud(l);case"keypress":return l.which!==32?null:(sd=!0,ad);case"textInput":return e=l.data,e===ad&&sd?null:e;default:return null}}function Hv(e,l){if(Hl)return e==="compositionend"||!js&&rd(e,l)?(e=ed(),Po=Ps=kn=null,Hl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return od&&l.locale!=="ko"?null:l.data;default:return null}}var Gv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cd(e){var l=e&&e.nodeName&&e.nodeName.toLowerCase();return l==="input"?!!Gv[e.type]:l==="textarea"}function dd(e,l,o,s){Ul?Ll?Ll.push(s):Ll=[s]:Ul=s,l=ka(l,"onChange"),0<l.length&&(o=new zo("onChange","change",null,o,s),e.push({event:o,listeners:l}))}var Di=null,Ii=null;function Pv(e){Kh(e,0)}function jo(e){var l=_i(e);if(Jc(l))return e}function fd(e,l){if(e==="change")return l}var hd=!1;if(sn){var Os;if(sn){var Fs="oninput"in document;if(!Fs){var pd=document.createElement("div");pd.setAttribute("oninput","return;"),Fs=typeof pd.oninput=="function"}Os=Fs}else Os=!1;hd=Os&&(!document.documentMode||9<document.documentMode)}function md(){Di&&(Di.detachEvent("onpropertychange",gd),Ii=Di=null)}function gd(e){if(e.propertyName==="value"&&jo(Ii)){var l=[];dd(l,Ii,e,Ls(e)),Zc(Pv,l)}}function Vv(e,l,o){e==="focusin"?(md(),Di=l,Ii=o,Di.attachEvent("onpropertychange",gd)):e==="focusout"&&md()}function Bv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jo(Ii)}function zv(e,l){if(e==="click")return jo(l)}function qv(e,l){if(e==="input"||e==="change")return jo(l)}function jv(e,l){return e===l&&(e!==0||1/e===1/l)||e!==e&&l!==l}var Nt=typeof Object.is=="function"?Object.is:jv;function Ui(e,l){if(Nt(e,l))return!0;if(typeof e!="object"||e===null||typeof l!="object"||l===null)return!1;var o=Object.keys(e),s=Object.keys(l);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var p=o[s];if(!Ss.call(l,p)||!Nt(e[p],l[p]))return!1}return!0}function vd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xd(e,l){var o=vd(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=l&&s>=l)return{node:o,offset:l-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=vd(o)}}function yd(e,l){return e&&l?e===l?!0:e&&e.nodeType===3?!1:l&&l.nodeType===3?yd(e,l.parentNode):"contains"in e?e.contains(l):e.compareDocumentPosition?!!(e.compareDocumentPosition(l)&16):!1:!1}function bd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var l=Ho(e.document);l instanceof e.HTMLIFrameElement;){try{var o=typeof l.contentWindow.location.href=="string"}catch{o=!1}if(o)e=l.contentWindow;else break;l=Ho(e.document)}return l}function Js(e){var l=e&&e.nodeName&&e.nodeName.toLowerCase();return l&&(l==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||l==="textarea"||e.contentEditable==="true")}var Ov=sn&&"documentMode"in document&&11>=document.documentMode,Gl=null,Ys=null,Li=null,Ks=!1;function Td(e,l,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ks||Gl==null||Gl!==Ho(s)||(s=Gl,"selectionStart"in s&&Js(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Li&&Ui(Li,s)||(Li=s,s=ka(Ys,"onSelect"),0<s.length&&(l=new zo("onSelect","select",null,l,o),e.push({event:l,listeners:s}),l.target=Gl)))}function al(e,l){var o={};return o[e.toLowerCase()]=l.toLowerCase(),o["Webkit"+e]="webkit"+l,o["Moz"+e]="moz"+l,o}var Pl={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionrun:al("Transition","TransitionRun"),transitionstart:al("Transition","TransitionStart"),transitioncancel:al("Transition","TransitionCancel"),transitionend:al("Transition","TransitionEnd")},Xs={},Sd={};sn&&(Sd=document.createElement("div").style,"AnimationEvent"in window||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),"TransitionEvent"in window||delete Pl.transitionend.transition);function sl(e){if(Xs[e])return Xs[e];if(!Pl[e])return e;var l=Pl[e],o;for(o in l)if(l.hasOwnProperty(o)&&o in Sd)return Xs[e]=l[o];return e}var Ed=sl("animationend"),Nd=sl("animationiteration"),Cd=sl("animationstart"),Fv=sl("transitionrun"),Jv=sl("transitionstart"),Yv=sl("transitioncancel"),_d=sl("transitionend"),wd=new Map,Qs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qs.push("scrollEnd");function Ft(e,l){wd.set(e,l),il(l,[e])}var Oo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Lt=[],Vl=0,$s=0;function Fo(){for(var e=Vl,l=$s=Vl=0;l<e;){var o=Lt[l];Lt[l++]=null;var s=Lt[l];Lt[l++]=null;var p=Lt[l];Lt[l++]=null;var v=Lt[l];if(Lt[l++]=null,s!==null&&p!==null){var T=s.pending;T===null?p.next=p:(p.next=T.next,T.next=p),s.pending=p}v!==0&&Ad(o,p,v)}}function Jo(e,l,o,s){Lt[Vl++]=e,Lt[Vl++]=l,Lt[Vl++]=o,Lt[Vl++]=s,$s|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ws(e,l,o,s){return Jo(e,l,o,s),Yo(e)}function rl(e,l){return Jo(e,null,null,l),Yo(e)}function Ad(e,l,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var p=!1,v=e.return;v!==null;)v.childLanes|=o,s=v.alternate,s!==null&&(s.childLanes|=o),v.tag===22&&(e=v.stateNode,e===null||e._visibility&1||(p=!0)),e=v,v=v.return;return e.tag===3?(v=e.stateNode,p&&l!==null&&(p=31-Et(o),e=v.hiddenUpdates,s=e[p],s===null?e[p]=[l]:s.push(l),l.lane=o|536870912),v):null}function Yo(e){if(50<lo)throw lo=0,su=null,Error(a(185));for(var l=e.return;l!==null;)e=l,l=e.return;return e.tag===3?e.stateNode:null}var Bl={};function Kv(e,l,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,l,o,s){return new Kv(e,l,o,s)}function Zs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rn(e,l){var o=e.alternate;return o===null?(o=Ct(e.tag,l,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=l,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,l=e.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Rd(e,l){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=l,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,l=o.dependencies,e.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),e}function Ko(e,l,o,s,p,v){var T=0;if(s=e,typeof e=="function")Zs(e)&&(T=1);else if(typeof e=="string")T=Zx(e,o,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Y:return e=Ct(31,o,l,p),e.elementType=Y,e.lanes=v,e;case _:return ul(o.children,p,v,l);case M:T=8,p|=24;break;case R:return e=Ct(12,o,l,p|2),e.elementType=R,e.lanes=v,e;case N:return e=Ct(13,o,l,p),e.elementType=N,e.lanes=v,e;case G:return e=Ct(19,o,l,p),e.elementType=G,e.lanes=v,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:T=10;break e;case j:T=9;break e;case D:T=11;break e;case z:T=14;break e;case Q:T=16,s=null;break e}T=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return l=Ct(T,o,l,p),l.elementType=e,l.type=s,l.lanes=v,l}function ul(e,l,o,s){return e=Ct(7,e,s,l),e.lanes=o,e}function er(e,l,o){return e=Ct(6,e,null,l),e.lanes=o,e}function Md(e){var l=Ct(18,null,null,0);return l.stateNode=e,l}function tr(e,l,o){return l=Ct(4,e.children!==null?e.children:[],e.key,l),l.lanes=o,l.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},l}var kd=new WeakMap;function Ht(e,l){if(typeof e=="object"&&e!==null){var o=kd.get(e);return o!==void 0?o:(l={value:e,source:l,stack:Mc(l)},kd.set(e,l),l)}return{value:e,source:l,stack:Mc(l)}}var zl=[],ql=0,Xo=null,Hi=0,Gt=[],Pt=0,Dn=null,Zt=1,en="";function un(e,l){zl[ql++]=Hi,zl[ql++]=Xo,Xo=e,Hi=l}function Dd(e,l,o){Gt[Pt++]=Zt,Gt[Pt++]=en,Gt[Pt++]=Dn,Dn=e;var s=Zt;e=en;var p=32-Et(s)-1;s&=~(1<<p),o+=1;var v=32-Et(l)+p;if(30<v){var T=p-p%5;v=(s&(1<<T)-1).toString(32),s>>=T,p-=T,Zt=1<<32-Et(l)+p|o<<p|s,en=v+e}else Zt=1<<v|o<<p|s,en=e}function nr(e){e.return!==null&&(un(e,1),Dd(e,1,0))}function lr(e){for(;e===Xo;)Xo=zl[--ql],zl[ql]=null,Hi=zl[--ql],zl[ql]=null;for(;e===Dn;)Dn=Gt[--Pt],Gt[Pt]=null,en=Gt[--Pt],Gt[Pt]=null,Zt=Gt[--Pt],Gt[Pt]=null}function Id(e,l){Gt[Pt++]=Zt,Gt[Pt++]=en,Gt[Pt++]=Dn,Zt=l.id,en=l.overflow,Dn=e}var it=null,Pe=null,Se=!1,In=null,Vt=!1,ir=Error(a(519));function Un(e){var l=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gi(Ht(l,e)),ir}function Ud(e){var l=e.stateNode,o=e.type,s=e.memoizedProps;switch(l[lt]=e,l[pt]=s,o){case"dialog":ye("cancel",l),ye("close",l);break;case"iframe":case"object":case"embed":ye("load",l);break;case"video":case"audio":for(o=0;o<oo.length;o++)ye(oo[o],l);break;case"source":ye("error",l);break;case"img":case"image":case"link":ye("error",l),ye("load",l);break;case"details":ye("toggle",l);break;case"input":ye("invalid",l),Yc(l,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ye("invalid",l);break;case"textarea":ye("invalid",l),Xc(l,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||l.textContent===""+o||s.suppressHydrationWarning===!0||Wh(l.textContent,o)?(s.popover!=null&&(ye("beforetoggle",l),ye("toggle",l)),s.onScroll!=null&&ye("scroll",l),s.onScrollEnd!=null&&ye("scrollend",l),s.onClick!=null&&(l.onclick=an),l=!0):l=!1,l||Un(e,!0)}function Ld(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:Vt=!1;return;case 27:case 3:Vt=!0;return;default:it=it.return}}function jl(e){if(e!==it)return!1;if(!Se)return Ld(e),Se=!0,!1;var l=e.tag,o;if((o=l!==3&&l!==27)&&((o=l===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Su(e.type,e.memoizedProps)),o=!o),o&&Pe&&Un(e),Ld(e),l===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Pe=sp(e)}else if(l===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Pe=sp(e)}else l===27?(l=Pe,Kn(e.type)?(e=wu,wu=null,Pe=e):Pe=l):Pe=it?zt(e.stateNode.nextSibling):null;return!0}function cl(){Pe=it=null,Se=!1}function or(){var e=In;return e!==null&&(yt===null?yt=e:yt.push.apply(yt,e),In=null),e}function Gi(e){In===null?In=[e]:In.push(e)}var ar=I(null),dl=null,cn=null;function Ln(e,l,o){te(ar,l._currentValue),l._currentValue=o}function dn(e){e._currentValue=ar.current,X(ar)}function sr(e,l,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&l)!==l?(e.childLanes|=l,s!==null&&(s.childLanes|=l)):s!==null&&(s.childLanes&l)!==l&&(s.childLanes|=l),e===o)break;e=e.return}}function rr(e,l,o,s){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var v=p.dependencies;if(v!==null){var T=p.child;v=v.firstContext;e:for(;v!==null;){var E=v;v=p;for(var A=0;A<l.length;A++)if(E.context===l[A]){v.lanes|=o,E=v.alternate,E!==null&&(E.lanes|=o),sr(v.return,o,e),s||(T=null);break e}v=E.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(a(341));T.lanes|=o,v=T.alternate,v!==null&&(v.lanes|=o),sr(T,o,e),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===e){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Ol(e,l,o,s){e=null;for(var p=l,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var E=p.type;Nt(p.pendingProps.value,T.value)||(e!==null?e.push(E):e=[E])}}else if(p===ve.current){if(T=p.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(co):e=[co])}p=p.return}e!==null&&rr(l,e,o,s),l.flags|=262144}function Qo(e){for(e=e.firstContext;e!==null;){if(!Nt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fl(e){dl=e,cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return Hd(dl,e)}function $o(e,l){return dl===null&&fl(e),Hd(e,l)}function Hd(e,l){var o=l._currentValue;if(l={context:l,memoizedValue:o,next:null},cn===null){if(e===null)throw Error(a(308));cn=l,e.dependencies={lanes:0,firstContext:l},e.flags|=524288}else cn=cn.next=l;return o}var Xv=typeof AbortController<"u"?AbortController:function(){var e=[],l=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){l.aborted=!0,e.forEach(function(o){return o()})}},Qv=n.unstable_scheduleCallback,$v=n.unstable_NormalPriority,Ye={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ur(){return{controller:new Xv,data:new Map,refCount:0}}function Pi(e){e.refCount--,e.refCount===0&&Qv($v,function(){e.controller.abort()})}var Vi=null,cr=0,Fl=0,Jl=null;function Wv(e,l){if(Vi===null){var o=Vi=[];cr=0,Fl=hu(),Jl={status:"pending",value:void 0,then:function(s){o.push(s)}}}return cr++,l.then(Gd,Gd),l}function Gd(){if(--cr===0&&Vi!==null){Jl!==null&&(Jl.status="fulfilled");var e=Vi;Vi=null,Fl=0,Jl=null;for(var l=0;l<e.length;l++)(0,e[l])()}}function Zv(e,l){var o=[],s={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return e.then(function(){s.status="fulfilled",s.value=l;for(var p=0;p<o.length;p++)(0,o[p])(l)},function(p){for(s.status="rejected",s.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),s}var Pd=q.S;q.S=function(e,l){Sh=Tt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&Wv(e,l),Pd!==null&&Pd(e,l)};var hl=I(null);function dr(){var e=hl.current;return e!==null?e:He.pooledCache}function Wo(e,l){l===null?te(hl,hl.current):te(hl,l.pool)}function Vd(){var e=dr();return e===null?null:{parent:Ye._currentValue,pool:e}}var Yl=Error(a(460)),fr=Error(a(474)),Zo=Error(a(542)),ea={then:function(){}};function Bd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zd(e,l,o){switch(o=e[o],o===void 0?e.push(l):o!==l&&(l.then(an,an),l=o),l.status){case"fulfilled":return l.value;case"rejected":throw e=l.reason,jd(e),e;default:if(typeof l.status=="string")l.then(an,an);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=l,e.status="pending",e.then(function(s){if(l.status==="pending"){var p=l;p.status="fulfilled",p.value=s}},function(s){if(l.status==="pending"){var p=l;p.status="rejected",p.reason=s}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw e=l.reason,jd(e),e}throw ml=l,Yl}}function pl(e){try{var l=e._init;return l(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ml=o,Yl):o}}var ml=null;function qd(){if(ml===null)throw Error(a(459));var e=ml;return ml=null,e}function jd(e){if(e===Yl||e===Zo)throw Error(a(483))}var Kl=null,Bi=0;function ta(e){var l=Bi;return Bi+=1,Kl===null&&(Kl=[]),zd(Kl,e,l)}function zi(e,l){l=l.props.ref,e.ref=l!==void 0?l:null}function na(e,l){throw l.$$typeof===S?Error(a(525)):(e=Object.prototype.toString.call(l),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":e)))}function Od(e){function l(L,k){if(e){var P=L.deletions;P===null?(L.deletions=[k],L.flags|=16):P.push(k)}}function o(L,k){if(!e)return null;for(;k!==null;)l(L,k),k=k.sibling;return null}function s(L){for(var k=new Map;L!==null;)L.key!==null?k.set(L.key,L):k.set(L.index,L),L=L.sibling;return k}function p(L,k){return L=rn(L,k),L.index=0,L.sibling=null,L}function v(L,k,P){return L.index=P,e?(P=L.alternate,P!==null?(P=P.index,P<k?(L.flags|=67108866,k):P):(L.flags|=67108866,k)):(L.flags|=1048576,k)}function T(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,k,P,J){return k===null||k.tag!==6?(k=er(P,L.mode,J),k.return=L,k):(k=p(k,P),k.return=L,k)}function A(L,k,P,J){var ce=P.type;return ce===_?F(L,k,P.props.children,J,P.key):k!==null&&(k.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Q&&pl(ce)===k.type)?(k=p(k,P.props),zi(k,P),k.return=L,k):(k=Ko(P.type,P.key,P.props,null,L.mode,J),zi(k,P),k.return=L,k)}function V(L,k,P,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==P.containerInfo||k.stateNode.implementation!==P.implementation?(k=tr(P,L.mode,J),k.return=L,k):(k=p(k,P.children||[]),k.return=L,k)}function F(L,k,P,J,ce){return k===null||k.tag!==7?(k=ul(P,L.mode,J,ce),k.return=L,k):(k=p(k,P),k.return=L,k)}function K(L,k,P){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=er(""+k,L.mode,P),k.return=L,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case C:return P=Ko(k.type,k.key,k.props,null,L.mode,P),zi(P,k),P.return=L,P;case w:return k=tr(k,L.mode,P),k.return=L,k;case Q:return k=pl(k),K(L,k,P)}if(ee(k)||ae(k))return k=ul(k,L.mode,P,null),k.return=L,k;if(typeof k.then=="function")return K(L,ta(k),P);if(k.$$typeof===H)return K(L,$o(L,k),P);na(L,k)}return null}function B(L,k,P,J){var ce=k!==null?k.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ce!==null?null:E(L,k,""+P,J);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case C:return P.key===ce?A(L,k,P,J):null;case w:return P.key===ce?V(L,k,P,J):null;case Q:return P=pl(P),B(L,k,P,J)}if(ee(P)||ae(P))return ce!==null?null:F(L,k,P,J,null);if(typeof P.then=="function")return B(L,k,ta(P),J);if(P.$$typeof===H)return B(L,k,$o(L,P),J);na(L,P)}return null}function O(L,k,P,J,ce){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(P)||null,E(k,L,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return L=L.get(J.key===null?P:J.key)||null,A(k,L,J,ce);case w:return L=L.get(J.key===null?P:J.key)||null,V(k,L,J,ce);case Q:return J=pl(J),O(L,k,P,J,ce)}if(ee(J)||ae(J))return L=L.get(P)||null,F(k,L,J,ce,null);if(typeof J.then=="function")return O(L,k,P,ta(J),ce);if(J.$$typeof===H)return O(L,k,P,$o(k,J),ce);na(k,J)}return null}function oe(L,k,P,J){for(var ce=null,Ne=null,se=k,ge=k=0,Te=null;se!==null&&ge<P.length;ge++){se.index>ge?(Te=se,se=null):Te=se.sibling;var Ce=B(L,se,P[ge],J);if(Ce===null){se===null&&(se=Te);break}e&&se&&Ce.alternate===null&&l(L,se),k=v(Ce,k,ge),Ne===null?ce=Ce:Ne.sibling=Ce,Ne=Ce,se=Te}if(ge===P.length)return o(L,se),Se&&un(L,ge),ce;if(se===null){for(;ge<P.length;ge++)se=K(L,P[ge],J),se!==null&&(k=v(se,k,ge),Ne===null?ce=se:Ne.sibling=se,Ne=se);return Se&&un(L,ge),ce}for(se=s(se);ge<P.length;ge++)Te=O(se,L,ge,P[ge],J),Te!==null&&(e&&Te.alternate!==null&&se.delete(Te.key===null?ge:Te.key),k=v(Te,k,ge),Ne===null?ce=Te:Ne.sibling=Te,Ne=Te);return e&&se.forEach(function(Zn){return l(L,Zn)}),Se&&un(L,ge),ce}function de(L,k,P,J){if(P==null)throw Error(a(151));for(var ce=null,Ne=null,se=k,ge=k=0,Te=null,Ce=P.next();se!==null&&!Ce.done;ge++,Ce=P.next()){se.index>ge?(Te=se,se=null):Te=se.sibling;var Zn=B(L,se,Ce.value,J);if(Zn===null){se===null&&(se=Te);break}e&&se&&Zn.alternate===null&&l(L,se),k=v(Zn,k,ge),Ne===null?ce=Zn:Ne.sibling=Zn,Ne=Zn,se=Te}if(Ce.done)return o(L,se),Se&&un(L,ge),ce;if(se===null){for(;!Ce.done;ge++,Ce=P.next())Ce=K(L,Ce.value,J),Ce!==null&&(k=v(Ce,k,ge),Ne===null?ce=Ce:Ne.sibling=Ce,Ne=Ce);return Se&&un(L,ge),ce}for(se=s(se);!Ce.done;ge++,Ce=P.next())Ce=O(se,L,ge,Ce.value,J),Ce!==null&&(e&&Ce.alternate!==null&&se.delete(Ce.key===null?ge:Ce.key),k=v(Ce,k,ge),Ne===null?ce=Ce:Ne.sibling=Ce,Ne=Ce);return e&&se.forEach(function(cy){return l(L,cy)}),Se&&un(L,ge),ce}function Le(L,k,P,J){if(typeof P=="object"&&P!==null&&P.type===_&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case C:e:{for(var ce=P.key;k!==null;){if(k.key===ce){if(ce=P.type,ce===_){if(k.tag===7){o(L,k.sibling),J=p(k,P.props.children),J.return=L,L=J;break e}}else if(k.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Q&&pl(ce)===k.type){o(L,k.sibling),J=p(k,P.props),zi(J,P),J.return=L,L=J;break e}o(L,k);break}else l(L,k);k=k.sibling}P.type===_?(J=ul(P.props.children,L.mode,J,P.key),J.return=L,L=J):(J=Ko(P.type,P.key,P.props,null,L.mode,J),zi(J,P),J.return=L,L=J)}return T(L);case w:e:{for(ce=P.key;k!==null;){if(k.key===ce)if(k.tag===4&&k.stateNode.containerInfo===P.containerInfo&&k.stateNode.implementation===P.implementation){o(L,k.sibling),J=p(k,P.children||[]),J.return=L,L=J;break e}else{o(L,k);break}else l(L,k);k=k.sibling}J=tr(P,L.mode,J),J.return=L,L=J}return T(L);case Q:return P=pl(P),Le(L,k,P,J)}if(ee(P))return oe(L,k,P,J);if(ae(P)){if(ce=ae(P),typeof ce!="function")throw Error(a(150));return P=ce.call(P),de(L,k,P,J)}if(typeof P.then=="function")return Le(L,k,ta(P),J);if(P.$$typeof===H)return Le(L,k,$o(L,P),J);na(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,k!==null&&k.tag===6?(o(L,k.sibling),J=p(k,P),J.return=L,L=J):(o(L,k),J=er(P,L.mode,J),J.return=L,L=J),T(L)):o(L,k)}return function(L,k,P,J){try{Bi=0;var ce=Le(L,k,P,J);return Kl=null,ce}catch(se){if(se===Yl||se===Zo)throw se;var Ne=Ct(29,se,null,L.mode);return Ne.lanes=J,Ne.return=L,Ne}finally{}}}var gl=Od(!0),Fd=Od(!1),Hn=!1;function hr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pr(e,l){e=e.updateQueue,l.updateQueue===e&&(l.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Pn(e,l,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(we&2)!==0){var p=s.pending;return p===null?l.next=l:(l.next=p.next,p.next=l),s.pending=l,l=Yo(e),Ad(e,null,o),l}return Jo(e,s,l,o),Yo(e)}function qi(e,l,o){if(l=l.updateQueue,l!==null&&(l=l.shared,(o&4194048)!==0)){var s=l.lanes;s&=e.pendingLanes,o|=s,l.lanes=o,Hc(e,o)}}function mr(e,l){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var p=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?p=v=T:v=v.next=T,o=o.next}while(o!==null);v===null?p=v=l:v=v.next=l}else p=v=l;o={baseState:s.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=l:e.next=l,o.lastBaseUpdate=l}var gr=!1;function ji(){if(gr){var e=Jl;if(e!==null)throw e}}function Oi(e,l,o,s){gr=!1;var p=e.updateQueue;Hn=!1;var v=p.firstBaseUpdate,T=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var A=E,V=A.next;A.next=null,T===null?v=V:T.next=V,T=A;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==T&&(E===null?F.firstBaseUpdate=V:E.next=V,F.lastBaseUpdate=A))}if(v!==null){var K=p.baseState;T=0,F=V=A=null,E=v;do{var B=E.lane&-536870913,O=B!==E.lane;if(O?(be&B)===B:(s&B)===B){B!==0&&B===Fl&&(gr=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=e,de=E;B=l;var Le=o;switch(de.tag){case 1:if(oe=de.payload,typeof oe=="function"){K=oe.call(Le,K,B);break e}K=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=de.payload,B=typeof oe=="function"?oe.call(Le,K,B):oe,B==null)break e;K=b({},K,B);break e;case 2:Hn=!0}}B=E.callback,B!==null&&(e.flags|=64,O&&(e.flags|=8192),O=p.callbacks,O===null?p.callbacks=[B]:O.push(B))}else O={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(V=F=O,A=K):F=F.next=O,T|=B;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;O=E,E=O.next,O.next=null,p.lastBaseUpdate=O,p.shared.pending=null}}while(!0);F===null&&(A=K),p.baseState=A,p.firstBaseUpdate=V,p.lastBaseUpdate=F,v===null&&(p.shared.lanes=0),jn|=T,e.lanes=T,e.memoizedState=K}}function Jd(e,l){if(typeof e!="function")throw Error(a(191,e));e.call(l)}function Yd(e,l){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Jd(o[e],l)}var Xl=I(null),la=I(0);function Kd(e,l){e=bn,te(la,e),te(Xl,l),bn=e|l.baseLanes}function vr(){te(la,bn),te(Xl,Xl.current)}function xr(){bn=la.current,X(Xl),X(la)}var _t=I(null),Bt=null;function Vn(e){var l=e.alternate;te(Fe,Fe.current&1),te(_t,e),Bt===null&&(l===null||Xl.current!==null||l.memoizedState!==null)&&(Bt=e)}function yr(e){te(Fe,Fe.current),te(_t,e),Bt===null&&(Bt=e)}function Xd(e){e.tag===22?(te(Fe,Fe.current),te(_t,e),Bt===null&&(Bt=e)):Bn()}function Bn(){te(Fe,Fe.current),te(_t,_t.current)}function wt(e){X(_t),Bt===e&&(Bt=null),X(Fe)}var Fe=I(0);function ia(e){for(var l=e;l!==null;){if(l.tag===13){var o=l.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Cu(o)||_u(o)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break;for(;l.sibling===null;){if(l.return===null||l.return===e)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var fn=0,me=null,Ie=null,Ke=null,oa=!1,Ql=!1,vl=!1,aa=0,Fi=0,$l=null,ex=0;function qe(){throw Error(a(321))}function br(e,l){if(l===null)return!1;for(var o=0;o<l.length&&o<e.length;o++)if(!Nt(e[o],l[o]))return!1;return!0}function Tr(e,l,o,s,p,v){return fn=v,me=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,q.H=e===null||e.memoizedState===null?If:Hr,vl=!1,v=o(s,p),vl=!1,Ql&&(v=$d(l,o,s,p)),Qd(e),v}function Qd(e){q.H=Ki;var l=Ie!==null&&Ie.next!==null;if(fn=0,Ke=Ie=me=null,oa=!1,Fi=0,$l=null,l)throw Error(a(300));e===null||Xe||(e=e.dependencies,e!==null&&Qo(e)&&(Xe=!0))}function $d(e,l,o,s){me=e;var p=0;do{if(Ql&&($l=null),Fi=0,Ql=!1,25<=p)throw Error(a(301));if(p+=1,Ke=Ie=null,e.updateQueue!=null){var v=e.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}q.H=Uf,v=l(o,s)}while(Ql);return v}function tx(){var e=q.H,l=e.useState()[0];return l=typeof l.then=="function"?Ji(l):l,e=e.useState()[0],(Ie!==null?Ie.memoizedState:null)!==e&&(me.flags|=1024),l}function Sr(){var e=aa!==0;return aa=0,e}function Er(e,l,o){l.updateQueue=e.updateQueue,l.flags&=-2053,e.lanes&=~o}function Nr(e){if(oa){for(e=e.memoizedState;e!==null;){var l=e.queue;l!==null&&(l.pending=null),e=e.next}oa=!1}fn=0,Ke=Ie=me=null,Ql=!1,Fi=aa=0,$l=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?me.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Je(){if(Ie===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var l=Ke===null?me.memoizedState:Ke.next;if(l!==null)Ke=l,Ie=e;else{if(e===null)throw me.alternate===null?Error(a(467)):Error(a(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Ke===null?me.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function sa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ji(e){var l=Fi;return Fi+=1,$l===null&&($l=[]),e=zd($l,e,l),l=me,(Ke===null?l.memoizedState:Ke.next)===null&&(l=l.alternate,q.H=l===null||l.memoizedState===null?If:Hr),e}function ra(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ji(e);if(e.$$typeof===H)return ot(e)}throw Error(a(438,String(e)))}function Cr(e){var l=null,o=me.updateQueue;if(o!==null&&(l=o.memoCache),l==null){var s=me.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(l={data:s.data.map(function(p){return p.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),o===null&&(o=sa(),me.updateQueue=o),o.memoCache=l,o=l.data[l.index],o===void 0)for(o=l.data[l.index]=Array(e),s=0;s<e;s++)o[s]=le;return l.index++,o}function hn(e,l){return typeof l=="function"?l(e):l}function ua(e){var l=Je();return _r(l,Ie,e)}function _r(e,l,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var p=e.baseQueue,v=s.pending;if(v!==null){if(p!==null){var T=p.next;p.next=v.next,v.next=T}l.baseQueue=p=v,s.pending=null}if(v=e.baseState,p===null)e.memoizedState=v;else{l=p.next;var E=T=null,A=null,V=l,F=!1;do{var K=V.lane&-536870913;if(K!==V.lane?(be&K)===K:(fn&K)===K){var B=V.revertLane;if(B===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),K===Fl&&(F=!0);else if((fn&B)===B){V=V.next,B===Fl&&(F=!0);continue}else K={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},A===null?(E=A=K,T=v):A=A.next=K,me.lanes|=B,jn|=B;K=V.action,vl&&o(v,K),v=V.hasEagerState?V.eagerState:o(v,K)}else B={lane:K,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},A===null?(E=A=B,T=v):A=A.next=B,me.lanes|=K,jn|=K;V=V.next}while(V!==null&&V!==l);if(A===null?T=v:A.next=E,!Nt(v,e.memoizedState)&&(Xe=!0,F&&(o=Jl,o!==null)))throw o;e.memoizedState=v,e.baseState=T,e.baseQueue=A,s.lastRenderedState=v}return p===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function wr(e){var l=Je(),o=l.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,p=o.pending,v=l.memoizedState;if(p!==null){o.pending=null;var T=p=p.next;do v=e(v,T.action),T=T.next;while(T!==p);Nt(v,l.memoizedState)||(Xe=!0),l.memoizedState=v,l.baseQueue===null&&(l.baseState=v),o.lastRenderedState=v}return[v,s]}function Wd(e,l,o){var s=me,p=Je(),v=Se;if(v){if(o===void 0)throw Error(a(407));o=o()}else o=l();var T=!Nt((Ie||p).memoizedState,o);if(T&&(p.memoizedState=o,Xe=!0),p=p.queue,Mr(tf.bind(null,s,p,e),[e]),p.getSnapshot!==l||T||Ke!==null&&Ke.memoizedState.tag&1){if(s.flags|=2048,Wl(9,{destroy:void 0},ef.bind(null,s,p,o,l),null),He===null)throw Error(a(349));v||(fn&127)!==0||Zd(s,l,o)}return o}function Zd(e,l,o){e.flags|=16384,e={getSnapshot:l,value:o},l=me.updateQueue,l===null?(l=sa(),me.updateQueue=l,l.stores=[e]):(o=l.stores,o===null?l.stores=[e]:o.push(e))}function ef(e,l,o,s){l.value=o,l.getSnapshot=s,nf(l)&&lf(e)}function tf(e,l,o){return o(function(){nf(l)&&lf(e)})}function nf(e){var l=e.getSnapshot;e=e.value;try{var o=l();return!Nt(e,o)}catch{return!0}}function lf(e){var l=rl(e,2);l!==null&&bt(l,e,2)}function Ar(e){var l=dt();if(typeof e=="function"){var o=e;if(e=o(),vl){Rn(!0);try{o()}finally{Rn(!1)}}}return l.memoizedState=l.baseState=e,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:e},l}function of(e,l,o,s){return e.baseState=o,_r(e,Ie,typeof s=="function"?s:hn)}function nx(e,l,o,s,p){if(fa(e))throw Error(a(485));if(e=l.action,e!==null){var v={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){v.listeners.push(T)}};q.T!==null?o(!0):v.isTransition=!1,s(v),o=l.pending,o===null?(v.next=l.pending=v,af(l,v)):(v.next=o.next,l.pending=o.next=v)}}function af(e,l){var o=l.action,s=l.payload,p=e.state;if(l.isTransition){var v=q.T,T={};q.T=T;try{var E=o(p,s),A=q.S;A!==null&&A(T,E),sf(e,l,E)}catch(V){Rr(e,l,V)}finally{v!==null&&T.types!==null&&(v.types=T.types),q.T=v}}else try{v=o(p,s),sf(e,l,v)}catch(V){Rr(e,l,V)}}function sf(e,l,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){rf(e,l,s)},function(s){return Rr(e,l,s)}):rf(e,l,o)}function rf(e,l,o){l.status="fulfilled",l.value=o,uf(l),e.state=o,l=e.pending,l!==null&&(o=l.next,o===l?e.pending=null:(o=o.next,l.next=o,af(e,o)))}function Rr(e,l,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do l.status="rejected",l.reason=o,uf(l),l=l.next;while(l!==s)}e.action=null}function uf(e){e=e.listeners;for(var l=0;l<e.length;l++)(0,e[l])()}function cf(e,l){return l}function df(e,l){if(Se){var o=He.formState;if(o!==null){e:{var s=me;if(Se){if(Pe){t:{for(var p=Pe,v=Vt;p.nodeType!==8;){if(!v){p=null;break t}if(p=zt(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Pe=zt(p.nextSibling),s=p.data==="F!";break e}}Un(s)}s=!1}s&&(l=o[0])}}return o=dt(),o.memoizedState=o.baseState=l,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cf,lastRenderedState:l},o.queue=s,o=Mf.bind(null,me,s),s.dispatch=o,s=Ar(!1),v=Lr.bind(null,me,!1,s.queue),s=dt(),p={state:l,dispatch:null,action:e,pending:null},s.queue=p,o=nx.bind(null,me,p,v,o),p.dispatch=o,s.memoizedState=e,[l,o,!1]}function ff(e){var l=Je();return hf(l,Ie,e)}function hf(e,l,o){if(l=_r(e,l,cf)[0],e=ua(hn)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var s=Ji(l)}catch(T){throw T===Yl?Zo:T}else s=l;l=Je();var p=l.queue,v=p.dispatch;return o!==l.memoizedState&&(me.flags|=2048,Wl(9,{destroy:void 0},lx.bind(null,p,o),null)),[s,v,e]}function lx(e,l){e.action=l}function pf(e){var l=Je(),o=Ie;if(o!==null)return hf(l,o,e);Je(),l=l.memoizedState,o=Je();var s=o.queue.dispatch;return o.memoizedState=e,[l,s,!1]}function Wl(e,l,o,s){return e={tag:e,create:o,deps:s,inst:l,next:null},l=me.updateQueue,l===null&&(l=sa(),me.updateQueue=l),o=l.lastEffect,o===null?l.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,l.lastEffect=e),e}function mf(){return Je().memoizedState}function ca(e,l,o,s){var p=dt();me.flags|=e,p.memoizedState=Wl(1|l,{destroy:void 0},o,s===void 0?null:s)}function da(e,l,o,s){var p=Je();s=s===void 0?null:s;var v=p.memoizedState.inst;Ie!==null&&s!==null&&br(s,Ie.memoizedState.deps)?p.memoizedState=Wl(l,v,o,s):(me.flags|=e,p.memoizedState=Wl(1|l,v,o,s))}function gf(e,l){ca(8390656,8,e,l)}function Mr(e,l){da(2048,8,e,l)}function ix(e){me.flags|=4;var l=me.updateQueue;if(l===null)l=sa(),me.updateQueue=l,l.events=[e];else{var o=l.events;o===null?l.events=[e]:o.push(e)}}function vf(e){var l=Je().memoizedState;return ix({ref:l,nextImpl:e}),function(){if((we&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}function xf(e,l){return da(4,2,e,l)}function yf(e,l){return da(4,4,e,l)}function bf(e,l){if(typeof l=="function"){e=e();var o=l(e);return function(){typeof o=="function"?o():l(null)}}if(l!=null)return e=e(),l.current=e,function(){l.current=null}}function Tf(e,l,o){o=o!=null?o.concat([e]):null,da(4,4,bf.bind(null,l,e),o)}function kr(){}function Sf(e,l){var o=Je();l=l===void 0?null:l;var s=o.memoizedState;return l!==null&&br(l,s[1])?s[0]:(o.memoizedState=[e,l],e)}function Ef(e,l){var o=Je();l=l===void 0?null:l;var s=o.memoizedState;if(l!==null&&br(l,s[1]))return s[0];if(s=e(),vl){Rn(!0);try{e()}finally{Rn(!1)}}return o.memoizedState=[s,l],s}function Dr(e,l,o){return o===void 0||(fn&1073741824)!==0&&(be&261930)===0?e.memoizedState=l:(e.memoizedState=o,e=Nh(),me.lanes|=e,jn|=e,o)}function Nf(e,l,o,s){return Nt(o,l)?o:Xl.current!==null?(e=Dr(e,o,s),Nt(e,l)||(Xe=!0),e):(fn&42)===0||(fn&1073741824)!==0&&(be&261930)===0?(Xe=!0,e.memoizedState=o):(e=Nh(),me.lanes|=e,jn|=e,l)}function Cf(e,l,o,s,p){var v=Z.p;Z.p=v!==0&&8>v?v:8;var T=q.T,E={};q.T=E,Lr(e,!1,l,o);try{var A=p(),V=q.S;if(V!==null&&V(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var F=Zv(A,s);Yi(e,l,F,Mt(e))}else Yi(e,l,s,Mt(e))}catch(K){Yi(e,l,{then:function(){},status:"rejected",reason:K},Mt())}finally{Z.p=v,T!==null&&E.types!==null&&(T.types=E.types),q.T=T}}function ox(){}function Ir(e,l,o,s){if(e.tag!==5)throw Error(a(476));var p=_f(e).queue;Cf(e,p,l,re,o===null?ox:function(){return wf(e),o(s)})}function _f(e){var l=e.memoizedState;if(l!==null)return l;l={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:re},next:null};var o={};return l.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:o},next:null},e.memoizedState=l,e=e.alternate,e!==null&&(e.memoizedState=l),l}function wf(e){var l=_f(e);l.next===null&&(l=e.alternate.memoizedState),Yi(e,l.next.queue,{},Mt())}function Ur(){return ot(co)}function Af(){return Je().memoizedState}function Rf(){return Je().memoizedState}function ax(e){for(var l=e.return;l!==null;){switch(l.tag){case 24:case 3:var o=Mt();e=Gn(o);var s=Pn(l,e,o);s!==null&&(bt(s,l,o),qi(s,l,o)),l={cache:ur()},e.payload=l;return}l=l.return}}function sx(e,l,o){var s=Mt();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},fa(e)?kf(l,o):(o=Ws(e,l,o,s),o!==null&&(bt(o,e,s),Df(o,l,s)))}function Mf(e,l,o){var s=Mt();Yi(e,l,o,s)}function Yi(e,l,o,s){var p={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(fa(e))kf(l,p);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=l.lastRenderedReducer,v!==null))try{var T=l.lastRenderedState,E=v(T,o);if(p.hasEagerState=!0,p.eagerState=E,Nt(E,T))return Jo(e,l,p,0),He===null&&Fo(),!1}catch{}finally{}if(o=Ws(e,l,p,s),o!==null)return bt(o,e,s),Df(o,l,s),!0}return!1}function Lr(e,l,o,s){if(s={lane:2,revertLane:hu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},fa(e)){if(l)throw Error(a(479))}else l=Ws(e,o,s,2),l!==null&&bt(l,e,2)}function fa(e){var l=e.alternate;return e===me||l!==null&&l===me}function kf(e,l){Ql=oa=!0;var o=e.pending;o===null?l.next=l:(l.next=o.next,o.next=l),e.pending=l}function Df(e,l,o){if((o&4194048)!==0){var s=l.lanes;s&=e.pendingLanes,o|=s,l.lanes=o,Hc(e,o)}}var Ki={readContext:ot,use:ra,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe};Ki.useEffectEvent=qe;var If={readContext:ot,use:ra,useCallback:function(e,l){return dt().memoizedState=[e,l===void 0?null:l],e},useContext:ot,useEffect:gf,useImperativeHandle:function(e,l,o){o=o!=null?o.concat([e]):null,ca(4194308,4,bf.bind(null,l,e),o)},useLayoutEffect:function(e,l){return ca(4194308,4,e,l)},useInsertionEffect:function(e,l){ca(4,2,e,l)},useMemo:function(e,l){var o=dt();l=l===void 0?null:l;var s=e();if(vl){Rn(!0);try{e()}finally{Rn(!1)}}return o.memoizedState=[s,l],s},useReducer:function(e,l,o){var s=dt();if(o!==void 0){var p=o(l);if(vl){Rn(!0);try{o(l)}finally{Rn(!1)}}}else p=l;return s.memoizedState=s.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},s.queue=e,e=e.dispatch=sx.bind(null,me,e),[s.memoizedState,e]},useRef:function(e){var l=dt();return e={current:e},l.memoizedState=e},useState:function(e){e=Ar(e);var l=e.queue,o=Mf.bind(null,me,l);return l.dispatch=o,[e.memoizedState,o]},useDebugValue:kr,useDeferredValue:function(e,l){var o=dt();return Dr(o,e,l)},useTransition:function(){var e=Ar(!1);return e=Cf.bind(null,me,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,l,o){var s=me,p=dt();if(Se){if(o===void 0)throw Error(a(407));o=o()}else{if(o=l(),He===null)throw Error(a(349));(be&127)!==0||Zd(s,l,o)}p.memoizedState=o;var v={value:o,getSnapshot:l};return p.queue=v,gf(tf.bind(null,s,v,e),[e]),s.flags|=2048,Wl(9,{destroy:void 0},ef.bind(null,s,v,o,l),null),o},useId:function(){var e=dt(),l=He.identifierPrefix;if(Se){var o=en,s=Zt;o=(s&~(1<<32-Et(s)-1)).toString(32)+o,l="_"+l+"R_"+o,o=aa++,0<o&&(l+="H"+o.toString(32)),l+="_"}else o=ex++,l="_"+l+"r_"+o.toString(32)+"_";return e.memoizedState=l},useHostTransitionStatus:Ur,useFormState:df,useActionState:df,useOptimistic:function(e){var l=dt();l.memoizedState=l.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=o,l=Lr.bind(null,me,!0,o),o.dispatch=l,[e,l]},useMemoCache:Cr,useCacheRefresh:function(){return dt().memoizedState=ax.bind(null,me)},useEffectEvent:function(e){var l=dt(),o={impl:e};return l.memoizedState=o,function(){if((we&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Hr={readContext:ot,use:ra,useCallback:Sf,useContext:ot,useEffect:Mr,useImperativeHandle:Tf,useInsertionEffect:xf,useLayoutEffect:yf,useMemo:Ef,useReducer:ua,useRef:mf,useState:function(){return ua(hn)},useDebugValue:kr,useDeferredValue:function(e,l){var o=Je();return Nf(o,Ie.memoizedState,e,l)},useTransition:function(){var e=ua(hn)[0],l=Je().memoizedState;return[typeof e=="boolean"?e:Ji(e),l]},useSyncExternalStore:Wd,useId:Af,useHostTransitionStatus:Ur,useFormState:ff,useActionState:ff,useOptimistic:function(e,l){var o=Je();return of(o,Ie,e,l)},useMemoCache:Cr,useCacheRefresh:Rf};Hr.useEffectEvent=vf;var Uf={readContext:ot,use:ra,useCallback:Sf,useContext:ot,useEffect:Mr,useImperativeHandle:Tf,useInsertionEffect:xf,useLayoutEffect:yf,useMemo:Ef,useReducer:wr,useRef:mf,useState:function(){return wr(hn)},useDebugValue:kr,useDeferredValue:function(e,l){var o=Je();return Ie===null?Dr(o,e,l):Nf(o,Ie.memoizedState,e,l)},useTransition:function(){var e=wr(hn)[0],l=Je().memoizedState;return[typeof e=="boolean"?e:Ji(e),l]},useSyncExternalStore:Wd,useId:Af,useHostTransitionStatus:Ur,useFormState:pf,useActionState:pf,useOptimistic:function(e,l){var o=Je();return Ie!==null?of(o,Ie,e,l):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Cr,useCacheRefresh:Rf};Uf.useEffectEvent=vf;function Gr(e,l,o,s){l=e.memoizedState,o=o(s,l),o=o==null?l:b({},l,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Pr={enqueueSetState:function(e,l,o){e=e._reactInternals;var s=Mt(),p=Gn(s);p.payload=l,o!=null&&(p.callback=o),l=Pn(e,p,s),l!==null&&(bt(l,e,s),qi(l,e,s))},enqueueReplaceState:function(e,l,o){e=e._reactInternals;var s=Mt(),p=Gn(s);p.tag=1,p.payload=l,o!=null&&(p.callback=o),l=Pn(e,p,s),l!==null&&(bt(l,e,s),qi(l,e,s))},enqueueForceUpdate:function(e,l){e=e._reactInternals;var o=Mt(),s=Gn(o);s.tag=2,l!=null&&(s.callback=l),l=Pn(e,s,o),l!==null&&(bt(l,e,o),qi(l,e,o))}};function Lf(e,l,o,s,p,v,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,v,T):l.prototype&&l.prototype.isPureReactComponent?!Ui(o,s)||!Ui(p,v):!0}function Hf(e,l,o,s){e=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(o,s),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(o,s),l.state!==e&&Pr.enqueueReplaceState(l,l.state,null)}function xl(e,l){var o=l;if("ref"in l){o={};for(var s in l)s!=="ref"&&(o[s]=l[s])}if(e=e.defaultProps){o===l&&(o=b({},o));for(var p in e)o[p]===void 0&&(o[p]=e[p])}return o}function Gf(e){Oo(e)}function Pf(e){console.error(e)}function Vf(e){Oo(e)}function ha(e,l){try{var o=e.onUncaughtError;o(l.value,{componentStack:l.stack})}catch(s){setTimeout(function(){throw s})}}function Bf(e,l,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Vr(e,l,o){return o=Gn(o),o.tag=3,o.payload={element:null},o.callback=function(){ha(e,l)},o}function zf(e){return e=Gn(e),e.tag=3,e}function qf(e,l,o,s){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var v=s.value;e.payload=function(){return p(v)},e.callback=function(){Bf(l,o,s)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Bf(l,o,s),typeof p!="function"&&(On===null?On=new Set([this]):On.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})})}function rx(e,l,o,s,p){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(l=o.alternate,l!==null&&Ol(l,o,p,!0),o=_t.current,o!==null){switch(o.tag){case 31:case 13:return Bt===null?Ca():o.alternate===null&&je===0&&(je=3),o.flags&=-257,o.flags|=65536,o.lanes=p,s===ea?o.flags|=16384:(l=o.updateQueue,l===null?o.updateQueue=new Set([s]):l.add(s),cu(e,s,p)),!1;case 22:return o.flags|=65536,s===ea?o.flags|=16384:(l=o.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=l):(o=l.retryQueue,o===null?l.retryQueue=new Set([s]):o.add(s)),cu(e,s,p)),!1}throw Error(a(435,o.tag))}return cu(e,s,p),Ca(),!1}if(Se)return l=_t.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=p,s!==ir&&(e=Error(a(422),{cause:s}),Gi(Ht(e,o)))):(s!==ir&&(l=Error(a(423),{cause:s}),Gi(Ht(l,o))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,s=Ht(s,o),p=Vr(e.stateNode,s,p),mr(e,p),je!==4&&(je=2)),!1;var v=Error(a(520),{cause:s});if(v=Ht(v,o),no===null?no=[v]:no.push(v),je!==4&&(je=2),l===null)return!0;s=Ht(s,o),o=l;do{switch(o.tag){case 3:return o.flags|=65536,e=p&-p,o.lanes|=e,e=Vr(o.stateNode,s,e),mr(o,e),!1;case 1:if(l=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(On===null||!On.has(v))))return o.flags|=65536,p&=-p,o.lanes|=p,p=zf(p),qf(p,e,o,s),mr(o,p),!1}o=o.return}while(o!==null);return!1}var Br=Error(a(461)),Xe=!1;function at(e,l,o,s){l.child=e===null?Fd(l,null,o,s):gl(l,e.child,o,s)}function jf(e,l,o,s,p){o=o.render;var v=l.ref;if("ref"in s){var T={};for(var E in s)E!=="ref"&&(T[E]=s[E])}else T=s;return fl(l),s=Tr(e,l,o,T,v,p),E=Sr(),e!==null&&!Xe?(Er(e,l,p),pn(e,l,p)):(Se&&E&&nr(l),l.flags|=1,at(e,l,s,p),l.child)}function Of(e,l,o,s,p){if(e===null){var v=o.type;return typeof v=="function"&&!Zs(v)&&v.defaultProps===void 0&&o.compare===null?(l.tag=15,l.type=v,Ff(e,l,v,s,p)):(e=Ko(o.type,null,s,l,l.mode,p),e.ref=l.ref,e.return=l,l.child=e)}if(v=e.child,!Kr(e,p)){var T=v.memoizedProps;if(o=o.compare,o=o!==null?o:Ui,o(T,s)&&e.ref===l.ref)return pn(e,l,p)}return l.flags|=1,e=rn(v,s),e.ref=l.ref,e.return=l,l.child=e}function Ff(e,l,o,s,p){if(e!==null){var v=e.memoizedProps;if(Ui(v,s)&&e.ref===l.ref)if(Xe=!1,l.pendingProps=s=v,Kr(e,p))(e.flags&131072)!==0&&(Xe=!0);else return l.lanes=e.lanes,pn(e,l,p)}return zr(e,l,o,s,p)}function Jf(e,l,o,s){var p=s.children,v=e!==null?e.memoizedState:null;if(e===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((l.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,e!==null){for(s=l.child=e.child,p=0;s!==null;)p=p|s.lanes|s.childLanes,s=s.sibling;s=p&~v}else s=0,l.child=null;return Yf(e,l,v,o,s)}if((o&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wo(l,v!==null?v.cachePool:null),v!==null?Kd(l,v):vr(),Xd(l);else return s=l.lanes=536870912,Yf(e,l,v!==null?v.baseLanes|o:o,o,s)}else v!==null?(Wo(l,v.cachePool),Kd(l,v),Bn(),l.memoizedState=null):(e!==null&&Wo(l,null),vr(),Bn());return at(e,l,p,o),l.child}function Xi(e,l){return e!==null&&e.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function Yf(e,l,o,s,p){var v=dr();return v=v===null?null:{parent:Ye._currentValue,pool:v},l.memoizedState={baseLanes:o,cachePool:v},e!==null&&Wo(l,null),vr(),Xd(l),e!==null&&Ol(e,l,s,!0),l.childLanes=p,null}function pa(e,l){return l=ga({mode:l.mode,children:l.children},e.mode),l.ref=e.ref,e.child=l,l.return=e,l}function Kf(e,l,o){return gl(l,e.child,null,o),e=pa(l,l.pendingProps),e.flags|=2,wt(l),l.memoizedState=null,e}function ux(e,l,o){var s=l.pendingProps,p=(l.flags&128)!==0;if(l.flags&=-129,e===null){if(Se){if(s.mode==="hidden")return e=pa(l,s),l.lanes=536870912,Xi(null,e);if(yr(l),(e=Pe)?(e=ap(e,Vt),e=e!==null&&e.data==="&"?e:null,e!==null&&(l.memoizedState={dehydrated:e,treeContext:Dn!==null?{id:Zt,overflow:en}:null,retryLane:536870912,hydrationErrors:null},o=Md(e),o.return=l,l.child=o,it=l,Pe=null)):e=null,e===null)throw Un(l);return l.lanes=536870912,null}return pa(l,s)}var v=e.memoizedState;if(v!==null){var T=v.dehydrated;if(yr(l),p)if(l.flags&256)l.flags&=-257,l=Kf(e,l,o);else if(l.memoizedState!==null)l.child=e.child,l.flags|=128,l=null;else throw Error(a(558));else if(Xe||Ol(e,l,o,!1),p=(o&e.childLanes)!==0,Xe||p){if(s=He,s!==null&&(T=Gc(s,o),T!==0&&T!==v.retryLane))throw v.retryLane=T,rl(e,T),bt(s,e,T),Br;Ca(),l=Kf(e,l,o)}else e=v.treeContext,Pe=zt(T.nextSibling),it=l,Se=!0,In=null,Vt=!1,e!==null&&Id(l,e),l=pa(l,s),l.flags|=4096;return l}return e=rn(e.child,{mode:s.mode,children:s.children}),e.ref=l.ref,l.child=e,e.return=l,e}function ma(e,l){var o=l.ref;if(o===null)e!==null&&e.ref!==null&&(l.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(l.flags|=4194816)}}function zr(e,l,o,s,p){return fl(l),o=Tr(e,l,o,s,void 0,p),s=Sr(),e!==null&&!Xe?(Er(e,l,p),pn(e,l,p)):(Se&&s&&nr(l),l.flags|=1,at(e,l,o,p),l.child)}function Xf(e,l,o,s,p,v){return fl(l),l.updateQueue=null,o=$d(l,s,o,p),Qd(e),s=Sr(),e!==null&&!Xe?(Er(e,l,v),pn(e,l,v)):(Se&&s&&nr(l),l.flags|=1,at(e,l,o,v),l.child)}function Qf(e,l,o,s,p){if(fl(l),l.stateNode===null){var v=Bl,T=o.contextType;typeof T=="object"&&T!==null&&(v=ot(T)),v=new o(s,v),l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Pr,l.stateNode=v,v._reactInternals=l,v=l.stateNode,v.props=s,v.state=l.memoizedState,v.refs={},hr(l),T=o.contextType,v.context=typeof T=="object"&&T!==null?ot(T):Bl,v.state=l.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Gr(l,o,T,s),v.state=l.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(T=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),T!==v.state&&Pr.enqueueReplaceState(v,v.state,null),Oi(l,s,v,p),ji(),v.state=l.memoizedState),typeof v.componentDidMount=="function"&&(l.flags|=4194308),s=!0}else if(e===null){v=l.stateNode;var E=l.memoizedProps,A=xl(o,E);v.props=A;var V=v.context,F=o.contextType;T=Bl,typeof F=="object"&&F!==null&&(T=ot(F));var K=o.getDerivedStateFromProps;F=typeof K=="function"||typeof v.getSnapshotBeforeUpdate=="function",E=l.pendingProps!==E,F||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E||V!==T)&&Hf(l,v,s,T),Hn=!1;var B=l.memoizedState;v.state=B,Oi(l,s,v,p),ji(),V=l.memoizedState,E||B!==V||Hn?(typeof K=="function"&&(Gr(l,o,K,s),V=l.memoizedState),(A=Hn||Lf(l,o,A,s,B,V,T))?(F||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(l.flags|=4194308)):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=s,l.memoizedState=V),v.props=s,v.state=V,v.context=T,s=A):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),s=!1)}else{v=l.stateNode,pr(e,l),T=l.memoizedProps,F=xl(o,T),v.props=F,K=l.pendingProps,B=v.context,V=o.contextType,A=Bl,typeof V=="object"&&V!==null&&(A=ot(V)),E=o.getDerivedStateFromProps,(V=typeof E=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==K||B!==A)&&Hf(l,v,s,A),Hn=!1,B=l.memoizedState,v.state=B,Oi(l,s,v,p),ji();var O=l.memoizedState;T!==K||B!==O||Hn||e!==null&&e.dependencies!==null&&Qo(e.dependencies)?(typeof E=="function"&&(Gr(l,o,E,s),O=l.memoizedState),(F=Hn||Lf(l,o,F,s,B,O,A)||e!==null&&e.dependencies!==null&&Qo(e.dependencies))?(V||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(s,O,A),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(s,O,A)),typeof v.componentDidUpdate=="function"&&(l.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===e.memoizedProps&&B===e.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&B===e.memoizedState||(l.flags|=1024),l.memoizedProps=s,l.memoizedState=O),v.props=s,v.state=O,v.context=A,s=F):(typeof v.componentDidUpdate!="function"||T===e.memoizedProps&&B===e.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&B===e.memoizedState||(l.flags|=1024),s=!1)}return v=s,ma(e,l),s=(l.flags&128)!==0,v||s?(v=l.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:v.render(),l.flags|=1,e!==null&&s?(l.child=gl(l,e.child,null,p),l.child=gl(l,null,o,p)):at(e,l,o,p),l.memoizedState=v.state,e=l.child):e=pn(e,l,p),e}function $f(e,l,o,s){return cl(),l.flags|=256,at(e,l,o,s),l.child}var qr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jr(e){return{baseLanes:e,cachePool:Vd()}}function Or(e,l,o){return e=e!==null?e.childLanes&~o:0,l&&(e|=Rt),e}function Wf(e,l,o){var s=l.pendingProps,p=!1,v=(l.flags&128)!==0,T;if((T=v)||(T=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),T&&(p=!0,l.flags&=-129),T=(l.flags&32)!==0,l.flags&=-33,e===null){if(Se){if(p?Vn(l):Bn(),(e=Pe)?(e=ap(e,Vt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(l.memoizedState={dehydrated:e,treeContext:Dn!==null?{id:Zt,overflow:en}:null,retryLane:536870912,hydrationErrors:null},o=Md(e),o.return=l,l.child=o,it=l,Pe=null)):e=null,e===null)throw Un(l);return _u(e)?l.lanes=32:l.lanes=536870912,null}var E=s.children;return s=s.fallback,p?(Bn(),p=l.mode,E=ga({mode:"hidden",children:E},p),s=ul(s,p,o,null),E.return=l,s.return=l,E.sibling=s,l.child=E,s=l.child,s.memoizedState=jr(o),s.childLanes=Or(e,T,o),l.memoizedState=qr,Xi(null,s)):(Vn(l),Fr(l,E))}var A=e.memoizedState;if(A!==null&&(E=A.dehydrated,E!==null)){if(v)l.flags&256?(Vn(l),l.flags&=-257,l=Jr(e,l,o)):l.memoizedState!==null?(Bn(),l.child=e.child,l.flags|=128,l=null):(Bn(),E=s.fallback,p=l.mode,s=ga({mode:"visible",children:s.children},p),E=ul(E,p,o,null),E.flags|=2,s.return=l,E.return=l,s.sibling=E,l.child=s,gl(l,e.child,null,o),s=l.child,s.memoizedState=jr(o),s.childLanes=Or(e,T,o),l.memoizedState=qr,l=Xi(null,s));else if(Vn(l),_u(E)){if(T=E.nextSibling&&E.nextSibling.dataset,T)var V=T.dgst;T=V,s=Error(a(419)),s.stack="",s.digest=T,Gi({value:s,source:null,stack:null}),l=Jr(e,l,o)}else if(Xe||Ol(e,l,o,!1),T=(o&e.childLanes)!==0,Xe||T){if(T=He,T!==null&&(s=Gc(T,o),s!==0&&s!==A.retryLane))throw A.retryLane=s,rl(e,s),bt(T,e,s),Br;Cu(E)||Ca(),l=Jr(e,l,o)}else Cu(E)?(l.flags|=192,l.child=e.child,l=null):(e=A.treeContext,Pe=zt(E.nextSibling),it=l,Se=!0,In=null,Vt=!1,e!==null&&Id(l,e),l=Fr(l,s.children),l.flags|=4096);return l}return p?(Bn(),E=s.fallback,p=l.mode,A=e.child,V=A.sibling,s=rn(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,V!==null?E=rn(V,E):(E=ul(E,p,o,null),E.flags|=2),E.return=l,s.return=l,s.sibling=E,l.child=s,Xi(null,s),s=l.child,E=e.child.memoizedState,E===null?E=jr(o):(p=E.cachePool,p!==null?(A=Ye._currentValue,p=p.parent!==A?{parent:A,pool:A}:p):p=Vd(),E={baseLanes:E.baseLanes|o,cachePool:p}),s.memoizedState=E,s.childLanes=Or(e,T,o),l.memoizedState=qr,Xi(e.child,s)):(Vn(l),o=e.child,e=o.sibling,o=rn(o,{mode:"visible",children:s.children}),o.return=l,o.sibling=null,e!==null&&(T=l.deletions,T===null?(l.deletions=[e],l.flags|=16):T.push(e)),l.child=o,l.memoizedState=null,o)}function Fr(e,l){return l=ga({mode:"visible",children:l},e.mode),l.return=e,e.child=l}function ga(e,l){return e=Ct(22,e,null,l),e.lanes=0,e}function Jr(e,l,o){return gl(l,e.child,null,o),e=Fr(l,l.pendingProps.children),e.flags|=2,l.memoizedState=null,e}function Zf(e,l,o){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l),sr(e.return,l,o)}function Yr(e,l,o,s,p,v){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:p,treeForkCount:v}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=s,T.tail=o,T.tailMode=p,T.treeForkCount=v)}function eh(e,l,o){var s=l.pendingProps,p=s.revealOrder,v=s.tail;s=s.children;var T=Fe.current,E=(T&2)!==0;if(E?(T=T&1|2,l.flags|=128):T&=1,te(Fe,T),at(e,l,s,o),s=Se?Hi:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=l.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zf(e,o,l);else if(e.tag===19)Zf(e,o,l);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===l)break e;for(;e.sibling===null;){if(e.return===null||e.return===l)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(o=l.child,p=null;o!==null;)e=o.alternate,e!==null&&ia(e)===null&&(p=o),o=o.sibling;o=p,o===null?(p=l.child,l.child=null):(p=o.sibling,o.sibling=null),Yr(l,!1,p,o,v,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=l.child,l.child=null;p!==null;){if(e=p.alternate,e!==null&&ia(e)===null){l.child=p;break}e=p.sibling,p.sibling=o,o=p,p=e}Yr(l,!0,o,null,v,s);break;case"together":Yr(l,!1,null,null,void 0,s);break;default:l.memoizedState=null}return l.child}function pn(e,l,o){if(e!==null&&(l.dependencies=e.dependencies),jn|=l.lanes,(o&l.childLanes)===0)if(e!==null){if(Ol(e,l,o,!1),(o&l.childLanes)===0)return null}else return null;if(e!==null&&l.child!==e.child)throw Error(a(153));if(l.child!==null){for(e=l.child,o=rn(e,e.pendingProps),l.child=o,o.return=l;e.sibling!==null;)e=e.sibling,o=o.sibling=rn(e,e.pendingProps),o.return=l;o.sibling=null}return l.child}function Kr(e,l){return(e.lanes&l)!==0?!0:(e=e.dependencies,!!(e!==null&&Qo(e)))}function cx(e,l,o){switch(l.tag){case 3:$e(l,l.stateNode.containerInfo),Ln(l,Ye,e.memoizedState.cache),cl();break;case 27:case 5:Ti(l);break;case 4:$e(l,l.stateNode.containerInfo);break;case 10:Ln(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,yr(l),null;break;case 13:var s=l.memoizedState;if(s!==null)return s.dehydrated!==null?(Vn(l),l.flags|=128,null):(o&l.child.childLanes)!==0?Wf(e,l,o):(Vn(l),e=pn(e,l,o),e!==null?e.sibling:null);Vn(l);break;case 19:var p=(e.flags&128)!==0;if(s=(o&l.childLanes)!==0,s||(Ol(e,l,o,!1),s=(o&l.childLanes)!==0),p){if(s)return eh(e,l,o);l.flags|=128}if(p=l.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),te(Fe,Fe.current),s)break;return null;case 22:return l.lanes=0,Jf(e,l,o,l.pendingProps);case 24:Ln(l,Ye,e.memoizedState.cache)}return pn(e,l,o)}function th(e,l,o){if(e!==null)if(e.memoizedProps!==l.pendingProps)Xe=!0;else{if(!Kr(e,o)&&(l.flags&128)===0)return Xe=!1,cx(e,l,o);Xe=(e.flags&131072)!==0}else Xe=!1,Se&&(l.flags&1048576)!==0&&Dd(l,Hi,l.index);switch(l.lanes=0,l.tag){case 16:e:{var s=l.pendingProps;if(e=pl(l.elementType),l.type=e,typeof e=="function")Zs(e)?(s=xl(e,s),l.tag=1,l=Qf(null,l,e,s,o)):(l.tag=0,l=zr(null,l,e,s,o));else{if(e!=null){var p=e.$$typeof;if(p===D){l.tag=11,l=jf(null,l,e,s,o);break e}else if(p===z){l.tag=14,l=Of(null,l,e,s,o);break e}}throw l=Ae(e)||e,Error(a(306,l,""))}}return l;case 0:return zr(e,l,l.type,l.pendingProps,o);case 1:return s=l.type,p=xl(s,l.pendingProps),Qf(e,l,s,p,o);case 3:e:{if($e(l,l.stateNode.containerInfo),e===null)throw Error(a(387));s=l.pendingProps;var v=l.memoizedState;p=v.element,pr(e,l),Oi(l,s,null,o);var T=l.memoizedState;if(s=T.cache,Ln(l,Ye,s),s!==v.cache&&rr(l,[Ye],o,!0),ji(),s=T.element,v.isDehydrated)if(v={element:s,isDehydrated:!1,cache:T.cache},l.updateQueue.baseState=v,l.memoizedState=v,l.flags&256){l=$f(e,l,s,o);break e}else if(s!==p){p=Ht(Error(a(424)),l),Gi(p),l=$f(e,l,s,o);break e}else{switch(e=l.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Pe=zt(e.firstChild),it=l,Se=!0,In=null,Vt=!0,o=Fd(l,null,s,o),l.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(cl(),s===p){l=pn(e,l,o);break e}at(e,l,s,o)}l=l.child}return l;case 26:return ma(e,l),e===null?(o=fp(l.type,null,l.pendingProps,null))?l.memoizedState=o:Se||(o=l.type,e=l.pendingProps,s=Da(fe.current).createElement(o),s[lt]=l,s[pt]=e,st(s,o,e),Ze(s),l.stateNode=s):l.memoizedState=fp(l.type,e.memoizedProps,l.pendingProps,e.memoizedState),null;case 27:return Ti(l),e===null&&Se&&(s=l.stateNode=up(l.type,l.pendingProps,fe.current),it=l,Vt=!0,p=Pe,Kn(l.type)?(wu=p,Pe=zt(s.firstChild)):Pe=p),at(e,l,l.pendingProps.children,o),ma(e,l),e===null&&(l.flags|=4194304),l.child;case 5:return e===null&&Se&&((p=s=Pe)&&(s=Bx(s,l.type,l.pendingProps,Vt),s!==null?(l.stateNode=s,it=l,Pe=zt(s.firstChild),Vt=!1,p=!0):p=!1),p||Un(l)),Ti(l),p=l.type,v=l.pendingProps,T=e!==null?e.memoizedProps:null,s=v.children,Su(p,v)?s=null:T!==null&&Su(p,T)&&(l.flags|=32),l.memoizedState!==null&&(p=Tr(e,l,tx,null,null,o),co._currentValue=p),ma(e,l),at(e,l,s,o),l.child;case 6:return e===null&&Se&&((e=o=Pe)&&(o=zx(o,l.pendingProps,Vt),o!==null?(l.stateNode=o,it=l,Pe=null,e=!0):e=!1),e||Un(l)),null;case 13:return Wf(e,l,o);case 4:return $e(l,l.stateNode.containerInfo),s=l.pendingProps,e===null?l.child=gl(l,null,s,o):at(e,l,s,o),l.child;case 11:return jf(e,l,l.type,l.pendingProps,o);case 7:return at(e,l,l.pendingProps,o),l.child;case 8:return at(e,l,l.pendingProps.children,o),l.child;case 12:return at(e,l,l.pendingProps.children,o),l.child;case 10:return s=l.pendingProps,Ln(l,l.type,s.value),at(e,l,s.children,o),l.child;case 9:return p=l.type._context,s=l.pendingProps.children,fl(l),p=ot(p),s=s(p),l.flags|=1,at(e,l,s,o),l.child;case 14:return Of(e,l,l.type,l.pendingProps,o);case 15:return Ff(e,l,l.type,l.pendingProps,o);case 19:return eh(e,l,o);case 31:return ux(e,l,o);case 22:return Jf(e,l,o,l.pendingProps);case 24:return fl(l),s=ot(Ye),e===null?(p=dr(),p===null&&(p=He,v=ur(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=o),p=v),l.memoizedState={parent:s,cache:p},hr(l),Ln(l,Ye,p)):((e.lanes&o)!==0&&(pr(e,l),Oi(l,null,null,o),ji()),p=e.memoizedState,v=l.memoizedState,p.parent!==s?(p={parent:s,cache:s},l.memoizedState=p,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=p),Ln(l,Ye,s)):(s=v.cache,Ln(l,Ye,s),s!==p.cache&&rr(l,[Ye],o,!0))),at(e,l,l.pendingProps.children,o),l.child;case 29:throw l.pendingProps}throw Error(a(156,l.tag))}function mn(e){e.flags|=4}function Xr(e,l,o,s,p){if((l=(e.mode&32)!==0)&&(l=!1),l){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(Ah())e.flags|=8192;else throw ml=ea,fr}else e.flags&=-16777217}function nh(e,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!vp(l))if(Ah())e.flags|=8192;else throw ml=ea,fr}function va(e,l){l!==null&&(e.flags|=4),e.flags&16384&&(l=e.tag!==22?Uc():536870912,e.lanes|=l,ni|=l)}function Qi(e,l){if(!Se)switch(e.tailMode){case"hidden":l=e.tail;for(var o=null;l!==null;)l.alternate!==null&&(o=l),l=l.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?l||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ve(e){var l=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(l)for(var p=e.child;p!==null;)o|=p.lanes|p.childLanes,s|=p.subtreeFlags&65011712,s|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)o|=p.lanes|p.childLanes,s|=p.subtreeFlags,s|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=s,e.childLanes=o,l}function dx(e,l,o){var s=l.pendingProps;switch(lr(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(l),null;case 1:return Ve(l),null;case 3:return o=l.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),l.memoizedState.cache!==s&&(l.flags|=2048),dn(Ye),Oe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(jl(l)?mn(l):e===null||e.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,or())),Ve(l),null;case 26:var p=l.type,v=l.memoizedState;return e===null?(mn(l),v!==null?(Ve(l),nh(l,v)):(Ve(l),Xr(l,p,null,s,o))):v?v!==e.memoizedState?(mn(l),Ve(l),nh(l,v)):(Ve(l),l.flags&=-16777217):(e=e.memoizedProps,e!==s&&mn(l),Ve(l),Xr(l,p,e,s,o)),null;case 27:if(Ao(l),o=fe.current,p=l.type,e!==null&&l.stateNode!=null)e.memoizedProps!==s&&mn(l);else{if(!s){if(l.stateNode===null)throw Error(a(166));return Ve(l),null}e=ie.current,jl(l)?Ud(l):(e=up(p,s,o),l.stateNode=e,mn(l))}return Ve(l),null;case 5:if(Ao(l),p=l.type,e!==null&&l.stateNode!=null)e.memoizedProps!==s&&mn(l);else{if(!s){if(l.stateNode===null)throw Error(a(166));return Ve(l),null}if(v=ie.current,jl(l))Ud(l);else{var T=Da(fe.current);switch(v){case 1:v=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=T.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof s.is=="string"?T.createElement("select",{is:s.is}):T.createElement("select"),s.multiple?v.multiple=!0:s.size&&(v.size=s.size);break;default:v=typeof s.is=="string"?T.createElement(p,{is:s.is}):T.createElement(p)}}v[lt]=l,v[pt]=s;e:for(T=l.child;T!==null;){if(T.tag===5||T.tag===6)v.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===l)break e;for(;T.sibling===null;){if(T.return===null||T.return===l)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}l.stateNode=v;e:switch(st(v,p,s),p){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&mn(l)}}return Ve(l),Xr(l,l.type,e===null?null:e.memoizedProps,l.pendingProps,o),null;case 6:if(e&&l.stateNode!=null)e.memoizedProps!==s&&mn(l);else{if(typeof s!="string"&&l.stateNode===null)throw Error(a(166));if(e=fe.current,jl(l)){if(e=l.stateNode,o=l.memoizedProps,s=null,p=it,p!==null)switch(p.tag){case 27:case 5:s=p.memoizedProps}e[lt]=l,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||Wh(e.nodeValue,o)),e||Un(l,!0)}else e=Da(e).createTextNode(s),e[lt]=l,l.stateNode=e}return Ve(l),null;case 31:if(o=l.memoizedState,e===null||e.memoizedState!==null){if(s=jl(l),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=l.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[lt]=l}else cl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ve(l),e=!1}else o=or(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return l.flags&256?(wt(l),l):(wt(l),null);if((l.flags&128)!==0)throw Error(a(558))}return Ve(l),null;case 13:if(s=l.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=jl(l),s!==null&&s.dehydrated!==null){if(e===null){if(!p)throw Error(a(318));if(p=l.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[lt]=l}else cl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ve(l),p=!1}else p=or(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return l.flags&256?(wt(l),l):(wt(l),null)}return wt(l),(l.flags&128)!==0?(l.lanes=o,l):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=l.child,p=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(p=s.alternate.memoizedState.cachePool.pool),v=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(v=s.memoizedState.cachePool.pool),v!==p&&(s.flags|=2048)),o!==e&&o&&(l.child.flags|=8192),va(l,l.updateQueue),Ve(l),null);case 4:return Oe(),e===null&&vu(l.stateNode.containerInfo),Ve(l),null;case 10:return dn(l.type),Ve(l),null;case 19:if(X(Fe),s=l.memoizedState,s===null)return Ve(l),null;if(p=(l.flags&128)!==0,v=s.rendering,v===null)if(p)Qi(s,!1);else{if(je!==0||e!==null&&(e.flags&128)!==0)for(e=l.child;e!==null;){if(v=ia(e),v!==null){for(l.flags|=128,Qi(s,!1),e=v.updateQueue,l.updateQueue=e,va(l,e),l.subtreeFlags=0,e=o,o=l.child;o!==null;)Rd(o,e),o=o.sibling;return te(Fe,Fe.current&1|2),Se&&un(l,s.treeForkCount),l.child}e=e.sibling}s.tail!==null&&Tt()>Sa&&(l.flags|=128,p=!0,Qi(s,!1),l.lanes=4194304)}else{if(!p)if(e=ia(v),e!==null){if(l.flags|=128,p=!0,e=e.updateQueue,l.updateQueue=e,va(l,e),Qi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!v.alternate&&!Se)return Ve(l),null}else 2*Tt()-s.renderingStartTime>Sa&&o!==536870912&&(l.flags|=128,p=!0,Qi(s,!1),l.lanes=4194304);s.isBackwards?(v.sibling=l.child,l.child=v):(e=s.last,e!==null?e.sibling=v:l.child=v,s.last=v)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Tt(),e.sibling=null,o=Fe.current,te(Fe,p?o&1|2:o&1),Se&&un(l,s.treeForkCount),e):(Ve(l),null);case 22:case 23:return wt(l),xr(),s=l.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(l.flags|=8192):s&&(l.flags|=8192),s?(o&536870912)!==0&&(l.flags&128)===0&&(Ve(l),l.subtreeFlags&6&&(l.flags|=8192)):Ve(l),o=l.updateQueue,o!==null&&va(l,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==o&&(l.flags|=2048),e!==null&&X(hl),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),l.memoizedState.cache!==o&&(l.flags|=2048),dn(Ye),Ve(l),null;case 25:return null;case 30:return null}throw Error(a(156,l.tag))}function fx(e,l){switch(lr(l),l.tag){case 1:return e=l.flags,e&65536?(l.flags=e&-65537|128,l):null;case 3:return dn(Ye),Oe(),e=l.flags,(e&65536)!==0&&(e&128)===0?(l.flags=e&-65537|128,l):null;case 26:case 27:case 5:return Ao(l),null;case 31:if(l.memoizedState!==null){if(wt(l),l.alternate===null)throw Error(a(340));cl()}return e=l.flags,e&65536?(l.flags=e&-65537|128,l):null;case 13:if(wt(l),e=l.memoizedState,e!==null&&e.dehydrated!==null){if(l.alternate===null)throw Error(a(340));cl()}return e=l.flags,e&65536?(l.flags=e&-65537|128,l):null;case 19:return X(Fe),null;case 4:return Oe(),null;case 10:return dn(l.type),null;case 22:case 23:return wt(l),xr(),e!==null&&X(hl),e=l.flags,e&65536?(l.flags=e&-65537|128,l):null;case 24:return dn(Ye),null;case 25:return null;default:return null}}function lh(e,l){switch(lr(l),l.tag){case 3:dn(Ye),Oe();break;case 26:case 27:case 5:Ao(l);break;case 4:Oe();break;case 31:l.memoizedState!==null&&wt(l);break;case 13:wt(l);break;case 19:X(Fe);break;case 10:dn(l.type);break;case 22:case 23:wt(l),xr(),e!==null&&X(hl);break;case 24:dn(Ye)}}function $i(e,l){try{var o=l.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var p=s.next;o=p;do{if((o.tag&e)===e){s=void 0;var v=o.create,T=o.inst;s=v(),T.destroy=s}o=o.next}while(o!==p)}}catch(E){De(l,l.return,E)}}function zn(e,l,o){try{var s=l.updateQueue,p=s!==null?s.lastEffect:null;if(p!==null){var v=p.next;s=v;do{if((s.tag&e)===e){var T=s.inst,E=T.destroy;if(E!==void 0){T.destroy=void 0,p=l;var A=o,V=E;try{V()}catch(F){De(p,A,F)}}}s=s.next}while(s!==v)}}catch(F){De(l,l.return,F)}}function ih(e){var l=e.updateQueue;if(l!==null){var o=e.stateNode;try{Yd(l,o)}catch(s){De(e,e.return,s)}}}function oh(e,l,o){o.props=xl(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){De(e,l,s)}}function Wi(e,l){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(p){De(e,l,p)}}function tn(e,l){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(p){De(e,l,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){De(e,l,p)}else o.current=null}function ah(e){var l=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(p){De(e,e.return,p)}}function Qr(e,l,o){try{var s=e.stateNode;Ux(s,e.type,o,l),s[pt]=l}catch(p){De(e,e.return,p)}}function sh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Kn(e.type)||e.tag===4}function $r(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Kn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wr(e,l,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,l?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,l):(l=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,l.appendChild(e),o=o._reactRootContainer,o!=null||l.onclick!==null||(l.onclick=an));else if(s!==4&&(s===27&&Kn(e.type)&&(o=e.stateNode,l=null),e=e.child,e!==null))for(Wr(e,l,o),e=e.sibling;e!==null;)Wr(e,l,o),e=e.sibling}function xa(e,l,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,l?o.insertBefore(e,l):o.appendChild(e);else if(s!==4&&(s===27&&Kn(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(xa(e,l,o),e=e.sibling;e!==null;)xa(e,l,o),e=e.sibling}function rh(e){var l=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,p=l.attributes;p.length;)l.removeAttributeNode(p[0]);st(l,s,o),l[lt]=e,l[pt]=o}catch(v){De(e,e.return,v)}}var gn=!1,Qe=!1,Zr=!1,uh=typeof WeakSet=="function"?WeakSet:Set,et=null;function hx(e,l){if(e=e.containerInfo,bu=Va,e=bd(e),Js(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var p=s.anchorOffset,v=s.focusNode;s=s.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var T=0,E=-1,A=-1,V=0,F=0,K=e,B=null;t:for(;;){for(var O;K!==o||p!==0&&K.nodeType!==3||(E=T+p),K!==v||s!==0&&K.nodeType!==3||(A=T+s),K.nodeType===3&&(T+=K.nodeValue.length),(O=K.firstChild)!==null;)B=K,K=O;for(;;){if(K===e)break t;if(B===o&&++V===p&&(E=T),B===v&&++F===s&&(A=T),(O=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=O}o=E===-1||A===-1?null:{start:E,end:A}}else o=null}o=o||{start:0,end:0}}else o=null;for(Tu={focusedElem:e,selectionRange:o},Va=!1,et=l;et!==null;)if(l=et,e=l.child,(l.subtreeFlags&1028)!==0&&e!==null)e.return=l,et=e;else for(;et!==null;){switch(l=et,v=l.alternate,e=l.flags,l.tag){case 0:if((e&4)!==0&&(e=l.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)p=e[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&v!==null){e=void 0,o=l,p=v.memoizedProps,v=v.memoizedState,s=o.stateNode;try{var oe=xl(o.type,p);e=s.getSnapshotBeforeUpdate(oe,v),s.__reactInternalSnapshotBeforeUpdate=e}catch(de){De(o,o.return,de)}}break;case 3:if((e&1024)!==0){if(e=l.stateNode.containerInfo,o=e.nodeType,o===9)Nu(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=l.sibling,e!==null){e.return=l.return,et=e;break}et=l.return}}function ch(e,l,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:xn(e,o),s&4&&$i(5,o);break;case 1:if(xn(e,o),s&4)if(e=o.stateNode,l===null)try{e.componentDidMount()}catch(T){De(o,o.return,T)}else{var p=xl(o.type,l.memoizedProps);l=l.memoizedState;try{e.componentDidUpdate(p,l,e.__reactInternalSnapshotBeforeUpdate)}catch(T){De(o,o.return,T)}}s&64&&ih(o),s&512&&Wi(o,o.return);break;case 3:if(xn(e,o),s&64&&(e=o.updateQueue,e!==null)){if(l=null,o.child!==null)switch(o.child.tag){case 27:case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}try{Yd(e,l)}catch(T){De(o,o.return,T)}}break;case 27:l===null&&s&4&&rh(o);case 26:case 5:xn(e,o),l===null&&s&4&&ah(o),s&512&&Wi(o,o.return);break;case 12:xn(e,o);break;case 31:xn(e,o),s&4&&hh(e,o);break;case 13:xn(e,o),s&4&&ph(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Sx.bind(null,o),qx(e,o))));break;case 22:if(s=o.memoizedState!==null||gn,!s){l=l!==null&&l.memoizedState!==null||Qe,p=gn;var v=Qe;gn=s,(Qe=l)&&!v?yn(e,o,(o.subtreeFlags&8772)!==0):xn(e,o),gn=p,Qe=v}break;case 30:break;default:xn(e,o)}}function dh(e){var l=e.alternate;l!==null&&(e.alternate=null,dh(l)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(l=e.stateNode,l!==null&&Rs(l)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,gt=!1;function vn(e,l,o){for(o=o.child;o!==null;)fh(e,l,o),o=o.sibling}function fh(e,l,o){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(Si,o)}catch{}switch(o.tag){case 26:Qe||tn(o,l),vn(e,l,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Qe||tn(o,l);var s=Be,p=gt;Kn(o.type)&&(Be=o.stateNode,gt=!1),vn(e,l,o),so(o.stateNode),Be=s,gt=p;break;case 5:Qe||tn(o,l);case 6:if(s=Be,p=gt,Be=null,vn(e,l,o),Be=s,gt=p,Be!==null)if(gt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(o.stateNode)}catch(v){De(o,l,v)}else try{Be.removeChild(o.stateNode)}catch(v){De(o,l,v)}break;case 18:Be!==null&&(gt?(e=Be,ip(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),ci(e)):ip(Be,o.stateNode));break;case 4:s=Be,p=gt,Be=o.stateNode.containerInfo,gt=!0,vn(e,l,o),Be=s,gt=p;break;case 0:case 11:case 14:case 15:zn(2,o,l),Qe||zn(4,o,l),vn(e,l,o);break;case 1:Qe||(tn(o,l),s=o.stateNode,typeof s.componentWillUnmount=="function"&&oh(o,l,s)),vn(e,l,o);break;case 21:vn(e,l,o);break;case 22:Qe=(s=Qe)||o.memoizedState!==null,vn(e,l,o),Qe=s;break;default:vn(e,l,o)}}function hh(e,l){if(l.memoizedState===null&&(e=l.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ci(e)}catch(o){De(l,l.return,o)}}}function ph(e,l){if(l.memoizedState===null&&(e=l.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ci(e)}catch(o){De(l,l.return,o)}}function px(e){switch(e.tag){case 31:case 13:case 19:var l=e.stateNode;return l===null&&(l=e.stateNode=new uh),l;case 22:return e=e.stateNode,l=e._retryCache,l===null&&(l=e._retryCache=new uh),l;default:throw Error(a(435,e.tag))}}function ya(e,l){var o=px(e);l.forEach(function(s){if(!o.has(s)){o.add(s);var p=Ex.bind(null,e,s);s.then(p,p)}})}function vt(e,l){var o=l.deletions;if(o!==null)for(var s=0;s<o.length;s++){var p=o[s],v=e,T=l,E=T;e:for(;E!==null;){switch(E.tag){case 27:if(Kn(E.type)){Be=E.stateNode,gt=!1;break e}break;case 5:Be=E.stateNode,gt=!1;break e;case 3:case 4:Be=E.stateNode.containerInfo,gt=!0;break e}E=E.return}if(Be===null)throw Error(a(160));fh(v,T,p),Be=null,gt=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)mh(l,e),l=l.sibling}var Jt=null;function mh(e,l){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vt(l,e),xt(e),s&4&&(zn(3,e,e.return),$i(3,e),zn(5,e,e.return));break;case 1:vt(l,e),xt(e),s&512&&(Qe||o===null||tn(o,o.return)),s&64&&gn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var p=Jt;if(vt(l,e),xt(e),s&512&&(Qe||o===null||tn(o,o.return)),s&4){var v=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,p=p.ownerDocument||p;t:switch(s){case"title":v=p.getElementsByTagName("title")[0],(!v||v[Ci]||v[lt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(s),p.head.insertBefore(v,p.querySelector("head > title"))),st(v,s,o),v[lt]=e,Ze(v),s=v;break e;case"link":var T=mp("link","href",p).get(s+(o.href||""));if(T){for(var E=0;E<T.length;E++)if(v=T[E],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(E,1);break t}}v=p.createElement(s),st(v,s,o),p.head.appendChild(v);break;case"meta":if(T=mp("meta","content",p).get(s+(o.content||""))){for(E=0;E<T.length;E++)if(v=T[E],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(E,1);break t}}v=p.createElement(s),st(v,s,o),p.head.appendChild(v);break;default:throw Error(a(468,s))}v[lt]=e,Ze(v),s=v}e.stateNode=s}else gp(p,e.type,e.stateNode);else e.stateNode=pp(p,s,e.memoizedProps);else v!==s?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,s===null?gp(p,e.type,e.stateNode):pp(p,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Qr(e,e.memoizedProps,o.memoizedProps)}break;case 27:vt(l,e),xt(e),s&512&&(Qe||o===null||tn(o,o.return)),o!==null&&s&4&&Qr(e,e.memoizedProps,o.memoizedProps);break;case 5:if(vt(l,e),xt(e),s&512&&(Qe||o===null||tn(o,o.return)),e.flags&32){p=e.stateNode;try{Il(p,"")}catch(oe){De(e,e.return,oe)}}s&4&&e.stateNode!=null&&(p=e.memoizedProps,Qr(e,p,o!==null?o.memoizedProps:p)),s&1024&&(Zr=!0);break;case 6:if(vt(l,e),xt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(oe){De(e,e.return,oe)}}break;case 3:if(La=null,p=Jt,Jt=Ia(l.containerInfo),vt(l,e),Jt=p,xt(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{ci(l.containerInfo)}catch(oe){De(e,e.return,oe)}Zr&&(Zr=!1,gh(e));break;case 4:s=Jt,Jt=Ia(e.stateNode.containerInfo),vt(l,e),xt(e),Jt=s;break;case 12:vt(l,e),xt(e);break;case 31:vt(l,e),xt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ya(e,s)));break;case 13:vt(l,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ta=Tt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ya(e,s)));break;case 22:p=e.memoizedState!==null;var A=o!==null&&o.memoizedState!==null,V=gn,F=Qe;if(gn=V||p,Qe=F||A,vt(l,e),Qe=F,gn=V,xt(e),s&8192)e:for(l=e.stateNode,l._visibility=p?l._visibility&-2:l._visibility|1,p&&(o===null||A||gn||Qe||yl(e)),o=null,l=e;;){if(l.tag===5||l.tag===26){if(o===null){A=o=l;try{if(v=A.stateNode,p)T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{E=A.stateNode;var K=A.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(oe){De(A,A.return,oe)}}}else if(l.tag===6){if(o===null){A=l;try{A.stateNode.nodeValue=p?"":A.memoizedProps}catch(oe){De(A,A.return,oe)}}}else if(l.tag===18){if(o===null){A=l;try{var O=A.stateNode;p?op(O,!0):op(A.stateNode,!1)}catch(oe){De(A,A.return,oe)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===e)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;o===l&&(o=null),l=l.return}o===l&&(o=null),l.sibling.return=l.return,l=l.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,ya(e,o))));break;case 19:vt(l,e),xt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ya(e,s)));break;case 30:break;case 21:break;default:vt(l,e),xt(e)}}function xt(e){var l=e.flags;if(l&2){try{for(var o,s=e.return;s!==null;){if(sh(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var p=o.stateNode,v=$r(e);xa(e,v,p);break;case 5:var T=o.stateNode;o.flags&32&&(Il(T,""),o.flags&=-33);var E=$r(e);xa(e,E,T);break;case 3:case 4:var A=o.stateNode.containerInfo,V=$r(e);Wr(e,V,A);break;default:throw Error(a(161))}}catch(F){De(e,e.return,F)}e.flags&=-3}l&4096&&(e.flags&=-4097)}function gh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var l=e;gh(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),e=e.sibling}}function xn(e,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)ch(e,l.alternate,l),l=l.sibling}function yl(e){for(e=e.child;e!==null;){var l=e;switch(l.tag){case 0:case 11:case 14:case 15:zn(4,l,l.return),yl(l);break;case 1:tn(l,l.return);var o=l.stateNode;typeof o.componentWillUnmount=="function"&&oh(l,l.return,o),yl(l);break;case 27:so(l.stateNode);case 26:case 5:tn(l,l.return),yl(l);break;case 22:l.memoizedState===null&&yl(l);break;case 30:yl(l);break;default:yl(l)}e=e.sibling}}function yn(e,l,o){for(o=o&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var s=l.alternate,p=e,v=l,T=v.flags;switch(v.tag){case 0:case 11:case 15:yn(p,v,o),$i(4,v);break;case 1:if(yn(p,v,o),s=v,p=s.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(V){De(s,s.return,V)}if(s=v,p=s.updateQueue,p!==null){var E=s.stateNode;try{var A=p.shared.hiddenCallbacks;if(A!==null)for(p.shared.hiddenCallbacks=null,p=0;p<A.length;p++)Jd(A[p],E)}catch(V){De(s,s.return,V)}}o&&T&64&&ih(v),Wi(v,v.return);break;case 27:rh(v);case 26:case 5:yn(p,v,o),o&&s===null&&T&4&&ah(v),Wi(v,v.return);break;case 12:yn(p,v,o);break;case 31:yn(p,v,o),o&&T&4&&hh(p,v);break;case 13:yn(p,v,o),o&&T&4&&ph(p,v);break;case 22:v.memoizedState===null&&yn(p,v,o),Wi(v,v.return);break;case 30:break;default:yn(p,v,o)}l=l.sibling}}function eu(e,l){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(e=l.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Pi(o))}function tu(e,l){e=null,l.alternate!==null&&(e=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==e&&(l.refCount++,e!=null&&Pi(e))}function Yt(e,l,o,s){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)vh(e,l,o,s),l=l.sibling}function vh(e,l,o,s){var p=l.flags;switch(l.tag){case 0:case 11:case 15:Yt(e,l,o,s),p&2048&&$i(9,l);break;case 1:Yt(e,l,o,s);break;case 3:Yt(e,l,o,s),p&2048&&(e=null,l.alternate!==null&&(e=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==e&&(l.refCount++,e!=null&&Pi(e)));break;case 12:if(p&2048){Yt(e,l,o,s),e=l.stateNode;try{var v=l.memoizedProps,T=v.id,E=v.onPostCommit;typeof E=="function"&&E(T,l.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){De(l,l.return,A)}}else Yt(e,l,o,s);break;case 31:Yt(e,l,o,s);break;case 13:Yt(e,l,o,s);break;case 23:break;case 22:v=l.stateNode,T=l.alternate,l.memoizedState!==null?v._visibility&2?Yt(e,l,o,s):Zi(e,l):v._visibility&2?Yt(e,l,o,s):(v._visibility|=2,Zl(e,l,o,s,(l.subtreeFlags&10256)!==0||!1)),p&2048&&eu(T,l);break;case 24:Yt(e,l,o,s),p&2048&&tu(l.alternate,l);break;default:Yt(e,l,o,s)}}function Zl(e,l,o,s,p){for(p=p&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var v=e,T=l,E=o,A=s,V=T.flags;switch(T.tag){case 0:case 11:case 15:Zl(v,T,E,A,p),$i(8,T);break;case 23:break;case 22:var F=T.stateNode;T.memoizedState!==null?F._visibility&2?Zl(v,T,E,A,p):Zi(v,T):(F._visibility|=2,Zl(v,T,E,A,p)),p&&V&2048&&eu(T.alternate,T);break;case 24:Zl(v,T,E,A,p),p&&V&2048&&tu(T.alternate,T);break;default:Zl(v,T,E,A,p)}l=l.sibling}}function Zi(e,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var o=e,s=l,p=s.flags;switch(s.tag){case 22:Zi(o,s),p&2048&&eu(s.alternate,s);break;case 24:Zi(o,s),p&2048&&tu(s.alternate,s);break;default:Zi(o,s)}l=l.sibling}}var eo=8192;function ei(e,l,o){if(e.subtreeFlags&eo)for(e=e.child;e!==null;)xh(e,l,o),e=e.sibling}function xh(e,l,o){switch(e.tag){case 26:ei(e,l,o),e.flags&eo&&e.memoizedState!==null&&ey(o,Jt,e.memoizedState,e.memoizedProps);break;case 5:ei(e,l,o);break;case 3:case 4:var s=Jt;Jt=Ia(e.stateNode.containerInfo),ei(e,l,o),Jt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=eo,eo=16777216,ei(e,l,o),eo=s):ei(e,l,o));break;default:ei(e,l,o)}}function yh(e){var l=e.alternate;if(l!==null&&(e=l.child,e!==null)){l.child=null;do l=e.sibling,e.sibling=null,e=l;while(e!==null)}}function to(e){var l=e.deletions;if((e.flags&16)!==0){if(l!==null)for(var o=0;o<l.length;o++){var s=l[o];et=s,Th(s,e)}yh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bh(e),e=e.sibling}function bh(e){switch(e.tag){case 0:case 11:case 15:to(e),e.flags&2048&&zn(9,e,e.return);break;case 3:to(e);break;case 12:to(e);break;case 22:var l=e.stateNode;e.memoizedState!==null&&l._visibility&2&&(e.return===null||e.return.tag!==13)?(l._visibility&=-3,ba(e)):to(e);break;default:to(e)}}function ba(e){var l=e.deletions;if((e.flags&16)!==0){if(l!==null)for(var o=0;o<l.length;o++){var s=l[o];et=s,Th(s,e)}yh(e)}for(e=e.child;e!==null;){switch(l=e,l.tag){case 0:case 11:case 15:zn(8,l,l.return),ba(l);break;case 22:o=l.stateNode,o._visibility&2&&(o._visibility&=-3,ba(l));break;default:ba(l)}e=e.sibling}}function Th(e,l){for(;et!==null;){var o=et;switch(o.tag){case 0:case 11:case 15:zn(8,o,l);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Pi(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,et=s;else e:for(o=e;et!==null;){s=et;var p=s.sibling,v=s.return;if(dh(s),s===o){et=null;break e}if(p!==null){p.return=v,et=p;break e}et=v}}}var mx={getCacheForType:function(e){var l=ot(Ye),o=l.data.get(e);return o===void 0&&(o=e(),l.data.set(e,o)),o},cacheSignal:function(){return ot(Ye).controller.signal}},gx=typeof WeakMap=="function"?WeakMap:Map,we=0,He=null,xe=null,be=0,ke=0,At=null,qn=!1,ti=!1,nu=!1,bn=0,je=0,jn=0,bl=0,lu=0,Rt=0,ni=0,no=null,yt=null,iu=!1,Ta=0,Sh=0,Sa=1/0,Ea=null,On=null,We=0,Fn=null,li=null,Tn=0,ou=0,au=null,Eh=null,lo=0,su=null;function Mt(){return(we&2)!==0&&be!==0?be&-be:q.T!==null?hu():Pc()}function Nh(){if(Rt===0)if((be&536870912)===0||Se){var e=ko;ko<<=1,(ko&3932160)===0&&(ko=262144),Rt=e}else Rt=536870912;return e=_t.current,e!==null&&(e.flags|=32),Rt}function bt(e,l,o){(e===He&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(ii(e,0),Jn(e,be,Rt,!1)),Ni(e,o),((we&2)===0||e!==He)&&(e===He&&((we&2)===0&&(bl|=o),je===4&&Jn(e,be,Rt,!1)),nn(e))}function Ch(e,l,o){if((we&6)!==0)throw Error(a(327));var s=!o&&(l&127)===0&&(l&e.expiredLanes)===0||Ei(e,l),p=s?yx(e,l):uu(e,l,!0),v=s;do{if(p===0){ti&&!s&&Jn(e,l,0,!1);break}else{if(o=e.current.alternate,v&&!vx(o)){p=uu(e,l,!1),v=!1;continue}if(p===2){if(v=l,e.errorRecoveryDisabledLanes&v)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){l=T;e:{var E=e;p=no;var A=E.current.memoizedState.isDehydrated;if(A&&(ii(E,T).flags|=256),T=uu(E,T,!1),T!==2){if(nu&&!A){E.errorRecoveryDisabledLanes|=v,bl|=v,p=4;break e}v=yt,yt=p,v!==null&&(yt===null?yt=v:yt.push.apply(yt,v))}p=T}if(v=!1,p!==2)continue}}if(p===1){ii(e,0),Jn(e,l,0,!0);break}e:{switch(s=e,v=p,v){case 0:case 1:throw Error(a(345));case 4:if((l&4194048)!==l)break;case 6:Jn(s,l,Rt,!qn);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((l&62914560)===l&&(p=Ta+300-Tt(),10<p)){if(Jn(s,l,Rt,!qn),Io(s,0,!0)!==0)break e;Tn=l,s.timeoutHandle=np(_h.bind(null,s,o,yt,Ea,iu,l,Rt,bl,ni,qn,v,"Throttled",-0,0),p);break e}_h(s,o,yt,Ea,iu,l,Rt,bl,ni,qn,v,null,-0,0)}}break}while(!0);nn(e)}function _h(e,l,o,s,p,v,T,E,A,V,F,K,B,O){if(e.timeoutHandle=-1,K=l.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:an},xh(l,v,K);var oe=(v&62914560)===v?Ta-Tt():(v&4194048)===v?Sh-Tt():0;if(oe=ty(K,oe),oe!==null){Tn=v,e.cancelPendingCommit=oe(Uh.bind(null,e,l,v,o,s,p,T,E,A,F,K,null,B,O)),Jn(e,v,T,!V);return}}Uh(e,l,v,o,s,p,T,E,A)}function vx(e){for(var l=e;;){var o=l.tag;if((o===0||o===11||o===15)&&l.flags&16384&&(o=l.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var p=o[s],v=p.getSnapshot;p=p.value;try{if(!Nt(v(),p))return!1}catch{return!1}}if(o=l.child,l.subtreeFlags&16384&&o!==null)o.return=l,l=o;else{if(l===e)break;for(;l.sibling===null;){if(l.return===null||l.return===e)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Jn(e,l,o,s){l&=~lu,l&=~bl,e.suspendedLanes|=l,e.pingedLanes&=~l,s&&(e.warmLanes|=l),s=e.expirationTimes;for(var p=l;0<p;){var v=31-Et(p),T=1<<v;s[v]=-1,p&=~T}o!==0&&Lc(e,o,l)}function Na(){return(we&6)===0?(io(0),!1):!0}function ru(){if(xe!==null){if(ke===0)var e=xe.return;else e=xe,cn=dl=null,Nr(e),Kl=null,Bi=0,e=xe;for(;e!==null;)lh(e.alternate,e),e=e.return;xe=null}}function ii(e,l){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Gx(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Tn=0,ru(),He=e,xe=o=rn(e.current,null),be=l,ke=0,At=null,qn=!1,ti=Ei(e,l),nu=!1,ni=Rt=lu=bl=jn=je=0,yt=no=null,iu=!1,(l&8)!==0&&(l|=l&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=l;0<s;){var p=31-Et(s),v=1<<p;l|=e[p],s&=~v}return bn=l,Fo(),o}function wh(e,l){me=null,q.H=Ki,l===Yl||l===Zo?(l=qd(),ke=3):l===fr?(l=qd(),ke=4):ke=l===Br?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,At=l,xe===null&&(je=1,ha(e,Ht(l,e.current)))}function Ah(){var e=_t.current;return e===null?!0:(be&4194048)===be?Bt===null:(be&62914560)===be||(be&536870912)!==0?e===Bt:!1}function Rh(){var e=q.H;return q.H=Ki,e===null?Ki:e}function Mh(){var e=q.A;return q.A=mx,e}function Ca(){je=4,qn||(be&4194048)!==be&&_t.current!==null||(ti=!0),(jn&134217727)===0&&(bl&134217727)===0||He===null||Jn(He,be,Rt,!1)}function uu(e,l,o){var s=we;we|=2;var p=Rh(),v=Mh();(He!==e||be!==l)&&(Ea=null,ii(e,l)),l=!1;var T=je;e:do try{if(ke!==0&&xe!==null){var E=xe,A=At;switch(ke){case 8:ru(),T=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(l=!0);var V=ke;if(ke=0,At=null,oi(e,E,A,V),o&&ti){T=0;break e}break;default:V=ke,ke=0,At=null,oi(e,E,A,V)}}xx(),T=je;break}catch(F){wh(e,F)}while(!0);return l&&e.shellSuspendCounter++,cn=dl=null,we=s,q.H=p,q.A=v,xe===null&&(He=null,be=0,Fo()),T}function xx(){for(;xe!==null;)kh(xe)}function yx(e,l){var o=we;we|=2;var s=Rh(),p=Mh();He!==e||be!==l?(Ea=null,Sa=Tt()+500,ii(e,l)):ti=Ei(e,l);e:do try{if(ke!==0&&xe!==null){l=xe;var v=At;t:switch(ke){case 1:ke=0,At=null,oi(e,l,v,1);break;case 2:case 9:if(Bd(v)){ke=0,At=null,Dh(l);break}l=function(){ke!==2&&ke!==9||He!==e||(ke=7),nn(e)},v.then(l,l);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:Bd(v)?(ke=0,At=null,Dh(l)):(ke=0,At=null,oi(e,l,v,7));break;case 5:var T=null;switch(xe.tag){case 26:T=xe.memoizedState;case 5:case 27:var E=xe;if(T?vp(T):E.stateNode.complete){ke=0,At=null;var A=E.sibling;if(A!==null)xe=A;else{var V=E.return;V!==null?(xe=V,_a(V)):xe=null}break t}}ke=0,At=null,oi(e,l,v,5);break;case 6:ke=0,At=null,oi(e,l,v,6);break;case 8:ru(),je=6;break e;default:throw Error(a(462))}}bx();break}catch(F){wh(e,F)}while(!0);return cn=dl=null,q.H=s,q.A=p,we=o,xe!==null?0:(He=null,be=0,Fo(),je)}function bx(){for(;xe!==null&&!jg();)kh(xe)}function kh(e){var l=th(e.alternate,e,bn);e.memoizedProps=e.pendingProps,l===null?_a(e):xe=l}function Dh(e){var l=e,o=l.alternate;switch(l.tag){case 15:case 0:l=Xf(o,l,l.pendingProps,l.type,void 0,be);break;case 11:l=Xf(o,l,l.pendingProps,l.type.render,l.ref,be);break;case 5:Nr(l);default:lh(o,l),l=xe=Rd(l,bn),l=th(o,l,bn)}e.memoizedProps=e.pendingProps,l===null?_a(e):xe=l}function oi(e,l,o,s){cn=dl=null,Nr(l),Kl=null,Bi=0;var p=l.return;try{if(rx(e,p,l,o,be)){je=1,ha(e,Ht(o,e.current)),xe=null;return}}catch(v){if(p!==null)throw xe=p,v;je=1,ha(e,Ht(o,e.current)),xe=null;return}l.flags&32768?(Se||s===1?e=!0:ti||(be&536870912)!==0?e=!1:(qn=e=!0,(s===2||s===9||s===3||s===6)&&(s=_t.current,s!==null&&s.tag===13&&(s.flags|=16384))),Ih(l,e)):_a(l)}function _a(e){var l=e;do{if((l.flags&32768)!==0){Ih(l,qn);return}e=l.return;var o=dx(l.alternate,l,bn);if(o!==null){xe=o;return}if(l=l.sibling,l!==null){xe=l;return}xe=l=e}while(l!==null);je===0&&(je=5)}function Ih(e,l){do{var o=fx(e.alternate,e);if(o!==null){o.flags&=32767,xe=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!l&&(e=e.sibling,e!==null)){xe=e;return}xe=e=o}while(e!==null);je=6,xe=null}function Uh(e,l,o,s,p,v,T,E,A){e.cancelPendingCommit=null;do wa();while(We!==0);if((we&6)!==0)throw Error(a(327));if(l!==null){if(l===e.current)throw Error(a(177));if(v=l.lanes|l.childLanes,v|=$s,Zg(e,o,v,T,E,A),e===He&&(xe=He=null,be=0),li=l,Fn=e,Tn=o,ou=v,au=p,Eh=s,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Nx(Ro,function(){return Vh(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||s){s=q.T,q.T=null,p=Z.p,Z.p=2,T=we,we|=4;try{hx(e,l,o)}finally{we=T,Z.p=p,q.T=s}}We=1,Lh(),Hh(),Gh()}}function Lh(){if(We===1){We=0;var e=Fn,l=li,o=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||o){o=q.T,q.T=null;var s=Z.p;Z.p=2;var p=we;we|=4;try{mh(l,e);var v=Tu,T=bd(e.containerInfo),E=v.focusedElem,A=v.selectionRange;if(T!==E&&E&&E.ownerDocument&&yd(E.ownerDocument.documentElement,E)){if(A!==null&&Js(E)){var V=A.start,F=A.end;if(F===void 0&&(F=V),"selectionStart"in E)E.selectionStart=V,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var O=B.getSelection(),oe=E.textContent.length,de=Math.min(A.start,oe),Le=A.end===void 0?de:Math.min(A.end,oe);!O.extend&&de>Le&&(T=Le,Le=de,de=T);var L=xd(E,de),k=xd(E,Le);if(L&&k&&(O.rangeCount!==1||O.anchorNode!==L.node||O.anchorOffset!==L.offset||O.focusNode!==k.node||O.focusOffset!==k.offset)){var P=K.createRange();P.setStart(L.node,L.offset),O.removeAllRanges(),de>Le?(O.addRange(P),O.extend(k.node,k.offset)):(P.setEnd(k.node,k.offset),O.addRange(P))}}}}for(K=[],O=E;O=O.parentNode;)O.nodeType===1&&K.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var J=K[E];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Va=!!bu,Tu=bu=null}finally{we=p,Z.p=s,q.T=o}}e.current=l,We=2}}function Hh(){if(We===2){We=0;var e=Fn,l=li,o=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||o){o=q.T,q.T=null;var s=Z.p;Z.p=2;var p=we;we|=4;try{ch(e,l.alternate,l)}finally{we=p,Z.p=s,q.T=o}}We=3}}function Gh(){if(We===4||We===3){We=0,Og();var e=Fn,l=li,o=Tn,s=Eh;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?We=5:(We=0,li=Fn=null,Ph(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(On=null),ws(o),l=l.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(Si,l,void 0,(l.current.flags&128)===128)}catch{}if(s!==null){l=q.T,p=Z.p,Z.p=2,q.T=null;try{for(var v=e.onRecoverableError,T=0;T<s.length;T++){var E=s[T];v(E.value,{componentStack:E.stack})}}finally{q.T=l,Z.p=p}}(Tn&3)!==0&&wa(),nn(e),p=e.pendingLanes,(o&261930)!==0&&(p&42)!==0?e===su?lo++:(lo=0,su=e):lo=0,io(0)}}function Ph(e,l){(e.pooledCacheLanes&=l)===0&&(l=e.pooledCache,l!=null&&(e.pooledCache=null,Pi(l)))}function wa(){return Lh(),Hh(),Gh(),Vh()}function Vh(){if(We!==5)return!1;var e=Fn,l=ou;ou=0;var o=ws(Tn),s=q.T,p=Z.p;try{Z.p=32>o?32:o,q.T=null,o=au,au=null;var v=Fn,T=Tn;if(We=0,li=Fn=null,Tn=0,(we&6)!==0)throw Error(a(331));var E=we;if(we|=4,bh(v.current),vh(v,v.current,T,o),we=E,io(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(Si,v)}catch{}return!0}finally{Z.p=p,q.T=s,Ph(e,l)}}function Bh(e,l,o){l=Ht(o,l),l=Vr(e.stateNode,l,2),e=Pn(e,l,2),e!==null&&(Ni(e,2),nn(e))}function De(e,l,o){if(e.tag===3)Bh(e,e,o);else for(;l!==null;){if(l.tag===3){Bh(l,e,o);break}else if(l.tag===1){var s=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(On===null||!On.has(s))){e=Ht(o,e),o=zf(2),s=Pn(l,o,2),s!==null&&(qf(o,s,l,e),Ni(s,2),nn(s));break}}l=l.return}}function cu(e,l,o){var s=e.pingCache;if(s===null){s=e.pingCache=new gx;var p=new Set;s.set(l,p)}else p=s.get(l),p===void 0&&(p=new Set,s.set(l,p));p.has(o)||(nu=!0,p.add(o),e=Tx.bind(null,e,l,o),l.then(e,e))}function Tx(e,l,o){var s=e.pingCache;s!==null&&s.delete(l),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,He===e&&(be&o)===o&&(je===4||je===3&&(be&62914560)===be&&300>Tt()-Ta?(we&2)===0&&ii(e,0):lu|=o,ni===be&&(ni=0)),nn(e)}function zh(e,l){l===0&&(l=Uc()),e=rl(e,l),e!==null&&(Ni(e,l),nn(e))}function Sx(e){var l=e.memoizedState,o=0;l!==null&&(o=l.retryLane),zh(e,o)}function Ex(e,l){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,p=e.memoizedState;p!==null&&(o=p.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(l),zh(e,o)}function Nx(e,l){return Es(e,l)}var Aa=null,ai=null,du=!1,Ra=!1,fu=!1,Yn=0;function nn(e){e!==ai&&e.next===null&&(ai===null?Aa=ai=e:ai=ai.next=e),Ra=!0,du||(du=!0,_x())}function io(e,l){if(!fu&&Ra){fu=!0;do for(var o=!1,s=Aa;s!==null;){if(e!==0){var p=s.pendingLanes;if(p===0)var v=0;else{var T=s.suspendedLanes,E=s.pingedLanes;v=(1<<31-Et(42|e)+1)-1,v&=p&~(T&~E),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,Fh(s,v))}else v=be,v=Io(s,s===He?v:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(v&3)===0||Ei(s,v)||(o=!0,Fh(s,v));s=s.next}while(o);fu=!1}}function Cx(){qh()}function qh(){Ra=du=!1;var e=0;Yn!==0&&Hx()&&(e=Yn);for(var l=Tt(),o=null,s=Aa;s!==null;){var p=s.next,v=jh(s,l);v===0?(s.next=null,o===null?Aa=p:o.next=p,p===null&&(ai=o)):(o=s,(e!==0||(v&3)!==0)&&(Ra=!0)),s=p}We!==0&&We!==5||io(e),Yn!==0&&(Yn=0)}function jh(e,l){for(var o=e.suspendedLanes,s=e.pingedLanes,p=e.expirationTimes,v=e.pendingLanes&-62914561;0<v;){var T=31-Et(v),E=1<<T,A=p[T];A===-1?((E&o)===0||(E&s)!==0)&&(p[T]=Wg(E,l)):A<=l&&(e.expiredLanes|=E),v&=~E}if(l=He,o=be,o=Io(e,e===l?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===l&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Ns(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Ei(e,o)){if(l=o&-o,l===e.callbackPriority)return l;switch(s!==null&&Ns(s),ws(o)){case 2:case 8:o=Dc;break;case 32:o=Ro;break;case 268435456:o=Ic;break;default:o=Ro}return s=Oh.bind(null,e),o=Es(o,s),e.callbackPriority=l,e.callbackNode=o,l}return s!==null&&s!==null&&Ns(s),e.callbackPriority=2,e.callbackNode=null,2}function Oh(e,l){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(wa()&&e.callbackNode!==o)return null;var s=be;return s=Io(e,e===He?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Ch(e,s,l),jh(e,Tt()),e.callbackNode!=null&&e.callbackNode===o?Oh.bind(null,e):null)}function Fh(e,l){if(wa())return null;Ch(e,l,!0)}function _x(){Px(function(){(we&6)!==0?Es(kc,Cx):qh()})}function hu(){if(Yn===0){var e=Fl;e===0&&(e=Mo,Mo<<=1,(Mo&261888)===0&&(Mo=256)),Yn=e}return Yn}function Jh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Go(""+e)}function Yh(e,l){var o=l.ownerDocument.createElement("input");return o.name=l.name,o.value=l.value,e.id&&o.setAttribute("form",e.id),l.parentNode.insertBefore(o,l),e=new FormData(e),o.parentNode.removeChild(o),e}function wx(e,l,o,s,p){if(l==="submit"&&o&&o.stateNode===p){var v=Jh((p[pt]||null).action),T=s.submitter;T&&(l=(l=T[pt]||null)?Jh(l.formAction):T.getAttribute("formAction"),l!==null&&(v=l,T=null));var E=new zo("action","action",null,s,p);e.push({event:E,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Yn!==0){var A=T?Yh(p,T):new FormData(p);Ir(o,{pending:!0,data:A,method:p.method,action:v},null,A)}}else typeof v=="function"&&(E.preventDefault(),A=T?Yh(p,T):new FormData(p),Ir(o,{pending:!0,data:A,method:p.method,action:v},v,A))},currentTarget:p}]})}}for(var pu=0;pu<Qs.length;pu++){var mu=Qs[pu],Ax=mu.toLowerCase(),Rx=mu[0].toUpperCase()+mu.slice(1);Ft(Ax,"on"+Rx)}Ft(Ed,"onAnimationEnd"),Ft(Nd,"onAnimationIteration"),Ft(Cd,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(Fv,"onTransitionRun"),Ft(Jv,"onTransitionStart"),Ft(Yv,"onTransitionCancel"),Ft(_d,"onTransitionEnd"),kl("onMouseEnter",["mouseout","mouseover"]),kl("onMouseLeave",["mouseout","mouseover"]),kl("onPointerEnter",["pointerout","pointerover"]),kl("onPointerLeave",["pointerout","pointerover"]),il("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),il("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),il("onBeforeInput",["compositionend","keypress","textInput","paste"]),il("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),il("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),il("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oo));function Kh(e,l){l=(l&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],p=s.event;s=s.listeners;e:{var v=void 0;if(l)for(var T=s.length-1;0<=T;T--){var E=s[T],A=E.instance,V=E.currentTarget;if(E=E.listener,A!==v&&p.isPropagationStopped())break e;v=E,p.currentTarget=V;try{v(p)}catch(F){Oo(F)}p.currentTarget=null,v=A}else for(T=0;T<s.length;T++){if(E=s[T],A=E.instance,V=E.currentTarget,E=E.listener,A!==v&&p.isPropagationStopped())break e;v=E,p.currentTarget=V;try{v(p)}catch(F){Oo(F)}p.currentTarget=null,v=A}}}}function ye(e,l){var o=l[As];o===void 0&&(o=l[As]=new Set);var s=e+"__bubble";o.has(s)||(Xh(l,e,2,!1),o.add(s))}function gu(e,l,o){var s=0;l&&(s|=4),Xh(o,e,s,l)}var Ma="_reactListening"+Math.random().toString(36).slice(2);function vu(e){if(!e[Ma]){e[Ma]=!0,zc.forEach(function(o){o!=="selectionchange"&&(Mx.has(o)||gu(o,!1,e),gu(o,!0,e))});var l=e.nodeType===9?e:e.ownerDocument;l===null||l[Ma]||(l[Ma]=!0,gu("selectionchange",!1,l))}}function Xh(e,l,o,s){switch(Np(l)){case 2:var p=iy;break;case 8:p=oy;break;default:p=Du}o=p.bind(null,l,o,e),p=void 0,!Gs||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(p=!0),s?p!==void 0?e.addEventListener(l,o,{capture:!0,passive:p}):e.addEventListener(l,o,!0):p!==void 0?e.addEventListener(l,o,{passive:p}):e.addEventListener(l,o,!1)}function xu(e,l,o,s,p){var v=s;if((l&1)===0&&(l&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var E=s.stateNode.containerInfo;if(E===p)break;if(T===4)for(T=s.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;E!==null;){if(T=Al(E),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){s=v=T;continue e}E=E.parentNode}}s=s.return}Zc(function(){var V=v,F=Ls(o),K=[];e:{var B=wd.get(e);if(B!==void 0){var O=zo,oe=e;switch(e){case"keypress":if(Vo(o)===0)break e;case"keydown":case"keyup":O=Ev;break;case"focusin":oe="focus",O=zs;break;case"focusout":oe="blur",O=zs;break;case"beforeblur":case"afterblur":O=zs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=dv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=_v;break;case Ed:case Nd:case Cd:O=pv;break;case _d:O=Av;break;case"scroll":case"scrollend":O=uv;break;case"wheel":O=Mv;break;case"copy":case"cut":case"paste":O=gv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=id;break;case"toggle":case"beforetoggle":O=Dv}var de=(l&4)!==0,Le=!de&&(e==="scroll"||e==="scrollend"),L=de?B!==null?B+"Capture":null:B;de=[];for(var k=V,P;k!==null;){var J=k;if(P=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||P===null||L===null||(J=wi(k,L),J!=null&&de.push(ao(k,J,P))),Le)break;k=k.return}0<de.length&&(B=new O(B,oe,null,o,F),K.push({event:B,listeners:de}))}}if((l&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",B&&o!==Us&&(oe=o.relatedTarget||o.fromElement)&&(Al(oe)||oe[wl]))break e;if((O||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,O?(oe=o.relatedTarget||o.toElement,O=V,oe=oe?Al(oe):null,oe!==null&&(Le=c(oe),de=oe.tag,oe!==Le||de!==5&&de!==27&&de!==6)&&(oe=null)):(O=null,oe=V),O!==oe)){if(de=nd,J="onMouseLeave",L="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(de=id,J="onPointerLeave",L="onPointerEnter",k="pointer"),Le=O==null?B:_i(O),P=oe==null?B:_i(oe),B=new de(J,k+"leave",O,o,F),B.target=Le,B.relatedTarget=P,J=null,Al(F)===V&&(de=new de(L,k+"enter",oe,o,F),de.target=P,de.relatedTarget=Le,J=de),Le=J,O&&oe)t:{for(de=kx,L=O,k=oe,P=0,J=L;J;J=de(J))P++;J=0;for(var ce=k;ce;ce=de(ce))J++;for(;0<P-J;)L=de(L),P--;for(;0<J-P;)k=de(k),J--;for(;P--;){if(L===k||k!==null&&L===k.alternate){de=L;break t}L=de(L),k=de(k)}de=null}else de=null;O!==null&&Qh(K,B,O,de,!1),oe!==null&&Le!==null&&Qh(K,Le,oe,de,!0)}}e:{if(B=V?_i(V):window,O=B.nodeName&&B.nodeName.toLowerCase(),O==="select"||O==="input"&&B.type==="file")var Ne=fd;else if(cd(B))if(hd)Ne=qv;else{Ne=Bv;var se=Vv}else O=B.nodeName,!O||O.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?V&&Is(V.elementType)&&(Ne=fd):Ne=zv;if(Ne&&(Ne=Ne(e,V))){dd(K,Ne,o,F);break e}se&&se(e,B,V),e==="focusout"&&V&&B.type==="number"&&V.memoizedProps.value!=null&&Ds(B,"number",B.value)}switch(se=V?_i(V):window,e){case"focusin":(cd(se)||se.contentEditable==="true")&&(Gl=se,Ys=V,Li=null);break;case"focusout":Li=Ys=Gl=null;break;case"mousedown":Ks=!0;break;case"contextmenu":case"mouseup":case"dragend":Ks=!1,Td(K,o,F);break;case"selectionchange":if(Ov)break;case"keydown":case"keyup":Td(K,o,F)}var ge;if(js)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Hl?rd(e,o)&&(Te="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Te="onCompositionStart");Te&&(od&&o.locale!=="ko"&&(Hl||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Hl&&(ge=ed()):(kn=F,Ps="value"in kn?kn.value:kn.textContent,Hl=!0)),se=ka(V,Te),0<se.length&&(Te=new ld(Te,e,null,o,F),K.push({event:Te,listeners:se}),ge?Te.data=ge:(ge=ud(o),ge!==null&&(Te.data=ge)))),(ge=Uv?Lv(e,o):Hv(e,o))&&(Te=ka(V,"onBeforeInput"),0<Te.length&&(se=new ld("onBeforeInput","beforeinput",null,o,F),K.push({event:se,listeners:Te}),se.data=ge)),wx(K,e,V,o,F)}Kh(K,l)})}function ao(e,l,o){return{instance:e,listener:l,currentTarget:o}}function ka(e,l){for(var o=l+"Capture",s=[];e!==null;){var p=e,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=wi(e,o),p!=null&&s.unshift(ao(e,p,v)),p=wi(e,l),p!=null&&s.push(ao(e,p,v))),e.tag===3)return s;e=e.return}return[]}function kx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qh(e,l,o,s,p){for(var v=l._reactName,T=[];o!==null&&o!==s;){var E=o,A=E.alternate,V=E.stateNode;if(E=E.tag,A!==null&&A===s)break;E!==5&&E!==26&&E!==27||V===null||(A=V,p?(V=wi(o,v),V!=null&&T.unshift(ao(o,V,A))):p||(V=wi(o,v),V!=null&&T.push(ao(o,V,A)))),o=o.return}T.length!==0&&e.push({event:l,listeners:T})}var Dx=/\r\n?/g,Ix=/\u0000|\uFFFD/g;function $h(e){return(typeof e=="string"?e:""+e).replace(Dx,`
`).replace(Ix,"")}function Wh(e,l){return l=$h(l),$h(e)===l}function Ue(e,l,o,s,p,v){switch(o){case"children":typeof s=="string"?l==="body"||l==="textarea"&&s===""||Il(e,s):(typeof s=="number"||typeof s=="bigint")&&l!=="body"&&Il(e,""+s);break;case"className":Lo(e,"class",s);break;case"tabIndex":Lo(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Lo(e,o,s);break;case"style":$c(e,s,v);break;case"data":if(l!=="object"){Lo(e,"data",s);break}case"src":case"href":if(s===""&&(l!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Go(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(l!=="input"&&Ue(e,l,"name",p.name,p,null),Ue(e,l,"formEncType",p.formEncType,p,null),Ue(e,l,"formMethod",p.formMethod,p,null),Ue(e,l,"formTarget",p.formTarget,p,null)):(Ue(e,l,"encType",p.encType,p,null),Ue(e,l,"method",p.method,p,null),Ue(e,l,"target",p.target,p,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Go(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=an);break;case"onScroll":s!=null&&ye("scroll",e);break;case"onScrollEnd":s!=null&&ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=Go(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":ye("beforetoggle",e),ye("toggle",e),Uo(e,"popover",s);break;case"xlinkActuate":on(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":on(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":on(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":on(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":on(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":on(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":on(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":on(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":on(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Uo(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sv.get(o)||o,Uo(e,o,s))}}function yu(e,l,o,s,p,v){switch(o){case"style":$c(e,s,v);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?Il(e,s):(typeof s=="number"||typeof s=="bigint")&&Il(e,""+s);break;case"onScroll":s!=null&&ye("scroll",e);break;case"onScrollEnd":s!=null&&ye("scrollend",e);break;case"onClick":s!=null&&(e.onclick=an);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),l=o.slice(2,p?o.length-7:void 0),v=e[pt]||null,v=v!=null?v[o]:null,typeof v=="function"&&e.removeEventListener(l,v,p),typeof s=="function")){typeof v!="function"&&v!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(l,s,p);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):Uo(e,o,s)}}}function st(e,l,o){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",e),ye("load",e);var s=!1,p=!1,v;for(v in o)if(o.hasOwnProperty(v)){var T=o[v];if(T!=null)switch(v){case"src":s=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:Ue(e,l,v,T,o,null)}}p&&Ue(e,l,"srcSet",o.srcSet,o,null),s&&Ue(e,l,"src",o.src,o,null);return;case"input":ye("invalid",e);var E=v=T=p=null,A=null,V=null;for(s in o)if(o.hasOwnProperty(s)){var F=o[s];if(F!=null)switch(s){case"name":p=F;break;case"type":T=F;break;case"checked":A=F;break;case"defaultChecked":V=F;break;case"value":v=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,l));break;default:Ue(e,l,s,F,o,null)}}Yc(e,v,E,A,V,T,p,!1);return;case"select":ye("invalid",e),s=T=v=null;for(p in o)if(o.hasOwnProperty(p)&&(E=o[p],E!=null))switch(p){case"value":v=E;break;case"defaultValue":T=E;break;case"multiple":s=E;default:Ue(e,l,p,E,o,null)}l=v,o=T,e.multiple=!!s,l!=null?Dl(e,!!s,l,!1):o!=null&&Dl(e,!!s,o,!0);return;case"textarea":ye("invalid",e),v=p=s=null;for(T in o)if(o.hasOwnProperty(T)&&(E=o[T],E!=null))switch(T){case"value":s=E;break;case"defaultValue":p=E;break;case"children":v=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ue(e,l,T,E,o,null)}Xc(e,s,p,v);return;case"option":for(A in o)if(o.hasOwnProperty(A)&&(s=o[A],s!=null))switch(A){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ue(e,l,A,s,o,null)}return;case"dialog":ye("beforetoggle",e),ye("toggle",e),ye("cancel",e),ye("close",e);break;case"iframe":case"object":ye("load",e);break;case"video":case"audio":for(s=0;s<oo.length;s++)ye(oo[s],e);break;case"image":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"embed":case"source":case"link":ye("error",e),ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in o)if(o.hasOwnProperty(V)&&(s=o[V],s!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:Ue(e,l,V,s,o,null)}return;default:if(Is(l)){for(F in o)o.hasOwnProperty(F)&&(s=o[F],s!==void 0&&yu(e,l,F,s,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(s=o[E],s!=null&&Ue(e,l,E,s,o,null))}function Ux(e,l,o,s){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,T=null,E=null,A=null,V=null,F=null;for(O in o){var K=o[O];if(o.hasOwnProperty(O)&&K!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":A=K;default:s.hasOwnProperty(O)||Ue(e,l,O,null,s,K)}}for(var B in s){var O=s[B];if(K=o[B],s.hasOwnProperty(B)&&(O!=null||K!=null))switch(B){case"type":v=O;break;case"name":p=O;break;case"checked":V=O;break;case"defaultChecked":F=O;break;case"value":T=O;break;case"defaultValue":E=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(137,l));break;default:O!==K&&Ue(e,l,B,O,s,K)}}ks(e,T,E,A,V,F,v,p);return;case"select":O=T=E=B=null;for(v in o)if(A=o[v],o.hasOwnProperty(v)&&A!=null)switch(v){case"value":break;case"multiple":O=A;default:s.hasOwnProperty(v)||Ue(e,l,v,null,s,A)}for(p in s)if(v=s[p],A=o[p],s.hasOwnProperty(p)&&(v!=null||A!=null))switch(p){case"value":B=v;break;case"defaultValue":E=v;break;case"multiple":T=v;default:v!==A&&Ue(e,l,p,v,s,A)}l=E,o=T,s=O,B!=null?Dl(e,!!o,B,!1):!!s!=!!o&&(l!=null?Dl(e,!!o,l,!0):Dl(e,!!o,o?[]:"",!1));return;case"textarea":O=B=null;for(E in o)if(p=o[E],o.hasOwnProperty(E)&&p!=null&&!s.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ue(e,l,E,null,s,p)}for(T in s)if(p=s[T],v=o[T],s.hasOwnProperty(T)&&(p!=null||v!=null))switch(T){case"value":B=p;break;case"defaultValue":O=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==v&&Ue(e,l,T,p,s,v)}Kc(e,B,O);return;case"option":for(var oe in o)if(B=o[oe],o.hasOwnProperty(oe)&&B!=null&&!s.hasOwnProperty(oe))switch(oe){case"selected":e.selected=!1;break;default:Ue(e,l,oe,null,s,B)}for(A in s)if(B=s[A],O=o[A],s.hasOwnProperty(A)&&B!==O&&(B!=null||O!=null))switch(A){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ue(e,l,A,B,s,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in o)B=o[de],o.hasOwnProperty(de)&&B!=null&&!s.hasOwnProperty(de)&&Ue(e,l,de,null,s,B);for(V in s)if(B=s[V],O=o[V],s.hasOwnProperty(V)&&B!==O&&(B!=null||O!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,l));break;default:Ue(e,l,V,B,s,O)}return;default:if(Is(l)){for(var Le in o)B=o[Le],o.hasOwnProperty(Le)&&B!==void 0&&!s.hasOwnProperty(Le)&&yu(e,l,Le,void 0,s,B);for(F in s)B=s[F],O=o[F],!s.hasOwnProperty(F)||B===O||B===void 0&&O===void 0||yu(e,l,F,B,s,O);return}}for(var L in o)B=o[L],o.hasOwnProperty(L)&&B!=null&&!s.hasOwnProperty(L)&&Ue(e,l,L,null,s,B);for(K in s)B=s[K],O=o[K],!s.hasOwnProperty(K)||B===O||B==null&&O==null||Ue(e,l,K,B,s,O)}function Zh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Lx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,l=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var p=o[s],v=p.transferSize,T=p.initiatorType,E=p.duration;if(v&&E&&Zh(T)){for(T=0,E=p.responseEnd,s+=1;s<o.length;s++){var A=o[s],V=A.startTime;if(V>E)break;var F=A.transferSize,K=A.initiatorType;F&&Zh(K)&&(A=A.responseEnd,T+=F*(A<E?1:(E-V)/(A-V)))}if(--s,l+=8*(v+T)/(p.duration/1e3),e++,10<e)break}}if(0<e)return l/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bu=null,Tu=null;function Da(e){return e.nodeType===9?e:e.ownerDocument}function ep(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tp(e,l){if(e===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&l==="foreignObject"?0:e}function Su(e,l){return e==="textarea"||e==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Eu=null;function Hx(){var e=window.event;return e&&e.type==="popstate"?e===Eu?!1:(Eu=e,!0):(Eu=null,!1)}var np=typeof setTimeout=="function"?setTimeout:void 0,Gx=typeof clearTimeout=="function"?clearTimeout:void 0,lp=typeof Promise=="function"?Promise:void 0,Px=typeof queueMicrotask=="function"?queueMicrotask:typeof lp<"u"?function(e){return lp.resolve(null).then(e).catch(Vx)}:np;function Vx(e){setTimeout(function(){throw e})}function Kn(e){return e==="head"}function ip(e,l){var o=l,s=0;do{var p=o.nextSibling;if(e.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(p),ci(l);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")so(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,so(o);for(var v=o.firstChild;v;){var T=v.nextSibling,E=v.nodeName;v[Ci]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=T}}else o==="body"&&so(e.ownerDocument.body);o=p}while(o);ci(l)}function op(e,l){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?l?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(l?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function Nu(e){var l=e.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var o=l;switch(l=l.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Nu(o),Rs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Bx(e,l,o,s){for(;e.nodeType===1;){var p=o;if(e.nodeName.toLowerCase()!==l.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ci])switch(l){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(v=e.getAttribute("rel"),v==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(v!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(v=e.getAttribute("src"),(v!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(l==="input"&&e.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===v)return e}else return e;if(e=zt(e.nextSibling),e===null)break}return null}function zx(e,l,o){if(l==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=zt(e.nextSibling),e===null))return null;return e}function ap(e,l){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=zt(e.nextSibling),e===null))return null;return e}function Cu(e){return e.data==="$?"||e.data==="$~"}function _u(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function qx(e,l){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=l;else if(e.data!=="$?"||o.readyState!=="loading")l();else{var s=function(){l(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function zt(e){for(;e!=null;e=e.nextSibling){var l=e.nodeType;if(l===1||l===3)break;if(l===8){if(l=e.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return e}var wu=null;function sp(e){e=e.nextSibling;for(var l=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(l===0)return zt(e.nextSibling);l--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||l++}e=e.nextSibling}return null}function rp(e){e=e.previousSibling;for(var l=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(l===0)return e;l--}else o!=="/$"&&o!=="/&"||l++}e=e.previousSibling}return null}function up(e,l,o){switch(l=Da(o),e){case"html":if(e=l.documentElement,!e)throw Error(a(452));return e;case"head":if(e=l.head,!e)throw Error(a(453));return e;case"body":if(e=l.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function so(e){for(var l=e.attributes;l.length;)e.removeAttributeNode(l[0]);Rs(e)}var qt=new Map,cp=new Set;function Ia(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sn=Z.d;Z.d={f:jx,r:Ox,D:Fx,C:Jx,L:Yx,m:Kx,X:Qx,S:Xx,M:$x};function jx(){var e=Sn.f(),l=Na();return e||l}function Ox(e){var l=Rl(e);l!==null&&l.tag===5&&l.type==="form"?wf(l):Sn.r(e)}var si=typeof document>"u"?null:document;function dp(e,l,o){var s=si;if(s&&typeof l=="string"&&l){var p=Ut(l);p='link[rel="'+e+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),cp.has(p)||(cp.add(p),e={rel:e,crossOrigin:o,href:l},s.querySelector(p)===null&&(l=s.createElement("link"),st(l,"link",e),Ze(l),s.head.appendChild(l)))}}function Fx(e){Sn.D(e),dp("dns-prefetch",e,null)}function Jx(e,l){Sn.C(e,l),dp("preconnect",e,l)}function Yx(e,l,o){Sn.L(e,l,o);var s=si;if(s&&e&&l){var p='link[rel="preload"][as="'+Ut(l)+'"]';l==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Ut(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Ut(o.imageSizes)+'"]')):p+='[href="'+Ut(e)+'"]';var v=p;switch(l){case"style":v=ri(e);break;case"script":v=ui(e)}qt.has(v)||(e=b({rel:"preload",href:l==="image"&&o&&o.imageSrcSet?void 0:e,as:l},o),qt.set(v,e),s.querySelector(p)!==null||l==="style"&&s.querySelector(ro(v))||l==="script"&&s.querySelector(uo(v))||(l=s.createElement("link"),st(l,"link",e),Ze(l),s.head.appendChild(l)))}}function Kx(e,l){Sn.m(e,l);var o=si;if(o&&e){var s=l&&typeof l.as=="string"?l.as:"script",p='link[rel="modulepreload"][as="'+Ut(s)+'"][href="'+Ut(e)+'"]',v=p;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=ui(e)}if(!qt.has(v)&&(e=b({rel:"modulepreload",href:e},l),qt.set(v,e),o.querySelector(p)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(uo(v)))return}s=o.createElement("link"),st(s,"link",e),Ze(s),o.head.appendChild(s)}}}function Xx(e,l,o){Sn.S(e,l,o);var s=si;if(s&&e){var p=Ml(s).hoistableStyles,v=ri(e);l=l||"default";var T=p.get(v);if(!T){var E={loading:0,preload:null};if(T=s.querySelector(ro(v)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":l},o),(o=qt.get(v))&&Au(e,o);var A=T=s.createElement("link");Ze(A),st(A,"link",e),A._p=new Promise(function(V,F){A.onload=V,A.onerror=F}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ua(T,l,s)}T={type:"stylesheet",instance:T,count:1,state:E},p.set(v,T)}}}function Qx(e,l){Sn.X(e,l);var o=si;if(o&&e){var s=Ml(o).hoistableScripts,p=ui(e),v=s.get(p);v||(v=o.querySelector(uo(p)),v||(e=b({src:e,async:!0},l),(l=qt.get(p))&&Ru(e,l),v=o.createElement("script"),Ze(v),st(v,"link",e),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},s.set(p,v))}}function $x(e,l){Sn.M(e,l);var o=si;if(o&&e){var s=Ml(o).hoistableScripts,p=ui(e),v=s.get(p);v||(v=o.querySelector(uo(p)),v||(e=b({src:e,async:!0,type:"module"},l),(l=qt.get(p))&&Ru(e,l),v=o.createElement("script"),Ze(v),st(v,"link",e),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},s.set(p,v))}}function fp(e,l,o,s){var p=(p=fe.current)?Ia(p):null;if(!p)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(l=ri(o.href),o=Ml(p).hoistableStyles,s=o.get(l),s||(s={type:"style",instance:null,count:0,state:null},o.set(l,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=ri(o.href);var v=Ml(p).hoistableStyles,T=v.get(e);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(e,T),(v=p.querySelector(ro(e)))&&!v._p&&(T.instance=v,T.state.loading=5),qt.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},qt.set(e,o),v||Wx(p,e,o,T.state))),l&&s===null)throw Error(a(528,""));return T}if(l&&s!==null)throw Error(a(529,""));return null;case"script":return l=o.async,o=o.src,typeof o=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=ui(o),o=Ml(p).hoistableScripts,s=o.get(l),s||(s={type:"script",instance:null,count:0,state:null},o.set(l,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ri(e){return'href="'+Ut(e)+'"'}function ro(e){return'link[rel="stylesheet"]['+e+"]"}function hp(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Wx(e,l,o,s){e.querySelector('link[rel="preload"][as="style"]['+l+"]")?s.loading=1:(l=e.createElement("link"),s.preload=l,l.addEventListener("load",function(){return s.loading|=1}),l.addEventListener("error",function(){return s.loading|=2}),st(l,"link",o),Ze(l),e.head.appendChild(l))}function ui(e){return'[src="'+Ut(e)+'"]'}function uo(e){return"script[async]"+e}function pp(e,l,o){if(l.count++,l.instance===null)switch(l.type){case"style":var s=e.querySelector('style[data-href~="'+Ut(o.href)+'"]');if(s)return l.instance=s,Ze(s),s;var p=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Ze(s),st(s,"style",p),Ua(s,o.precedence,e),l.instance=s;case"stylesheet":p=ri(o.href);var v=e.querySelector(ro(p));if(v)return l.state.loading|=4,l.instance=v,Ze(v),v;s=hp(o),(p=qt.get(p))&&Au(s,p),v=(e.ownerDocument||e).createElement("link"),Ze(v);var T=v;return T._p=new Promise(function(E,A){T.onload=E,T.onerror=A}),st(v,"link",s),l.state.loading|=4,Ua(v,o.precedence,e),l.instance=v;case"script":return v=ui(o.src),(p=e.querySelector(uo(v)))?(l.instance=p,Ze(p),p):(s=o,(p=qt.get(v))&&(s=b({},o),Ru(s,p)),e=e.ownerDocument||e,p=e.createElement("script"),Ze(p),st(p,"link",s),e.head.appendChild(p),l.instance=p);case"void":return null;default:throw Error(a(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(s=l.instance,l.state.loading|=4,Ua(s,o.precedence,e));return l.instance}function Ua(e,l,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=s.length?s[s.length-1]:null,v=p,T=0;T<s.length;T++){var E=s[T];if(E.dataset.precedence===l)v=E;else if(v!==p)break}v?v.parentNode.insertBefore(e,v.nextSibling):(l=o.nodeType===9?o.head:o,l.insertBefore(e,l.firstChild))}function Au(e,l){e.crossOrigin==null&&(e.crossOrigin=l.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=l.referrerPolicy),e.title==null&&(e.title=l.title)}function Ru(e,l){e.crossOrigin==null&&(e.crossOrigin=l.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=l.referrerPolicy),e.integrity==null&&(e.integrity=l.integrity)}var La=null;function mp(e,l,o){if(La===null){var s=new Map,p=La=new Map;p.set(o,s)}else p=La,s=p.get(o),s||(s=new Map,p.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),p=0;p<o.length;p++){var v=o[p];if(!(v[Ci]||v[lt]||e==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var T=v.getAttribute(l)||"";T=e+T;var E=s.get(T);E?E.push(v):s.set(T,[v])}}return s}function gp(e,l,o){e=e.ownerDocument||e,e.head.insertBefore(o,l==="title"?e.querySelector("head > title"):null)}function Zx(e,l,o){if(o===1||l.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return e=l.disabled,typeof l.precedence=="string"&&e==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function vp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ey(e,l,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=ri(s.href),v=l.querySelector(ro(p));if(v){l=v._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(e.count++,e=Ha.bind(e),l.then(e,e)),o.state.loading|=4,o.instance=v,Ze(v);return}v=l.ownerDocument||l,s=hp(s),(p=qt.get(p))&&Au(s,p),v=v.createElement("link"),Ze(v);var T=v;T._p=new Promise(function(E,A){T.onload=E,T.onerror=A}),st(v,"link",s),o.instance=v}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,l),(l=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Ha.bind(e),l.addEventListener("load",o),l.addEventListener("error",o))}}var Mu=0;function ty(e,l){return e.stylesheets&&e.count===0&&Pa(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&Pa(e,e.stylesheets),e.unsuspend){var v=e.unsuspend;e.unsuspend=null,v()}},6e4+l);0<e.imgBytes&&Mu===0&&(Mu=62500*Lx());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Pa(e,e.stylesheets),e.unsuspend)){var v=e.unsuspend;e.unsuspend=null,v()}},(e.imgBytes>Mu?50:800)+l);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(p)}}:null}function Ha(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pa(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ga=null;function Pa(e,l){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ga=new Map,l.forEach(ny,e),Ga=null,Ha.call(e))}function ny(e,l){if(!(l.state.loading&4)){var o=Ga.get(e);if(o)var s=o.get(null);else{o=new Map,Ga.set(e,o);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var T=p[v];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),s=T)}s&&o.set(null,s)}p=l.instance,T=p.getAttribute("data-precedence"),v=o.get(T)||s,v===s&&o.set(null,p),o.set(T,p),this.count++,s=Ha.bind(this),p.addEventListener("load",s),p.addEventListener("error",s),v?v.parentNode.insertBefore(p,v.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),l.state.loading|=4}}var co={$$typeof:H,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function ly(e,l,o,s,p,v,T,E,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cs(0),this.hiddenUpdates=Cs(null),this.identifierPrefix=s,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function xp(e,l,o,s,p,v,T,E,A,V,F,K){return e=new ly(e,l,o,T,A,V,F,K,E),l=1,v===!0&&(l|=24),v=Ct(3,null,null,l),e.current=v,v.stateNode=e,l=ur(),l.refCount++,e.pooledCache=l,l.refCount++,v.memoizedState={element:s,isDehydrated:o,cache:l},hr(v),e}function yp(e){return e?(e=Bl,e):Bl}function bp(e,l,o,s,p,v){p=yp(p),s.context===null?s.context=p:s.pendingContext=p,s=Gn(l),s.payload={element:o},v=v===void 0?null:v,v!==null&&(s.callback=v),o=Pn(e,s,l),o!==null&&(bt(o,e,l),qi(o,e,l))}function Tp(e,l){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<l?o:l}}function ku(e,l){Tp(e,l),(e=e.alternate)&&Tp(e,l)}function Sp(e){if(e.tag===13||e.tag===31){var l=rl(e,67108864);l!==null&&bt(l,e,67108864),ku(e,67108864)}}function Ep(e){if(e.tag===13||e.tag===31){var l=Mt();l=_s(l);var o=rl(e,l);o!==null&&bt(o,e,l),ku(e,l)}}var Va=!0;function iy(e,l,o,s){var p=q.T;q.T=null;var v=Z.p;try{Z.p=2,Du(e,l,o,s)}finally{Z.p=v,q.T=p}}function oy(e,l,o,s){var p=q.T;q.T=null;var v=Z.p;try{Z.p=8,Du(e,l,o,s)}finally{Z.p=v,q.T=p}}function Du(e,l,o,s){if(Va){var p=Iu(s);if(p===null)xu(e,l,s,Ba,o),Cp(e,s);else if(sy(p,e,l,o,s))s.stopPropagation();else if(Cp(e,s),l&4&&-1<ay.indexOf(e)){for(;p!==null;){var v=Rl(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var T=ll(v.pendingLanes);if(T!==0){var E=v;for(E.pendingLanes|=2,E.entangledLanes|=2;T;){var A=1<<31-Et(T);E.entanglements[1]|=A,T&=~A}nn(v),(we&6)===0&&(Sa=Tt()+500,io(0))}}break;case 31:case 13:E=rl(v,2),E!==null&&bt(E,v,2),Na(),ku(v,2)}if(v=Iu(s),v===null&&xu(e,l,s,Ba,o),v===p)break;p=v}p!==null&&s.stopPropagation()}else xu(e,l,s,null,o)}}function Iu(e){return e=Ls(e),Uu(e)}var Ba=null;function Uu(e){if(Ba=null,e=Al(e),e!==null){var l=c(e);if(l===null)e=null;else{var o=l.tag;if(o===13){if(e=h(l),e!==null)return e;e=null}else if(o===31){if(e=g(l),e!==null)return e;e=null}else if(o===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;e=null}else l!==e&&(e=null)}}return Ba=e,null}function Np(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fg()){case kc:return 2;case Dc:return 8;case Ro:case Jg:return 32;case Ic:return 268435456;default:return 32}default:return 32}}var Lu=!1,Xn=null,Qn=null,$n=null,fo=new Map,ho=new Map,Wn=[],ay="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cp(e,l){switch(e){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":fo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ho.delete(l.pointerId)}}function po(e,l,o,s,p,v){return e===null||e.nativeEvent!==v?(e={blockedOn:l,domEventName:o,eventSystemFlags:s,nativeEvent:v,targetContainers:[p]},l!==null&&(l=Rl(l),l!==null&&Sp(l)),e):(e.eventSystemFlags|=s,l=e.targetContainers,p!==null&&l.indexOf(p)===-1&&l.push(p),e)}function sy(e,l,o,s,p){switch(l){case"focusin":return Xn=po(Xn,e,l,o,s,p),!0;case"dragenter":return Qn=po(Qn,e,l,o,s,p),!0;case"mouseover":return $n=po($n,e,l,o,s,p),!0;case"pointerover":var v=p.pointerId;return fo.set(v,po(fo.get(v)||null,e,l,o,s,p)),!0;case"gotpointercapture":return v=p.pointerId,ho.set(v,po(ho.get(v)||null,e,l,o,s,p)),!0}return!1}function _p(e){var l=Al(e.target);if(l!==null){var o=c(l);if(o!==null){if(l=o.tag,l===13){if(l=h(o),l!==null){e.blockedOn=l,Vc(e.priority,function(){Ep(o)});return}}else if(l===31){if(l=g(o),l!==null){e.blockedOn=l,Vc(e.priority,function(){Ep(o)});return}}else if(l===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function za(e){if(e.blockedOn!==null)return!1;for(var l=e.targetContainers;0<l.length;){var o=Iu(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);Us=s,o.target.dispatchEvent(s),Us=null}else return l=Rl(o),l!==null&&Sp(l),e.blockedOn=o,!1;l.shift()}return!0}function wp(e,l,o){za(e)&&o.delete(l)}function ry(){Lu=!1,Xn!==null&&za(Xn)&&(Xn=null),Qn!==null&&za(Qn)&&(Qn=null),$n!==null&&za($n)&&($n=null),fo.forEach(wp),ho.forEach(wp)}function qa(e,l){e.blockedOn===l&&(e.blockedOn=null,Lu||(Lu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ry)))}var ja=null;function Ap(e){ja!==e&&(ja=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ja===e&&(ja=null);for(var l=0;l<e.length;l+=3){var o=e[l],s=e[l+1],p=e[l+2];if(typeof s!="function"){if(Uu(s||o)===null)continue;break}var v=Rl(o);v!==null&&(e.splice(l,3),l-=3,Ir(v,{pending:!0,data:p,method:o.method,action:s},s,p))}}))}function ci(e){function l(A){return qa(A,e)}Xn!==null&&qa(Xn,e),Qn!==null&&qa(Qn,e),$n!==null&&qa($n,e),fo.forEach(l),ho.forEach(l);for(var o=0;o<Wn.length;o++){var s=Wn[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Wn.length&&(o=Wn[0],o.blockedOn===null);)_p(o),o.blockedOn===null&&Wn.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var p=o[s],v=o[s+1],T=p[pt]||null;if(typeof v=="function")T||Ap(o);else if(T){var E=null;if(v&&v.hasAttribute("formAction")){if(p=v,T=v[pt]||null)E=T.formAction;else if(Uu(p)!==null)continue}else E=T.action;typeof E=="function"?o[s+1]=E:(o.splice(s,3),s-=3),Ap(o)}}}function Rp(){function e(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function l(){p!==null&&(p(),p=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),p!==null&&(p(),p=null)}}}function Hu(e){this._internalRoot=e}Oa.prototype.render=Hu.prototype.render=function(e){var l=this._internalRoot;if(l===null)throw Error(a(409));var o=l.current,s=Mt();bp(o,s,e,l,null,null)},Oa.prototype.unmount=Hu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var l=e.containerInfo;bp(e.current,2,null,e,null,null),Na(),l[wl]=null}};function Oa(e){this._internalRoot=e}Oa.prototype.unstable_scheduleHydration=function(e){if(e){var l=Pc();e={blockedOn:null,target:e,priority:l};for(var o=0;o<Wn.length&&l!==0&&l<Wn[o].priority;o++);Wn.splice(o,0,e),o===0&&_p(e)}};var Mp=t.version;if(Mp!=="19.2.3")throw Error(a(527,Mp,"19.2.3"));Z.findDOMNode=function(e){var l=e._reactInternals;if(l===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(l),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var uy={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fa.isDisabled&&Fa.supportsFiber)try{Si=Fa.inject(uy),St=Fa}catch{}}return go.createRoot=function(e,l){if(!r(e))throw Error(a(299));var o=!1,s="",p=Gf,v=Pf,T=Vf;return l!=null&&(l.unstable_strictMode===!0&&(o=!0),l.identifierPrefix!==void 0&&(s=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),l=xp(e,1,!1,null,null,o,s,null,p,v,T,Rp),e[wl]=l.current,vu(e),new Hu(l)},go.hydrateRoot=function(e,l,o){if(!r(e))throw Error(a(299));var s=!1,p="",v=Gf,T=Pf,E=Vf,A=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.formState!==void 0&&(A=o.formState)),l=xp(e,1,!0,l,o??null,s,p,A,v,T,E,Rp),l.context=yp(null),o=l.current,s=Mt(),s=_s(s),p=Gn(s),p.callback=null,Pn(o,p,s),o=s,l.current.lanes=o,Ni(l,o),nn(l),e[wl]=l.current,vu(e),new Oa(l)},go.version="19.2.3",go}var Bp;function by(){if(Bp)return Vu.exports;Bp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Vu.exports=yy(),Vu.exports}var Ty=by();const Sy=_0(Ty);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zp="popstate";function Ey(n={}){function t(r,c){let{pathname:h="/",search:g="",hash:x=""}=Cl(r.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Ku("",{pathname:h,search:g,hash:x},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(r,c){let h=r.document.querySelector("base"),g="";if(h&&h.getAttribute("href")){let x=r.location.href,m=x.indexOf("#");g=m===-1?x:x.slice(0,m)}return g+"#"+(typeof c=="string"?c:Co(c))}function a(r,c){kt(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return Cy(t,i,a,n)}function ze(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function kt(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ny(){return Math.random().toString(36).substring(2,10)}function qp(n,t){return{usr:n.state,key:n.key,idx:t}}function Ku(n,t,i=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Cl(t):t,state:i,key:t&&t.key||a||Ny()}}function Co({pathname:n="/",search:t="",hash:i=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function Cl(n){let t={};if(n){let i=n.indexOf("#");i>=0&&(t.hash=n.substring(i),n=n.substring(0,i));let a=n.indexOf("?");a>=0&&(t.search=n.substring(a),n=n.substring(0,a)),n&&(t.pathname=n)}return t}function Cy(n,t,i,a={}){let{window:r=document.defaultView,v5Compat:c=!1}=a,h=r.history,g="POP",x=null,m=y();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function y(){return(h.state||{idx:null}).idx}function b(){g="POP";let M=y(),R=M==null?null:M-m;m=M,x&&x({action:g,location:_.location,delta:R})}function S(M,R){g="PUSH";let j=Ku(_.location,M,R);i&&i(j,M),m=y()+1;let H=qp(j,m),D=_.createHref(j);try{h.pushState(H,"",D)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(D)}c&&x&&x({action:g,location:_.location,delta:1})}function C(M,R){g="REPLACE";let j=Ku(_.location,M,R);i&&i(j,M),m=y();let H=qp(j,m),D=_.createHref(j);h.replaceState(H,"",D),c&&x&&x({action:g,location:_.location,delta:0})}function w(M){return _y(M)}let _={get action(){return g},get location(){return n(r,h)},listen(M){if(x)throw new Error("A history only accepts one active listener");return r.addEventListener(zp,b),x=M,()=>{r.removeEventListener(zp,b),x=null}},createHref(M){return t(r,M)},createURL:w,encodeLocation(M){let R=w(M);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:S,replace:C,go(M){return h.go(M)}};return _}function _y(n,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ze(i,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:Co(n);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function w0(n,t,i="/"){return wy(n,t,i,!1)}function wy(n,t,i,a){let r=typeof t=="string"?Cl(t):t,c=Nn(r.pathname||"/",i);if(c==null)return null;let h=A0(n);Ay(h);let g=null;for(let x=0;g==null&&x<h.length;++x){let m=Vy(c);g=Gy(h[x],m,a)}return g}function A0(n,t=[],i=[],a="",r=!1){let c=(h,g,x=r,m)=>{let y={relativePath:m===void 0?h.path||"":m,caseSensitive:h.caseSensitive===!0,childrenIndex:g,route:h};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(a)&&x)return;ze(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length)}let b=En([a,y.relativePath]),S=i.concat(y);h.children&&h.children.length>0&&(ze(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),A0(h.children,t,S,b,x)),!(h.path==null&&!h.index)&&t.push({path:b,score:Ly(b,h.index),routesMeta:S})};return n.forEach((h,g)=>{var x;if(h.path===""||!((x=h.path)!=null&&x.includes("?")))c(h,g);else for(let m of R0(h.path))c(h,g,!0,m)}),t}function R0(n){let t=n.split("/");if(t.length===0)return[];let[i,...a]=t,r=i.endsWith("?"),c=i.replace(/\?$/,"");if(a.length===0)return r?[c,""]:[c];let h=R0(a.join("/")),g=[];return g.push(...h.map(x=>x===""?c:[c,x].join("/"))),r&&g.push(...h),g.map(x=>n.startsWith("/")&&x===""?"/":x)}function Ay(n){n.sort((t,i)=>t.score!==i.score?i.score-t.score:Hy(t.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var Ry=/^:[\w-]+$/,My=3,ky=2,Dy=1,Iy=10,Uy=-2,jp=n=>n==="*";function Ly(n,t){let i=n.split("/"),a=i.length;return i.some(jp)&&(a+=Uy),t&&(a+=ky),i.filter(r=>!jp(r)).reduce((r,c)=>r+(Ry.test(c)?My:c===""?Dy:Iy),a)}function Hy(n,t){return n.length===t.length&&n.slice(0,-1).every((a,r)=>a===t[r])?n[n.length-1]-t[t.length-1]:0}function Gy(n,t,i=!1){let{routesMeta:a}=n,r={},c="/",h=[];for(let g=0;g<a.length;++g){let x=a[g],m=g===a.length-1,y=c==="/"?t:t.slice(c.length)||"/",b=ls({path:x.relativePath,caseSensitive:x.caseSensitive,end:m},y),S=x.route;if(!b&&m&&i&&!a[a.length-1].route.index&&(b=ls({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},y)),!b)return null;Object.assign(r,b.params),h.push({params:r,pathname:En([c,b.pathname]),pathnameBase:jy(En([c,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(c=En([c,b.pathnameBase]))}return h}function ls(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,a]=Py(n.path,n.caseSensitive,n.end),r=t.match(i);if(!r)return null;let c=r[0],h=c.replace(/(.)\/+$/,"$1"),g=r.slice(1);return{params:a.reduce((m,{paramName:y,isOptional:b},S)=>{if(y==="*"){let w=g[S]||"";h=c.slice(0,c.length-w.length).replace(/(.)\/+$/,"$1")}const C=g[S];return b&&!C?m[y]=void 0:m[y]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:h,pattern:n}}function Py(n,t=!1,i=!0){kt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,x)=>(a.push({paramName:g,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),a]}function Vy(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Nn(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,a=n.charAt(i);return a&&a!=="/"?null:n.slice(i)||"/"}var M0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,By=n=>M0.test(n);function zy(n,t="/"){let{pathname:i,search:a="",hash:r=""}=typeof n=="string"?Cl(n):n,c;if(i)if(By(i))c=i;else{if(i.includes("//")){let h=i;i=i.replace(/\/\/+/g,"/"),kt(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${i}`)}i.startsWith("/")?c=Op(i.substring(1),"/"):c=Op(i,t)}else c=t;return{pathname:c,search:Oy(a),hash:Fy(r)}}function Op(n,t){let i=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?i.length>1&&i.pop():r!=="."&&i.push(r)}),i.length>1?i.join("/"):"/"}function ju(n,t,i,a){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qy(n){return n.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function dc(n){let t=qy(n);return t.map((i,a)=>a===t.length-1?i.pathname:i.pathnameBase)}function fc(n,t,i,a=!1){let r;typeof n=="string"?r=Cl(n):(r={...n},ze(!r.pathname||!r.pathname.includes("?"),ju("?","pathname","search",r)),ze(!r.pathname||!r.pathname.includes("#"),ju("#","pathname","hash",r)),ze(!r.search||!r.search.includes("#"),ju("#","search","hash",r)));let c=n===""||r.pathname==="",h=c?"/":r.pathname,g;if(h==null)g=i;else{let b=t.length-1;if(!a&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),b-=1;r.pathname=S.join("/")}g=b>=0?t[b]:"/"}let x=zy(r,g),m=h&&h!=="/"&&h.endsWith("/"),y=(c||h===".")&&i.endsWith("/");return!x.pathname.endsWith("/")&&(m||y)&&(x.pathname+="/"),x}var En=n=>n.join("/").replace(/\/\/+/g,"/"),jy=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Oy=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Fy=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Jy=class{constructor(n,t,i,a=!1){this.status=n,this.statusText=t||"",this.internal=a,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function Yy(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Ky(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var k0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function D0(n,t){let i=n;if(typeof i!="string"||!M0.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let a=i,r=!1;if(k0)try{let c=new URL(window.location.href),h=i.startsWith("//")?new URL(c.protocol+i):new URL(i),g=Nn(h.pathname,t);h.origin===c.origin&&g!=null?i=g+h.search+h.hash:r=!0}catch{kt(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:r,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var I0=["POST","PUT","PATCH","DELETE"];new Set(I0);var Xy=["GET",...I0];new Set(Xy);var gi=U.createContext(null);gi.displayName="DataRouter";var cs=U.createContext(null);cs.displayName="DataRouterState";var Qy=U.createContext(!1),U0=U.createContext({isTransitioning:!1});U0.displayName="ViewTransition";var $y=U.createContext(new Map);$y.displayName="Fetchers";var Wy=U.createContext(null);Wy.displayName="Await";var Dt=U.createContext(null);Dt.displayName="Navigation";var _o=U.createContext(null);_o.displayName="Location";var $t=U.createContext({outlet:null,matches:[],isDataRoute:!1});$t.displayName="Route";var hc=U.createContext(null);hc.displayName="RouteError";var L0="REACT_ROUTER_ERROR",Zy="REDIRECT",eb="ROUTE_ERROR_RESPONSE";function tb(n){if(n.startsWith(`${L0}:${Zy}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function nb(n){if(n.startsWith(`${L0}:${eb}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Jy(t.status,t.statusText,t.data)}catch{}}function lb(n,{relative:t}={}){ze(vi(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=U.useContext(Dt),{hash:r,pathname:c,search:h}=wo(n,{relative:t}),g=c;return i!=="/"&&(g=c==="/"?i:En([i,c])),a.createHref({pathname:g,search:h,hash:r})}function vi(){return U.useContext(_o)!=null}function _n(){return ze(vi(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(_o).location}var H0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function G0(n){U.useContext(Dt).static||U.useLayoutEffect(n)}function P0(){let{isDataRoute:n}=U.useContext($t);return n?vb():ib()}function ib(){ze(vi(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(gi),{basename:t,navigator:i}=U.useContext(Dt),{matches:a}=U.useContext($t),{pathname:r}=_n(),c=JSON.stringify(dc(a)),h=U.useRef(!1);return G0(()=>{h.current=!0}),U.useCallback((x,m={})=>{if(kt(h.current,H0),!h.current)return;if(typeof x=="number"){i.go(x);return}let y=fc(x,JSON.parse(c),r,m.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:En([t,y.pathname])),(m.replace?i.replace:i.push)(y,m.state,m)},[t,i,c,r,n])}U.createContext(null);function ob(){let{matches:n}=U.useContext($t),t=n[n.length-1];return t?t.params:{}}function wo(n,{relative:t}={}){let{matches:i}=U.useContext($t),{pathname:a}=_n(),r=JSON.stringify(dc(i));return U.useMemo(()=>fc(n,JSON.parse(r),a,t==="path"),[n,r,a,t])}function ab(n,t){return V0(n,t)}function V0(n,t,i,a,r){var j;ze(vi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=U.useContext(Dt),{matches:h}=U.useContext($t),g=h[h.length-1],x=g?g.params:{},m=g?g.pathname:"/",y=g?g.pathnameBase:"/",b=g&&g.route;{let H=b&&b.path||"";z0(m,!b||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let S=_n(),C;if(t){let H=typeof t=="string"?Cl(t):t;ze(y==="/"||((j=H.pathname)==null?void 0:j.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),C=H}else C=S;let w=C.pathname||"/",_=w;if(y!=="/"){let H=y.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(H.length).join("/")}let M=w0(n,{pathname:_});kt(b||M!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),kt(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=db(M&&M.map(H=>Object.assign({},H,{params:Object.assign({},x,H.params),pathname:En([y,c.encodeLocation?c.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:En([y,c.encodeLocation?c.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),h,i,a,r);return t&&R?U.createElement(_o.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},R):R}function sb(){let n=gb(),t=Yy(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:c},"ErrorBoundary")," or"," ",U.createElement("code",{style:c},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),i?U.createElement("pre",{style:r},i):null,h)}var rb=U.createElement(sb,null),B0=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const i=nb(n.digest);i&&(n=i)}let t=n!==void 0?U.createElement($t.Provider,{value:this.props.routeContext},U.createElement(hc.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?U.createElement(ub,{error:n},t):t}};B0.contextType=Qy;var Ou=new WeakMap;function ub({children:n,error:t}){let{basename:i}=U.useContext(Dt);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=tb(t.digest);if(a){let r=Ou.get(t);if(r)throw r;let c=D0(a.location,i);if(k0&&!Ou.get(t))if(c.isExternal||a.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:a.replace}));throw Ou.set(t,h),h}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return n}function cb({routeContext:n,match:t,children:i}){let a=U.useContext(gi);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement($t.Provider,{value:n},i)}function db(n,t=[],i=null,a=null,r=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let c=n,h=i==null?void 0:i.errors;if(h!=null){let y=c.findIndex(b=>b.route.id&&(h==null?void 0:h[b.route.id])!==void 0);ze(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let g=!1,x=-1;if(i)for(let y=0;y<c.length;y++){let b=c[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(x=y),b.route.id){let{loaderData:S,errors:C}=i,w=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!C||C[b.route.id]===void 0);if(b.route.lazy||w){g=!0,x>=0?c=c.slice(0,x+1):c=[c[0]];break}}}let m=i&&a?(y,b)=>{var S,C;a(y,{location:i.location,params:((C=(S=i.matches)==null?void 0:S[0])==null?void 0:C.params)??{},unstable_pattern:Ky(i.matches),errorInfo:b})}:void 0;return c.reduceRight((y,b,S)=>{let C,w=!1,_=null,M=null;i&&(C=h&&b.route.id?h[b.route.id]:void 0,_=b.route.errorElement||rb,g&&(x<0&&S===0?(z0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,M=null):x===S&&(w=!0,M=b.route.hydrateFallbackElement||null)));let R=t.concat(c.slice(0,S+1)),j=()=>{let H;return C?H=_:w?H=M:b.route.Component?H=U.createElement(b.route.Component,null):b.route.element?H=b.route.element:H=y,U.createElement(cb,{match:b,routeContext:{outlet:y,matches:R,isDataRoute:i!=null},children:H})};return i&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?U.createElement(B0,{location:i.location,revalidation:i.revalidation,component:_,error:C,children:j(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:m}):j()},null)}function pc(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fb(n){let t=U.useContext(gi);return ze(t,pc(n)),t}function hb(n){let t=U.useContext(cs);return ze(t,pc(n)),t}function pb(n){let t=U.useContext($t);return ze(t,pc(n)),t}function mc(n){let t=pb(n),i=t.matches[t.matches.length-1];return ze(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function mb(){return mc("useRouteId")}function gb(){var a;let n=U.useContext(hc),t=hb("useRouteError"),i=mc("useRouteError");return n!==void 0?n:(a=t.errors)==null?void 0:a[i]}function vb(){let{router:n}=fb("useNavigate"),t=mc("useNavigate"),i=U.useRef(!1);return G0(()=>{i.current=!0}),U.useCallback(async(r,c={})=>{kt(i.current,H0),i.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:t,...c}))},[n,t])}var Fp={};function z0(n,t,i){!t&&!Fp[n]&&(Fp[n]=!0,kt(!1,i))}U.memo(xb);function xb({routes:n,future:t,state:i,onError:a}){return V0(n,void 0,i,a,t)}function yb({to:n,replace:t,state:i,relative:a}){ze(vi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=U.useContext(Dt);kt(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=U.useContext($t),{pathname:h}=_n(),g=P0(),x=fc(n,dc(c),h,a==="path"),m=JSON.stringify(x);return U.useEffect(()=>{g(JSON.parse(m),{replace:t,state:i,relative:a})},[g,m,a,t,i]),null}function Kt(n){ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bb({basename:n="/",children:t=null,location:i,navigationType:a="POP",navigator:r,static:c=!1,unstable_useTransitions:h}){ze(!vi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=n.replace(/^\/*/,"/"),x=U.useMemo(()=>({basename:g,navigator:r,static:c,unstable_useTransitions:h,future:{}}),[g,r,c,h]);typeof i=="string"&&(i=Cl(i));let{pathname:m="/",search:y="",hash:b="",state:S=null,key:C="default"}=i,w=U.useMemo(()=>{let _=Nn(m,g);return _==null?null:{location:{pathname:_,search:y,hash:b,state:S,key:C},navigationType:a}},[g,m,y,b,S,C,a]);return kt(w!=null,`<Router basename="${g}"> is not able to match the URL "${m}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:U.createElement(Dt.Provider,{value:x},U.createElement(_o.Provider,{children:t,value:w}))}function Tb({children:n,location:t}){return ab(Xu(n),t)}function Xu(n,t=[]){let i=[];return U.Children.forEach(n,(a,r)=>{if(!U.isValidElement(a))return;let c=[...t,r];if(a.type===U.Fragment){i.push.apply(i,Xu(a.props.children,c));return}ze(a.type===Kt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ze(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=Xu(a.props.children,c)),i.push(h)}),i}var Wa="get",Za="application/x-www-form-urlencoded";function ds(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function Sb(n){return ds(n)&&n.tagName.toLowerCase()==="button"}function Eb(n){return ds(n)&&n.tagName.toLowerCase()==="form"}function Nb(n){return ds(n)&&n.tagName.toLowerCase()==="input"}function Cb(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function _b(n,t){return n.button===0&&(!t||t==="_self")&&!Cb(n)}var Ja=null;function wb(){if(Ja===null)try{new FormData(document.createElement("form"),0),Ja=!1}catch{Ja=!0}return Ja}var Ab=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fu(n){return n!=null&&!Ab.has(n)?(kt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Za}"`),null):n}function Rb(n,t){let i,a,r,c,h;if(Eb(n)){let g=n.getAttribute("action");a=g?Nn(g,t):null,i=n.getAttribute("method")||Wa,r=Fu(n.getAttribute("enctype"))||Za,c=new FormData(n)}else if(Sb(n)||Nb(n)&&(n.type==="submit"||n.type==="image")){let g=n.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=n.getAttribute("formaction")||g.getAttribute("action");if(a=x?Nn(x,t):null,i=n.getAttribute("formmethod")||g.getAttribute("method")||Wa,r=Fu(n.getAttribute("formenctype"))||Fu(g.getAttribute("enctype"))||Za,c=new FormData(g,n),!wb()){let{name:m,type:y,value:b}=n;if(y==="image"){let S=m?`${m}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else m&&c.append(m,b)}}else{if(ds(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Wa,a=null,r=Za,h=n}return c&&r==="text/plain"&&(h=c,c=void 0),{action:a,method:i.toLowerCase(),encType:r,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gc(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Mb(n,t,i){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return a.pathname==="/"?a.pathname=`_root.${i}`:t&&Nn(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function kb(n,t){if(n.id in t)return t[n.id];try{let i=await import(n.module);return t[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Db(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Ib(n,t,i){let a=await Promise.all(n.map(async r=>{let c=t.routes[r.route.id];if(c){let h=await kb(c,i);return h.links?h.links():[]}return[]}));return Gb(a.flat(1).filter(Db).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Jp(n,t,i,a,r,c){let h=(x,m)=>i[m]?x.route.id!==i[m].route.id:!0,g=(x,m)=>{var y;return i[m].pathname!==x.pathname||((y=i[m].route.path)==null?void 0:y.endsWith("*"))&&i[m].params["*"]!==x.params["*"]};return c==="assets"?t.filter((x,m)=>h(x,m)||g(x,m)):c==="data"?t.filter((x,m)=>{var b;let y=a.routes[x.route.id];if(!y||!y.hasLoader)return!1;if(h(x,m)||g(x,m))return!0;if(x.route.shouldRevalidate){let S=x.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((b=i[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Ub(n,t,{includeHydrateFallback:i}={}){return Lb(n.map(a=>{let r=t.routes[a.route.id];if(!r)return[];let c=[r.module];return r.clientActionModule&&(c=c.concat(r.clientActionModule)),r.clientLoaderModule&&(c=c.concat(r.clientLoaderModule)),i&&r.hydrateFallbackModule&&(c=c.concat(r.hydrateFallbackModule)),r.imports&&(c=c.concat(r.imports)),c}).flat(1))}function Lb(n){return[...new Set(n)]}function Hb(n){let t={},i=Object.keys(n).sort();for(let a of i)t[a]=n[a];return t}function Gb(n,t){let i=new Set;return new Set(t),n.reduce((a,r)=>{let c=JSON.stringify(Hb(r));return i.has(c)||(i.add(c),a.push({key:c,link:r})),a},[])}function q0(){let n=U.useContext(gi);return gc(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Pb(){let n=U.useContext(cs);return gc(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var vc=U.createContext(void 0);vc.displayName="FrameworkContext";function j0(){let n=U.useContext(vc);return gc(n,"You must render this element inside a <HydratedRouter> element"),n}function Vb(n,t){let i=U.useContext(vc),[a,r]=U.useState(!1),[c,h]=U.useState(!1),{onFocus:g,onBlur:x,onMouseEnter:m,onMouseLeave:y,onTouchStart:b}=t,S=U.useRef(null);U.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let _=R=>{R.forEach(j=>{h(j.isIntersecting)})},M=new IntersectionObserver(_,{threshold:.5});return S.current&&M.observe(S.current),()=>{M.disconnect()}}},[n]),U.useEffect(()=>{if(a){let _=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(_)}}},[a]);let C=()=>{r(!0)},w=()=>{r(!1),h(!1)};return i?n!=="intent"?[c,S,{}]:[c,S,{onFocus:vo(g,C),onBlur:vo(x,w),onMouseEnter:vo(m,C),onMouseLeave:vo(y,w),onTouchStart:vo(b,C)}]:[!1,S,{}]}function vo(n,t){return i=>{n&&n(i),i.defaultPrevented||t(i)}}function Bb({page:n,...t}){let{router:i}=q0(),a=U.useMemo(()=>w0(i.routes,n,i.basename),[i.routes,n,i.basename]);return a?U.createElement(qb,{page:n,matches:a,...t}):null}function zb(n){let{manifest:t,routeModules:i}=j0(),[a,r]=U.useState([]);return U.useEffect(()=>{let c=!1;return Ib(n,t,i).then(h=>{c||r(h)}),()=>{c=!0}},[n,t,i]),a}function qb({page:n,matches:t,...i}){let a=_n(),{manifest:r,routeModules:c}=j0(),{basename:h}=q0(),{loaderData:g,matches:x}=Pb(),m=U.useMemo(()=>Jp(n,t,x,r,a,"data"),[n,t,x,r,a]),y=U.useMemo(()=>Jp(n,t,x,r,a,"assets"),[n,t,x,r,a]),b=U.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let w=new Set,_=!1;if(t.forEach(R=>{var H;let j=r.routes[R.route.id];!j||!j.hasLoader||(!m.some(D=>D.route.id===R.route.id)&&R.route.id in g&&((H=c[R.route.id])!=null&&H.shouldRevalidate)||j.hasClientLoader?_=!0:w.add(R.route.id))}),w.size===0)return[];let M=Mb(n,h,"data");return _&&w.size>0&&M.searchParams.set("_routes",t.filter(R=>w.has(R.route.id)).map(R=>R.route.id).join(",")),[M.pathname+M.search]},[h,g,a,r,m,t,n,c]),S=U.useMemo(()=>Ub(y,r),[y,r]),C=zb(y);return U.createElement(U.Fragment,null,b.map(w=>U.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...i})),S.map(w=>U.createElement("link",{key:w,rel:"modulepreload",href:w,...i})),C.map(({key:w,link:_})=>U.createElement("link",{key:w,nonce:i.nonce,..._})))}function jb(...n){return t=>{n.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var Ob=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ob&&(window.__reactRouterVersion="7.11.0")}catch{}function Fb({basename:n,children:t,unstable_useTransitions:i,window:a}){let r=U.useRef();r.current==null&&(r.current=Ey({window:a,v5Compat:!0}));let c=r.current,[h,g]=U.useState({action:c.action,location:c.location}),x=U.useCallback(m=>{i===!1?g(m):U.startTransition(()=>g(m))},[i]);return U.useLayoutEffect(()=>c.listen(x),[c,x]),U.createElement(bb,{basename:n,children:t,location:h.location,navigationType:h.action,navigator:c,unstable_useTransitions:i})}var O0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nl=U.forwardRef(function({onClick:t,discover:i="render",prefetch:a="none",relative:r,reloadDocument:c,replace:h,state:g,target:x,to:m,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:S,...C},w){let{basename:_,unstable_useTransitions:M}=U.useContext(Dt),R=typeof m=="string"&&O0.test(m),j=D0(m,_);m=j.to;let H=lb(m,{relative:r}),[D,N,G]=Vb(a,C),z=Xb(m,{replace:h,state:g,target:x,preventScrollReset:y,relative:r,viewTransition:b,unstable_defaultShouldRevalidate:S,unstable_useTransitions:M});function Q(le){t&&t(le),le.defaultPrevented||z(le)}let Y=U.createElement("a",{...C,...G,href:j.absoluteURL||H,onClick:j.isExternal||c?t:Q,ref:jb(w,N),target:x,"data-discover":!R&&i==="render"?"true":void 0});return D&&!R?U.createElement(U.Fragment,null,Y,U.createElement(Bb,{page:H})):Y});Nl.displayName="Link";var Jb=U.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:a="",end:r=!1,style:c,to:h,viewTransition:g,children:x,...m},y){let b=wo(h,{relative:m.relative}),S=_n(),C=U.useContext(cs),{navigator:w,basename:_}=U.useContext(Dt),M=C!=null&&eT(b)&&g===!0,R=w.encodeLocation?w.encodeLocation(b).pathname:b.pathname,j=S.pathname,H=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;i||(j=j.toLowerCase(),H=H?H.toLowerCase():null,R=R.toLowerCase()),H&&_&&(H=Nn(H,_)||H);const D=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let N=j===R||!r&&j.startsWith(R)&&j.charAt(D)==="/",G=H!=null&&(H===R||!r&&H.startsWith(R)&&H.charAt(R.length)==="/"),z={isActive:N,isPending:G,isTransitioning:M},Q=N?t:void 0,Y;typeof a=="function"?Y=a(z):Y=[a,N?"active":null,G?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let le=typeof c=="function"?c(z):c;return U.createElement(Nl,{...m,"aria-current":Q,className:Y,ref:y,style:le,to:h,viewTransition:g},typeof x=="function"?x(z):x)});Jb.displayName="NavLink";var Yb=U.forwardRef(({discover:n="render",fetcherKey:t,navigate:i,reloadDocument:a,replace:r,state:c,method:h=Wa,action:g,onSubmit:x,relative:m,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:S,...C},w)=>{let{unstable_useTransitions:_}=U.useContext(Dt),M=Wb(),R=Zb(g,{relative:m}),j=h.toLowerCase()==="get"?"get":"post",H=typeof g=="string"&&O0.test(g),D=N=>{if(x&&x(N),N.defaultPrevented)return;N.preventDefault();let G=N.nativeEvent.submitter,z=(G==null?void 0:G.getAttribute("formmethod"))||h,Q=()=>M(G||N.currentTarget,{fetcherKey:t,method:z,navigate:i,replace:r,state:c,relative:m,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:S});_&&i!==!1?U.startTransition(()=>Q()):Q()};return U.createElement("form",{ref:w,method:j,action:R,onSubmit:a?x:D,...C,"data-discover":!H&&n==="render"?"true":void 0})});Yb.displayName="Form";function Kb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F0(n){let t=U.useContext(gi);return ze(t,Kb(n)),t}function Xb(n,{target:t,replace:i,state:a,preventScrollReset:r,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:g,unstable_useTransitions:x}={}){let m=P0(),y=_n(),b=wo(n,{relative:c});return U.useCallback(S=>{if(_b(S,t)){S.preventDefault();let C=i!==void 0?i:Co(y)===Co(b),w=()=>m(n,{replace:C,state:a,preventScrollReset:r,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:g});x?U.startTransition(()=>w()):w()}},[y,m,b,i,a,t,n,r,c,h,g,x])}var Qb=0,$b=()=>`__${String(++Qb)}__`;function Wb(){let{router:n}=F0("useSubmit"),{basename:t}=U.useContext(Dt),i=mb(),a=n.fetch,r=n.navigate;return U.useCallback(async(c,h={})=>{let{action:g,method:x,encType:m,formData:y,body:b}=Rb(c,t);if(h.navigate===!1){let S=h.fetcherKey||$b();await a(S,i,h.action||g,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:y,body:b,formMethod:h.method||x,formEncType:h.encType||m,flushSync:h.flushSync})}else await r(h.action||g,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:y,body:b,formMethod:h.method||x,formEncType:h.encType||m,replace:h.replace,state:h.state,fromRouteId:i,flushSync:h.flushSync,viewTransition:h.viewTransition})},[a,r,t,i])}function Zb(n,{relative:t}={}){let{basename:i}=U.useContext(Dt),a=U.useContext($t);ze(a,"useFormAction must be used inside a RouteContext");let[r]=a.matches.slice(-1),c={...wo(n||".",{relative:t})},h=_n();if(n==null){c.search=h.search;let g=new URLSearchParams(c.search),x=g.getAll("index");if(x.some(y=>y==="")){g.delete("index"),x.filter(b=>b).forEach(b=>g.append("index",b));let y=g.toString();c.search=y?`?${y}`:""}}return(!n||n===".")&&r.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:En([i,c.pathname])),Co(c)}function eT(n,{relative:t}={}){let i=U.useContext(U0);ze(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=F0("useViewTransitionState"),r=wo(n,{relative:t});if(!i.isTransitioning)return!1;let c=Nn(i.currentLocation.pathname,a)||i.currentLocation.pathname,h=Nn(i.nextLocation.pathname,a)||i.nextLocation.pathname;return ls(r.pathname,h)!=null||ls(r.pathname,c)!=null}var Me=(n=>(n.OWNER="OWNER",n.PM="PM",n.DESIGNER="DESIGNER",n.VIEWER="VIEWER",n))(Me||{}),tt=(n=>(n.INIT="Khi to",n.DESIGNING="ang thit k",n.WAITING_APPROVAL="Ch duyt",n.CONSTRUCTING="ang thi cng",n.COMPLETED="Hon thnh",n.ARCHIVED="Lu tr",n))(tt||{}),Sl=(n=>(n.HOUSE="Nh ph",n.VILLA="Bit th",n.GARDEN_HOUSE="Nh vn",n.APARTMENT="Cn h",n.OFFICE="Vn phng",n.OTHER="Khc",n))(Sl||{}),So=(n=>(n.SURVEY="Kho st",n.CONCEPT="Concept",n.THREE_D="3D",n.TECHNICAL="H s k thut",n.HANDOVER="Bn giao",n))(So||{}),Eo=(n=>(n.NEW="Mi",n.IN_PROGRESS="ang thc hin",n.WAITING_FEEDBACK="Ch phn hi",n.NEED_REVISION="Cn chnh sa",n.APPROVED=" duyt",n.DONE="Hon thnh",n))(Eo||{}),No=(n=>(n.LOW="Thp",n.NORMAL="Bnh thng",n.HIGH="Cao",n.URGENT="Khn cp",n))(No||{}),ln=(n=>(n.SITE="Hin trng",n.REF="Tham kho",n.TO_EDIT="Chnh sa",n.FINAL="Hon thnh",n.AI_GEN="AI Gi ",n))(ln||{}),Ge=(n=>(n.MORNING="Sng",n.AFTERNOON="Chiu",n.FULL_DAY="C ngy",n.OFF="Ngh",n))(Ge||{});const J0=[{id:"u1",name:"Hunh Vn Qun",email:"mmdesign.thietke@gmail.com",role:Me.OWNER,avatar:"https://picsum.photos/seed/u1/100/100",dob:"1985-05-20",phone:"0901234567"},{id:"u2",name:"Trn Th Minh Hiu",email:"hieu@minmaxhouse.com",role:Me.PM,avatar:"https://picsum.photos/seed/u2/100/100",dob:"1990-12-15"},{id:"u3",name:"an",email:"dan@minmaxhouse.com",role:Me.DESIGNER,avatar:"https://picsum.photos/seed/u3/100/100",dob:"1995-08-10"},{id:"u4",name:"Long",email:"long@minmaxhouse.com",role:Me.DESIGNER,avatar:"https://picsum.photos/seed/u4/100/100",dob:"1997-03-22"},{id:"u5",name:"Min",email:"min@minmaxhouse.com",role:Me.VIEWER,avatar:"https://picsum.photos/seed/u5/100/100",dob:"1998-11-30",phone:"0988888888"},{id:"u6",name:"Hong Th Mai",email:"mai@minmaxhouse.com",role:Me.DESIGNER,avatar:"https://picsum.photos/seed/u6/100/100",dob:"2000-01-05"}],es="https://drive.google.com/drive/folders/1RLmWKliTiFz0nucqwPCXQkuN0B2gpV-o?usp=sharing",xo={arch:{purpose:"Nh  gia nh kt hp vn phng nh",members:"4 ngi (B m, 2 con nh)",habits:"Thch khng gian m, sinh hot chung ti tng trt",spaces:"4 PN, 5 WC, Phng th tng thng, Gara 1  t",style:"Hin i ti gin (Minimalism)",budget:"Di 3 t",special:"Hng Ty nn cn gii php chng nng mt tin"},interior:{scope:"Trn gi phng khch, bp v 3 phng ng",style:"Luxury Modern, tng xm m",usage:"Thng xuyn nu n, cn bp o rng",materials:"G cng nghip An Cng, mt  Vicostone",budget:"800 triu",other:"Cn h thng nh thng minh c bn"},landscape:{area:"Khong 50m2 sn sau v ban cng",style:"Nht Bn - Zen Garden",functions:"H c Koi nh, khu ngi thin",maintenance:"t chm sc, dng h thng ti t ng",lighting:"n ht chn tng v n lng ",budget:"150 triu"},documents:{status:" c s  v bn v hin trng t a chnh",notes:"Khu vc yu cu li trc 3m, li sau 2m",landDeedImageUrl:"https://picsum.photos/seed/deed1/800/1000",referenceImageUrls:["https://picsum.photos/seed/refwork1/800/600","https://picsum.photos/seed/refwork2/800/600"]}},Y0=[{id:"p1",code:"MM2712202401",name:"Bit th Tho in",type:Sl.VILLA,address:"Q2, TP. HCM",landArea:500,buildArea:350,clientName:"Anh Minh",clientPhone:"0901234567",clientEmail:"minh@gmail.com",clientCCCD:"012345678901",clientAddress:"45 L Li, Qun 1, TP. HCM",pmId:"u2",startDate:"2024-01-01",deadline:"2024-06-30",status:tt.DESIGNING,requirements:"Phong cch Modern Luxury. Ch trng khng gian thng tng.",designDetails:xo,driveUrl:es},{id:"p2",code:"MM2712202402",name:"Cn h Penthouse Landmark",type:Sl.APARTMENT,address:"Bnh Thnh, TP. HCM",landArea:200,buildArea:200,clientName:"Ch Lan",clientPhone:"0987654321",clientEmail:"lan@gmail.com",clientCCCD:"098765432109",clientAddress:"Vinhomes Central Park, Bnh Thnh",pmId:"u2",startDate:"2024-02-15",deadline:"2024-04-15",status:tt.WAITING_APPROVAL,requirements:"Phong cch Wabi-sabi. Ti u bp v phng thay .",designDetails:{...xo,arch:{...xo.arch,style:"Wabi-sabi",purpose:"Ngh dng cui tun"}},driveUrl:es},{id:"p3",code:"MM2812202401",name:"Nh vn sinh thi C Chi",type:Sl.GARDEN_HOUSE,address:"C Chi, TP. HCM",landArea:1200,buildArea:250,clientName:"Bc Hng",clientPhone:"0912334455",clientEmail:"hung@gmail.com",clientCCCD:"045678912345",clientAddress:"Th trn C Chi, TP. HCM",pmId:"u6",startDate:"2024-03-01",deadline:"2024-08-01",status:tt.INIT,requirements:"Kin trc xanh, kt hp h c Koi.",designDetails:{...xo,landscape:{...xo.landscape,area:"1000m2",functions:"Vn cy n tri, nh chi BBQ"}},driveUrl:es}],ut=[{id:"t1",projectId:"p1",scopeId:"s1",title:"Phng khch - Moodboard",description:"Thit k phong cch hin i ti gin cho phng khch chnh.",assigneeId:"u3",followerIds:["u2"],priority:No.HIGH,phase:So.CONCEPT,status:Eo.IN_PROGRESS,startDate:"2024-03-01",deadline:"2024-03-10",revisionCount:2},{id:"t2",projectId:"p1",scopeId:"s1",title:"Trin khai bn v k thut k TV",description:"Chi tit thi cng g An Cng.",assigneeId:"u3",followerIds:["u2"],priority:No.NORMAL,phase:So.TECHNICAL,status:Eo.NEW,startDate:"2024-03-05",deadline:"2024-03-12",revisionCount:0},{id:"t3",projectId:"p1",scopeId:"s2",title:"Render 3D mt tin chnh",description:"Render ban m c nh sng n.",assigneeId:"u4",followerIds:["u2"],priority:No.URGENT,phase:So.THREE_D,status:Eo.NEED_REVISION,startDate:"2024-02-20",deadline:"2024-03-05",revisionCount:3}],tT=[{id:"img1",taskId:"t1",url:"https://picsum.photos/seed/site1/800/600",type:ln.SITE,note:"Hin trng phng khch cha ci to"},{id:"img2",taskId:"t1",url:"https://picsum.photos/seed/ref1/800/600",type:ln.REF,note:"Tham kho tng mu trng xm"},{id:"img3",taskId:"t3",url:"https://picsum.photos/seed/edit1/800/600",type:ln.TO_EDIT,note:"Cn sa li mu  p mt tin",revision:2},{id:"img4",taskId:"t3",url:"https://picsum.photos/seed/final1/800/600",type:ln.FINAL,note:"Bn render  cht vi khch",isFinal:!0}],nT=({user:n,onLogout:t,children:i})=>{const[a,r]=U.useState(!1),c=_n(),h=n.id==="u1",x=(()=>{const b=localStorage.getItem("minmax_projects"),S=b?JSON.parse(b):[],C=new Date,w=new Date;w.setDate(C.getDate()+7);const _=S.filter(R=>new Date(R.deadline)<=w&&R.status!=="Hon thnh").length,M=ut.filter(R=>new Date(R.deadline)<=w&&R.status!=="Hon thnh"&&(n.role===Me.OWNER||R.assigneeId===n.id)).length;return _+M})(),y=[{label:"Bng iu khin",icon:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z",path:"/",alwaysShow:!0},{label:"D n",icon:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2z",path:"/projects",alwaysShow:!0},{label:"Khch hng",icon:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z",path:"/clients",alwaysShow:!0},{label:"ng k lch",icon:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",path:"/schedule",alwaysShow:!0},{label:"Nhn s",icon:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197",path:"/staff",superAdminOnly:!0},{label:"Bng Kanban",icon:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2",path:"/kanban",alwaysShow:!0},{label:"Bo co",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 002 2h2a2 2 0 002-2",path:"/reports",superAdminOnly:!0}].filter(b=>b.superAdminOnly?h:b.alwaysShow);return d.jsxs("div",{className:"min-h-screen flex bg-gray-50 flex-col md:flex-row",children:[d.jsxs("aside",{className:"hidden md:flex flex-col w-64 bg-slate-900 text-white fixed h-full z-20",children:[d.jsxs("div",{className:"p-8",children:[d.jsxs("h1",{className:"text-xl font-black tracking-tighter text-white select-none uppercase",children:["MINMA",d.jsx("span",{className:"text-amber-500",children:"X"})]}),d.jsx("p",{className:"text-[10px] font-black text-amber-500 uppercase tracking-[0.3em] mt-2",children:"Studio Manager"})]}),d.jsx("nav",{className:"flex-1 px-4 mt-4 space-y-1",children:y.map(b=>d.jsxs(Nl,{to:b.path,className:`flex items-center px-4 py-3 text-sm font-bold rounded-xl transition-all relative ${c.pathname===b.path||b.path!=="/"&&c.pathname.startsWith(b.path)?"bg-amber-600 text-white shadow-lg shadow-amber-600/20 translate-x-1":"text-slate-400 hover:text-white hover:bg-slate-800"}`,children:[d.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:b.icon})}),b.label,b.path==="/"&&x>0&&d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 bg-red-500 text-white text-[10px] font-black px-1.5 py-0.5 rounded-full ring-2 ring-slate-900 animate-pulse",children:x})]},b.path))}),d.jsxs("div",{className:"p-4 border-t border-slate-800",children:[d.jsxs("div",{className:"flex items-center p-3 rounded-2xl bg-slate-800/50 border border-slate-700/50",children:[d.jsx("img",{src:n.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(n.name)}&background=random`,className:"w-10 h-10 rounded-xl border-2 border-slate-700 object-cover",alt:""}),d.jsxs("div",{className:"ml-3 overflow-hidden",children:[d.jsx("p",{className:"text-sm font-bold truncate",children:n.name}),d.jsx("p",{className:"text-[10px] text-amber-500 font-black uppercase tracking-tighter",children:El[n.role]})]})]}),d.jsx("button",{onClick:t,className:"w-full mt-4 flex items-center justify-center px-4 py-3 text-xs font-black text-slate-400 hover:text-white border-2 border-slate-800 rounded-xl hover:bg-red-600 hover:border-red-600 transition-all uppercase tracking-widest",children:"ng xut"})]})]}),d.jsxs("div",{className:"md:hidden flex flex-col w-full z-40",children:[d.jsxs("header",{className:"bg-slate-900 text-white p-4 flex justify-between items-center fixed top-0 w-full z-30 shadow-md border-b border-slate-800",children:[d.jsxs("h1",{className:"text-lg font-black tracking-tighter text-white select-none uppercase",children:["MINMA",d.jsx("span",{className:"text-amber-500",children:"X"})]}),d.jsxs("button",{onClick:()=>r(!a),className:"p-2 bg-slate-800 rounded-lg text-amber-500 relative",children:[d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:a?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})}),!a&&x>0&&d.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[9px] font-black px-1.5 py-0.5 rounded-full ring-2 ring-slate-900",children:x})]})]}),a&&d.jsxs("div",{className:"fixed inset-0 bg-slate-900 z-50 pt-20 flex flex-col px-6 overflow-y-auto animate-in slide-in-from-right duration-300",children:[d.jsxs("div",{className:"flex justify-between items-center mb-10",children:[d.jsx("h1",{className:"text-2xl font-black text-white uppercase tracking-tighter",children:"Menu"}),d.jsx("button",{onClick:()=>r(!1),className:"p-2 text-slate-400 hover:text-white",children:d.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("nav",{className:"flex flex-col space-y-4",children:y.map(b=>d.jsxs(Nl,{to:b.path,onClick:()=>r(!1),className:`flex items-center py-5 px-6 text-base font-black uppercase tracking-widest rounded-2xl transition-all relative ${c.pathname===b.path||b.path!=="/"&&c.pathname.startsWith(b.path)?"bg-amber-600 text-white shadow-xl shadow-amber-600/30":"text-slate-400 border border-slate-800"}`,children:[d.jsx("svg",{className:"w-6 h-6 mr-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:b.icon})}),b.label,b.path==="/"&&x>0&&d.jsxs("span",{className:"absolute right-6 top-1/2 -translate-y-1/2 bg-red-500 text-white text-xs font-black px-3 py-1 rounded-full",children:[x," Cn ch "]})]},b.path))}),d.jsxs("div",{className:"mt-auto mb-10 pt-10",children:[d.jsxs("div",{className:"flex items-center p-4 bg-slate-800/50 rounded-2xl mb-6",children:[d.jsx("img",{src:n.avatar,className:"w-12 h-12 rounded-xl object-cover",alt:""}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-white font-bold",children:n.name}),d.jsx("p",{className:"text-amber-500 text-xs font-black uppercase",children:El[n.role]})]})]}),d.jsx("button",{onClick:t,className:"w-full text-red-500 font-black uppercase tracking-[0.2em] py-5 bg-red-500/10 rounded-2xl flex items-center justify-center border border-red-500/20",children:"ng xut h thng"})]})]})]}),d.jsx("main",{className:"flex-1 md:ml-64 p-4 md:p-8 pt-24 md:pt-8 w-full",children:d.jsx("div",{className:"max-w-7xl mx-auto",children:i})})]})},lT=({user:n,projects:t,onUpdateProject:i})=>{var D;const[a,r]=U.useState(null),[c,h]=U.useState("info"),g=U.useRef(null),x=U.useRef(null),m=N=>{if(n.role===Me.OWNER)return!0;const G=t.find(z=>z.id===N);return G?G.pmId===n.id?!0:ut.some(z=>z.projectId===N&&z.assigneeId===n.id):!1},y=N=>{if(!m(N.id)){alert("Bn khng c quyn chnh sa thng tin d n ny.");return}const G=N.designDetails||{arch:{purpose:"",members:"",habits:"",spaces:"",style:"",budget:"",special:""},interior:{scope:"",style:"",usage:"",materials:"",budget:"",other:""},landscape:{area:"",style:"",functions:"",maintenance:"",lighting:"",budget:""},documents:{status:"",notes:"",landDeedImageUrl:"",referenceImageUrls:[]}};r({...N,designDetails:G}),h("info")},b=N=>{N.preventDefault(),a&&(i(a),r(null))},S=(N,G)=>{a!=null&&a.designDetails&&r({...a,designDetails:{...a.designDetails,arch:{...a.designDetails.arch,[N]:G}}})},C=(N,G)=>{a!=null&&a.designDetails&&r({...a,designDetails:{...a.designDetails,interior:{...a.designDetails.interior,[N]:G}}})},w=(N,G)=>{a!=null&&a.designDetails&&r({...a,designDetails:{...a.designDetails,landscape:{...a.designDetails.landscape,[N]:G}}})},_=(N,G)=>{a!=null&&a.designDetails&&r({...a,designDetails:{...a.designDetails,documents:{...a.designDetails.documents,[N]:G}}})},M=(N,G)=>{const z=N.currentTarget.files;if(!(!z||!(a!=null&&a.designDetails)))if(G==="landDeedImageUrl"){const Q=z[0];if(Q){const Y=new FileReader;Y.onload=()=>{_("landDeedImageUrl",Y.result)},Y.readAsDataURL(Q)}}else Array.from(z).forEach(Y=>{const le=new FileReader;le.onload=()=>{r(W=>{if(!(W!=null&&W.designDetails))return W;const ae=W.designDetails.documents.referenceImageUrls||[];return{...W,designDetails:{...W.designDetails,documents:{...W.designDetails.documents,referenceImageUrls:[...ae,le.result]}}}})},le.readAsDataURL(Y)})},j=(()=>{const N=new Date,G=new Date;G.setDate(N.getDate()+7);const z=t.filter(Y=>Y.status!==tt.COMPLETED&&Y.status!==tt.ARCHIVED).map(Y=>({...Y,typeItem:"D n",deadlineDate:new Date(Y.deadline)})).filter(Y=>Y.deadlineDate<=G),Q=ut.filter(Y=>Y.status!=="Hon thnh"&&Y.status!==" duyt").filter(Y=>n.role===Me.OWNER||Y.assigneeId===n.id).map(Y=>({...Y,typeItem:"Cng vic",deadlineDate:new Date(Y.deadline)})).filter(Y=>Y.deadlineDate<=G);return[...z,...Q].sort((Y,le)=>Y.deadlineDate.getTime()-le.deadlineDate.getTime())})(),H=[{label:"D n ang lm",value:t.filter(N=>N.status===tt.DESIGNING).length,icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4",color:"text-blue-600 bg-blue-100"},{label:"Cng vic tr hn",value:ut.filter(N=>new Date(N.deadline)<new Date).length,icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",color:"text-red-600 bg-red-100"},{label:"Vic ca ti",value:ut.filter(N=>N.assigneeId===n.id).length,icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",color:"text-amber-600 bg-amber-100"},{label:"Hon thnh",value:t.filter(N=>N.status===tt.COMPLETED).length,icon:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",color:"text-green-600 bg-green-100"}];return d.jsxs("div",{className:"space-y-6 md:space-y-8 animate-in fade-in duration-700 pb-10 px-0 sm:px-4 md:px-0",children:[d.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{className:"px-2 md:px-0",children:[d.jsxs("h1",{className:"text-xl md:text-3xl font-black text-slate-900 tracking-tight",children:["Xin cho, ",n.name.split(" ").pop(),"!"]}),d.jsx("p",{className:"text-slate-500 font-medium mt-1 uppercase text-[10px] md:text-xs tracking-[0.2em]",children:"H thng qun l MINMAX"})]}),d.jsxs("div",{className:"bg-white px-4 py-2 rounded-xl md:rounded-2xl shadow-sm border border-slate-100 text-xs md:text-sm font-bold text-slate-600 flex items-center self-start md:self-auto",children:[d.jsx("svg",{className:"w-4 h-4 mr-2 text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date().toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"})]})]}),j.length>0&&d.jsxs("section",{className:"bg-red-50 border-2 border-red-100 rounded-[2rem] p-6 md:p-8 animate-in slide-in-from-top-4 duration-500",children:[d.jsx("div",{className:"flex items-center justify-between mb-6",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"p-3 bg-red-500 text-white rounded-2xl shadow-lg shadow-red-500/30 animate-pulse",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-base md:text-xl font-black text-red-900 uppercase",children:"Nhc nh hn cht"}),d.jsx("p",{className:"text-[9px] md:text-xs text-red-500 font-black uppercase tracking-widest mt-0.5",children:"Cc mc cn x l ngay lp tc"})]})]})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map(N=>{const G=Math.ceil((N.deadlineDate.getTime()-new Date().getTime())/864e5),z=G<0;return d.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-red-100 shadow-sm hover:shadow-md transition-all group",children:[d.jsxs("div",{className:"flex justify-between items-start mb-3",children:[d.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest ${N.typeItem==="D n"?"bg-blue-100 text-blue-600":"bg-indigo-100 text-indigo-600"}`,children:N.typeItem}),d.jsx("span",{className:`text-[10px] font-black uppercase tracking-tighter ${z?"text-red-600":"text-amber-600"}`,children:z?"Qu hn":`Cn ${G} ngy`})]}),d.jsx("h3",{className:"font-bold text-slate-800 text-sm mb-1 group-hover:text-red-600 transition-colors line-clamp-1",children:"name"in N?N.name:N.title}),d.jsxs("div",{className:"flex items-center text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:[d.jsx("svg",{className:"w-3.5 h-3.5 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),N.deadline]})]},N.id)})})]}),d.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:H.map((N,G)=>d.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-2xl md:rounded-[2rem] shadow-sm border border-slate-100 flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-4 hover:shadow-lg transition-all",children:[d.jsx("div",{className:`p-3 md:p-4 rounded-xl md:rounded-2xl ${N.color} flex-shrink-0`,children:d.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:N.icon})})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"text-[9px] md:text-xs font-black text-slate-400 uppercase tracking-widest truncate",children:N.label}),d.jsx("p",{className:"text-lg md:text-2xl font-black text-slate-900",children:N.value})]})]},G))}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6 md:space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-2xl md:rounded-[2rem] shadow-sm border border-slate-100 overflow-hidden",children:[d.jsx("div",{className:"p-5 md:p-8 border-b border-slate-50 flex justify-between items-center",children:d.jsxs("div",{children:[d.jsx("h2",{className:"text-base md:text-xl font-black text-slate-900 uppercase",children:"Cng vic gn y"}),d.jsx("p",{className:"text-[9px] md:text-xs text-slate-400 font-bold uppercase tracking-widest mt-1",children:"Cn x l gp"})]})}),d.jsx("div",{className:"divide-y divide-slate-50",children:ut.slice(0,3).map(N=>d.jsxs("div",{className:"p-5 md:p-8 hover:bg-slate-50/50 transition-colors flex justify-between items-center group",children:[d.jsxs("div",{className:"space-y-1 min-w-0 mr-4",children:[d.jsx("h3",{className:"font-bold text-slate-800 text-sm md:text-base group-hover:text-amber-600 transition-colors truncate",children:N.title}),d.jsxs("div",{className:"flex items-center space-x-3 text-[9px] md:text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:[d.jsxs("span",{className:"flex items-center",children:[d.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),N.deadline.split("-").slice(1).join("/")]}),d.jsx("span",{className:"bg-slate-100 px-2 py-0.5 rounded text-slate-500 whitespace-nowrap",children:N.phase})]})]}),d.jsx("span",{className:`flex-shrink-0 px-2 md:px-3 py-1 text-[8px] md:text-[10px] font-black uppercase rounded-full tracking-widest ${N.priority==="Khn cp"?"bg-red-100 text-red-600":N.priority==="Cao"?"bg-orange-100 text-orange-600":"bg-blue-100 text-blue-600"}`,children:N.priority})]},N.id))})]}),d.jsxs("div",{className:"bg-slate-900 rounded-[1.5rem] md:rounded-[2.5rem] p-6 md:p-8 shadow-2xl relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 md:w-64 md:h-64 bg-amber-500/10 rounded-full -mr-24 -mt-24 md:-mr-32 md:-mt-32 blur-3xl"}),d.jsxs("div",{className:"relative z-10",children:[d.jsx("div",{className:"flex justify-between items-center mb-6 md:mb-8",children:d.jsxs("div",{children:[d.jsx("h2",{className:"text-base md:text-xl font-black text-white uppercase",children:"D n tiu biu"}),d.jsx("p",{className:"text-[9px] md:text-xs text-amber-500 font-bold uppercase tracking-[0.3em] mt-1",children:"Thng tin thit k"})]})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:t.filter(N=>N.status===tt.DESIGNING&&N.designDetails).slice(0,4).map(N=>{var G,z;return d.jsxs("div",{className:"bg-white/5 border border-white/10 p-5 md:p-6 rounded-2xl md:rounded-3xl hover:bg-white/10 transition-all group relative",children:[m(N.id)&&d.jsx("button",{onClick:()=>y(N),className:"absolute top-4 right-4 p-2 bg-white/10 text-amber-500 rounded-lg opacity-0 group-hover:opacity-100 transition-all hover:bg-amber-50 hover:text-white",title:"Sa h s & b cu hi",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),d.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[d.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-xl bg-amber-500/20 flex items-center justify-center text-amber-500 text-xs md:text-sm font-black",children:N.clientName.charAt(0)}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("h3",{className:"text-white font-bold text-xs md:text-sm truncate",children:N.clientName}),d.jsx("p",{className:"text-amber-500 text-[9px] md:text-[10px] font-black uppercase tracking-widest truncate",children:N.name})]})]}),d.jsxs("div",{className:"bg-black/20 rounded-xl md:rounded-2xl p-4 border border-white/5 space-y-2",children:[d.jsxs("p",{className:"text-white/70 text-[10px] md:text-[11px] leading-relaxed italic line-clamp-2",children:[d.jsx("span",{className:"text-amber-500 font-bold not-italic",children:"Kin trc: "}),(G=N.designDetails)==null?void 0:G.arch.style]}),d.jsxs("p",{className:"text-white/70 text-[10px] md:text-[11px] leading-relaxed italic line-clamp-2",children:[d.jsx("span",{className:"text-blue-400 font-bold not-italic",children:"Ni tht: "}),(z=N.designDetails)==null?void 0:z.interior.style]})]})]},N.id)})})]})]})]}),d.jsxs("div",{className:"space-y-6 md:space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-2xl md:rounded-[2rem] shadow-sm border border-slate-100 p-6 md:p-8",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:"text-base md:text-xl font-black text-slate-900 uppercase",children:"Khch hng"}),d.jsx("p",{className:"text-[9px] md:text-xs text-slate-400 font-bold uppercase tracking-widest mt-1",children:"Lin lc nhanh"})]}),d.jsx("div",{className:"space-y-4 md:space-y-6",children:t.slice(0,5).map(N=>d.jsx("div",{className:"flex items-center justify-between group p-2 -mx-2 rounded-xl hover:bg-slate-50 transition-all",children:d.jsxs("div",{className:"flex items-center space-x-3 min-w-0",children:[d.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 bg-slate-100 rounded-lg md:rounded-xl flex items-center justify-center text-slate-400 group-hover:bg-amber-100 group-hover:text-amber-600 transition-colors",children:d.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"text-xs md:text-sm font-bold text-slate-800 truncate",children:N.clientName}),d.jsx("p",{className:"text-[9px] md:text-[10px] text-slate-400 font-bold uppercase tracking-tighter truncate",children:N.clientPhone})]})]})},N.id))})]}),d.jsxs("div",{className:"bg-white rounded-2xl md:rounded-[2rem] shadow-sm border border-slate-100 p-6 md:p-8",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:"text-base md:text-xl font-black text-slate-900 uppercase",children:"Tin "}),d.jsx("p",{className:"text-[9px] md:text-xs text-slate-400 font-bold uppercase tracking-widest mt-1",children:"D n thit k"})]}),d.jsx("div",{className:"space-y-6 md:space-y-8",children:t.filter(N=>N.status!==tt.COMPLETED).map(N=>{const G=ut.filter(Y=>Y.projectId===N.id),z=G.filter(Y=>Y.status==="Hon thnh"||Y.status===" duyt").length,Q=G.length>0?Math.round(z/G.length*100):0;return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between mb-2",children:[d.jsx("span",{className:"text-[10px] md:text-xs font-black text-slate-800 uppercase tracking-tight truncate mr-2",children:N.name}),d.jsxs("span",{className:"text-[10px] md:text-xs font-black text-amber-600",children:[Q,"%"]})]}),d.jsx("div",{className:"w-full bg-slate-100 rounded-full h-1.5 md:h-2 overflow-hidden",children:d.jsx("div",{className:"bg-slate-900 h-full rounded-full transition-all duration-1000",style:{width:`${Q}%`}})})]},N.id)})})]})]})]}),a&&d.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-slate-900/60 backdrop-blur-md",children:d.jsxs("div",{className:"bg-white w-full max-w-4xl h-[95vh] sm:h-[90vh] rounded-t-[2rem] sm:rounded-[2.5rem] shadow-2xl p-0 overflow-hidden animate-in slide-in-from-bottom sm:zoom-in duration-300 flex flex-col",children:[d.jsxs("div",{className:"p-5 md:p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[d.jsxs("div",{className:"min-w-0",children:[d.jsx("h2",{className:"text-lg md:text-2xl font-black text-slate-900 uppercase tracking-tight truncate",children:"H s thit k"}),d.jsx("p",{className:"text-[9px] md:text-[10px] font-black text-amber-500 uppercase tracking-[0.2em] mt-1 truncate",children:a.name})]}),d.jsx("button",{onClick:()=>r(null),className:"p-2 hover:bg-white rounded-full text-slate-300 hover:text-slate-900 transition-all",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("div",{className:"flex border-b border-slate-50 px-4 md:px-8 bg-white overflow-x-auto no-scrollbar scroll-smooth",children:[{id:"info",label:"KH",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0z"},{id:"arch",label:"K.Trc",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16"},{id:"interior",label:"N.Tht",icon:"M3 12l2-2m0 0l7-7 7 7"},{id:"landscape",label:"S.Vn",icon:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"},{id:"docs",label:"Ti liu",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2"}].map(N=>d.jsxs("button",{onClick:()=>h(N.id),className:`flex-1 min-w-[80px] py-4 text-[9px] md:text-[10px] font-black uppercase tracking-widest border-b-2 transition-all flex flex-col md:flex-row items-center justify-center space-y-1 md:space-y-0 md:space-x-2 ${c===N.id?"border-amber-600 text-amber-600":"border-transparent text-slate-400 hover:text-slate-600"}`,children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:N.icon})}),d.jsx("span",{children:N.label})]},N.id))}),d.jsxs("form",{onSubmit:b,className:"flex-1 overflow-y-auto p-5 md:p-8 bg-slate-50/30 custom-scrollbar",children:[c==="info"&&d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6 animate-in slide-in-from-right-4 duration-300",children:[d.jsxs("div",{className:"sm:col-span-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Tn khch hng"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 md:p-4 focus:border-amber-500 font-bold",value:a.clientName,onChange:N=>r({...a,clientName:N.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"S in thoi"}),d.jsx("input",{type:"tel",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 md:p-4 focus:border-amber-500 font-mono font-bold",value:a.clientPhone,onChange:N=>r({...a,clientPhone:N.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Email"}),d.jsx("input",{type:"email",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 md:p-4 focus:border-amber-500",value:a.clientEmail,onChange:N=>r({...a,clientEmail:N.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"S CCCD"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 md:p-4 focus:border-amber-500 font-mono",value:a.clientCCCD||"",onChange:N=>r({...a,clientCCCD:N.target.value})})]}),d.jsxs("div",{className:"sm:col-span-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"a ch khch hng"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 md:p-4 focus:border-amber-500",value:a.clientAddress||"",onChange:N=>r({...a,clientAddress:N.target.value})})]})]}),c==="arch"&&a.designDetails&&d.jsx("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6",children:[d.jsxs("div",{className:"sm:col-span-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Mc ch s dng"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500",value:a.designDetails.arch.purpose,onChange:N=>S("purpose",N.target.value),placeholder:"VD: Nh , Ngh dng..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Thnh vin sinh sng"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500",value:a.designDetails.arch.members,onChange:N=>S("members",N.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Thi quen sinh hot"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500",value:a.designDetails.arch.habits,onChange:N=>S("habits",N.target.value)})]}),d.jsxs("div",{className:"sm:col-span-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Nhu cu khng gian chnh"}),d.jsx("textarea",{className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 h-24",value:a.designDetails.arch.spaces,onChange:N=>S("spaces",N.target.value),placeholder:"S PN, WC, phng th..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Phong cch kin trc"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 font-bold text-amber-600",value:a.designDetails.arch.style,onChange:N=>S("style",N.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Ngn sch xy dng d kin"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 font-bold",value:a.designDetails.arch.budget,onChange:N=>S("budget",N.target.value)})]}),d.jsxs("div",{className:"sm:col-span-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Yu cu c bit"}),d.jsx("textarea",{className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 h-20",value:a.designDetails.arch.special,onChange:N=>S("special",N.target.value)})]})]})}),c==="interior"&&a.designDetails&&d.jsx("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6",children:[d.jsxs("div",{className:"sm:col-span-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Phm vi thit k ni tht"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500",value:a.designDetails.interior.scope,onChange:N=>C("scope",N.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Gu ni tht / Style"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 font-bold text-blue-600",value:a.designDetails.interior.style,onChange:N=>C("style",N.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Vt liu u tin"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500",value:a.designDetails.interior.materials,onChange:N=>C("materials",N.target.value)})]}),d.jsxs("div",{className:"sm:col-span-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Nhu cu s dng c th"}),d.jsx("textarea",{className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 h-20",value:a.designDetails.interior.usage,onChange:N=>C("usage",N.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Ngn sch ni tht"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 font-bold",value:a.designDetails.interior.budget,onChange:N=>C("budget",N.target.value)})]})]})}),c==="landscape"&&a.designDetails&&d.jsx("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Din tch & Hin trng sn vn"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500",value:a.designDetails.landscape.area,onChange:N=>w("area",N.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Phong cch sn vn"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 font-bold text-green-600",value:a.designDetails.landscape.style,onChange:N=>w("style",N.target.value)})]}),d.jsxs("div",{className:"sm:col-span-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Nhu cu chc nng"}),d.jsx("textarea",{className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 h-24",value:a.designDetails.landscape.functions,onChange:N=>w("functions",N.target.value),placeholder:"H c, BBQ..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Yu cu nh sng cnh m"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500",value:a.designDetails.landscape.lighting,onChange:N=>w("lighting",N.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Ngn sch sn vn"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 font-bold",value:a.designDetails.landscape.budget,onChange:N=>w("budget",N.target.value)})]})]})}),c==="docs"&&a.designDetails&&d.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4 duration-300",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Tnh trng h s (Ghi ch)"}),d.jsx("textarea",{className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 h-20",value:a.designDetails.documents.status,onChange:N=>_("status",N.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-blue-500 uppercase tracking-widest mb-2",children:"Lin kt Google Drive (Cloud)"}),d.jsx("input",{type:"url",className:"w-full bg-white border-2 border-blue-50 rounded-xl p-3 focus:border-blue-500 font-mono text-xs",value:a.driveUrl||"",onChange:N=>r({...a,driveUrl:N.target.value}),placeholder:"https://drive.google.com/..."})]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"S  / Hin trng khu t"}),d.jsx("div",{onClick:()=>{var N;return(N=g.current)==null?void 0:N.click()},className:"aspect-video border-2 border-dashed border-slate-200 rounded-2xl flex flex-col items-center justify-center cursor-pointer hover:border-amber-500 hover:bg-amber-50 transition-all overflow-hidden bg-white",children:a.designDetails.documents.landDeedImageUrl?d.jsx("img",{src:a.designDetails.documents.landDeedImageUrl,className:"w-full h-full object-cover",alt:"Land Deed"}):d.jsxs("div",{className:"text-center",children:[d.jsx("svg",{className:"w-8 h-8 text-slate-300 mx-auto mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),d.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Ti ln nh s "})]})}),d.jsx("input",{type:"file",ref:g,className:"hidden",accept:"image/*",onChange:N=>M(N,"landDeedImageUrl")})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Hnh nh tham kho"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[(D=a.designDetails.documents.referenceImageUrls)==null?void 0:D.map((N,G)=>d.jsxs("div",{className:"aspect-square rounded-xl overflow-hidden relative group",children:[d.jsx("img",{src:N,className:"w-full h-full object-cover",alt:""}),d.jsx("button",{type:"button",onClick:z=>{var Y,le;z.stopPropagation();const Q=(le=(Y=a.designDetails)==null?void 0:Y.documents.referenceImageUrls)==null?void 0:le.filter((W,ae)=>ae!==G);_("referenceImageUrls",Q)},className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-md opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},G)),d.jsx("button",{type:"button",onClick:()=>{var N;return(N=x.current)==null?void 0:N.click()},className:"aspect-square border-2 border-dashed border-slate-200 rounded-xl flex flex-col items-center justify-center hover:bg-slate-50 text-slate-400",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})})})]}),d.jsx("input",{type:"file",ref:x,className:"hidden",accept:"image/*",multiple:!0,onChange:N=>M(N,"referenceImageUrls")})]})]})]})]}),d.jsxs("div",{className:"p-4 md:p-8 border-t border-slate-100 bg-white flex gap-3 md:gap-4",children:[d.jsx("button",{type:"button",onClick:()=>r(null),className:"flex-1 py-4 text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Hy b"}),d.jsx("button",{type:"submit",onClick:b,className:"flex-[2] py-4 bg-slate-900 text-white rounded-xl font-black uppercase tracking-widest text-[10px] shadow-xl active:scale-95 transition-all",children:"Cp nht ton b h s"})]})]})})]})},iT=({onClose:n,onSave:t,existingProjects:i,users:a})=>{var j,H,D;const[r,c]=U.useState("general"),[h,g]=U.useState({code:"",name:"",type:Sl.HOUSE,address:"",landArea:0,buildArea:0,clientName:"",clientPhone:"",clientEmail:"",pmId:((j=a.find(N=>N.role===Me.PM||N.role===Me.OWNER))==null?void 0:j.id)||"",startDate:new Date().toISOString().split("T")[0],deadline:"",thumbnailUrl:"",driveUrl:es}),[x,m]=U.useState({arch:{purpose:"",members:"",habits:"",spaces:"",style:"",budget:"",special:"",constructionTime:"",landStatus:""},interior:{scope:"",style:"",usage:"",materials:"",budget:"",other:""},landscape:{area:"",style:"",functions:"",maintenance:"",lighting:"",budget:""},documents:{status:"",notes:"",landDeedImageUrl:"",referenceImageUrls:[],additionalPhotos:[],regulations:""}}),y=U.useRef(null),b=U.useRef(null);U.useEffect(()=>{const N=new Date,G=String(N.getDate()).padStart(2,"0"),z=String(N.getMonth()+1).padStart(2,"0"),Q=N.getFullYear(),le=`MM${`${G}${z}${Q}`}`,ae=(i.filter(ue=>ue.code.startsWith(le)).length+1).toString().padStart(2,"0");g(ue=>({...ue,code:`${le}${ae}`}))},[i]);const S=N=>{var z;const G=(z=N.target.files)==null?void 0:z[0];if(G){const Q=new FileReader;Q.onloadend=()=>{g(Y=>({...Y,thumbnailUrl:Q.result}))},Q.readAsDataURL(G)}},C=N=>{var z;const G=N.target.files;if(G){const Y=2-(((z=x.documents.additionalPhotos)==null?void 0:z.length)||0);Array.from(G).slice(0,Y).forEach(W=>{const ae=new FileReader;ae.onloadend=()=>{m(ue=>({...ue,documents:{...ue.documents,additionalPhotos:[...ue.documents.additionalPhotos||[],ae.result].slice(0,2)}}))},ae.readAsDataURL(W)})}},w=N=>{m(G=>({...G,documents:{...G.documents,additionalPhotos:(G.documents.additionalPhotos||[]).filter((z,Q)=>Q!==N)}}))},_=(N,G,z)=>{m(Q=>({...Q,[N]:{...Q[N],[G]:z}}))},M=N=>{if(N.preventDefault(),!h.name||!h.deadline){alert("Vui lng in y  Tn d n v Hn cht  tab Chung"),c("general");return}const G={...h,id:`p-${Date.now()}`,status:tt.INIT,designDetails:x};t(G),n()},R=[{id:"general",label:"Chung",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},{id:"arch",label:"Kin trc",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16"},{id:"interior",label:"Ni tht",icon:"M3 12l2-2m0 0l7-7 7 7"},{id:"landscape",label:"Sn vn",icon:"M12 19l9 2-9-18-9 18 9-2z"},{id:"docs",label:"Ti liu",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2"}];return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm overflow-y-auto",children:d.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[2.5rem] shadow-2xl overflow-hidden flex flex-col my-8 animate-in zoom-in duration-300 h-[90vh]",children:[d.jsxs("div",{className:"p-6 md:p-8 border-b border-gray-100 flex justify-between items-center bg-slate-50/50",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl md:text-2xl font-black text-slate-900 uppercase",children:"Thit lp D n Mi"}),d.jsx("p",{className:"text-[10px] font-black text-amber-500 uppercase tracking-widest mt-1",children:"H s kho st MINMAXHOUSE"})]}),d.jsx("button",{onClick:n,className:"p-3 hover:bg-white rounded-2xl transition-all shadow-sm",children:d.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("div",{className:"flex border-b border-slate-50 bg-white overflow-x-auto no-scrollbar shrink-0",children:R.map(N=>d.jsxs("button",{onClick:()=>c(N.id),className:`flex-1 min-w-[100px] py-4 text-[10px] font-black uppercase tracking-widest flex items-center justify-center space-x-2 border-b-2 transition-all ${r===N.id?"bg-amber-50/30 border-amber-500 text-amber-600":"border-transparent text-slate-400 hover:text-slate-600"}`,children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:N.icon})}),d.jsx("span",{className:"hidden sm:inline",children:N.label})]},N.id))}),d.jsxs("form",{onSubmit:M,className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-8 custom-scrollbar bg-slate-50/20",children:[r==="general"&&d.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4",children:[d.jsx("div",{className:"flex flex-col items-center",children:d.jsxs("div",{onClick:()=>{var N;return(N=y.current)==null?void 0:N.click()},className:"w-full max-w-md h-40 border-2 border-dashed border-slate-200 rounded-[2rem] flex flex-col items-center justify-center cursor-pointer hover:border-amber-400 hover:bg-amber-50 transition-all overflow-hidden relative group bg-white shadow-sm",children:[h.thumbnailUrl?d.jsx("img",{src:h.thumbnailUrl,alt:"Preview",className:"w-full h-full object-cover"}):d.jsxs("div",{className:"text-center",children:[d.jsx("svg",{className:"w-8 h-8 text-amber-500 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"nh i din cng trnh"})]}),d.jsx("input",{type:"file",ref:y,onChange:S,className:"hidden",accept:"image/*"})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 ml-1",children:"Tn D n *"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-2xl p-4 focus:border-amber-500 outline-none font-bold",value:h.name,onChange:N=>g({...h,name:N.target.value})})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsxs("label",{className:"block text-[10px] font-black text-blue-500 uppercase tracking-widest mb-1 ml-1 flex items-center",children:[d.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2-2v10a2 2 0 002 2z"})}),"Google Drive (Link upload nh)"]}),d.jsx("input",{type:"url",className:"w-full bg-blue-50/50 border-2 border-blue-100 rounded-2xl p-4 outline-none focus:border-blue-500 font-mono text-xs text-blue-700",value:h.driveUrl,onChange:N=>g({...h,driveUrl:N.target.value}),placeholder:"Dn link Drive d n vo y..."}),d.jsx("p",{className:"text-[9px] text-slate-400 mt-1 ml-1",children:"* Nhn s s upload nh thi cng/hin trng vo Drive ny."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 ml-1",children:"M D n"}),d.jsx("input",{type:"text",className:"w-full bg-slate-100 border-2 border-slate-100 rounded-2xl p-4 font-mono font-black text-amber-600 outline-none",value:h.code,readOnly:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 ml-1",children:"Loi Cng trnh"}),d.jsx("select",{className:"w-full bg-white border-2 border-slate-100 rounded-2xl p-4 outline-none focus:border-amber-500 font-bold text-xs shadow-sm",value:h.type,onChange:N=>g({...h,type:N.target.value}),children:Object.values(Sl).map(N=>d.jsx("option",{value:N,children:N},N))})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 ml-1",children:"a ch thi cng"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-2xl p-4 outline-none focus:border-amber-500 text-sm font-medium shadow-sm",value:h.address,onChange:N=>g({...h,address:N.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 ml-1",children:"Tn khch hng"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-2xl p-4 outline-none focus:border-amber-500 font-bold shadow-sm",value:h.clientName,onChange:N=>g({...h,clientName:N.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 ml-1",children:"S in thoi"}),d.jsx("input",{type:"tel",className:"w-full bg-white border-2 border-slate-100 rounded-2xl p-4 outline-none focus:border-amber-500 font-mono font-bold shadow-sm",value:h.clientPhone,onChange:N=>g({...h,clientPhone:N.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 ml-1",children:"Hn cht *"}),d.jsx("input",{type:"date",required:!0,className:"w-full bg-white border-2 border-slate-100 rounded-2xl p-4 outline-none focus:border-amber-500 font-bold shadow-sm",value:h.deadline,onChange:N=>g({...h,deadline:N.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 ml-1",children:"PM Ph trch"}),d.jsx("select",{className:"w-full bg-white border-2 border-slate-100 rounded-2xl p-4 outline-none focus:border-amber-500 font-bold text-xs shadow-sm",value:h.pmId,onChange:N=>g({...h,pmId:N.target.value}),children:a.filter(N=>N.role!==Me.VIEWER).map(N=>d.jsx("option",{value:N.id,children:N.name},N.id))})]})]})]}),r==="arch"&&d.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4",children:[d.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest border-l-4 border-amber-500 pl-3",children:" 1. CU HI KIN TRC"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Thi gian d kin xy"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500",value:x.arch.constructionTime,onChange:N=>_("arch","constructionTime",N.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Tnh trng t"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500",value:x.arch.landStatus,onChange:N=>_("arch","landStatus",N.target.value)})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Mc ch s dng"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500",value:x.arch.purpose,onChange:N=>_("arch","purpose",N.target.value),placeholder:"Nh  G, Ngh dng..."})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Thnh vin sinh sng"}),d.jsx("textarea",{className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 h-20 text-sm",value:x.arch.members,onChange:N=>_("arch","members",N.target.value),placeholder:"S lng,  tui, yu cu c th..."})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Nhu cu khng gian chnh"}),d.jsx("textarea",{className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 h-24 text-sm",value:x.arch.spaces,onChange:N=>_("arch","spaces",N.target.value),placeholder:"S PN, WC, Gara, Phng th..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Phong cch mong mun"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 font-bold text-amber-600",value:x.arch.style,onChange:N=>_("arch","style",N.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Ngn sch xy d kin"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 font-bold",value:x.arch.budget,onChange:N=>_("arch","budget",N.target.value)})]})]})]}),r==="interior"&&d.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4",children:[d.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest border-l-4 border-blue-500 pl-3",children:" 2. CU HI NI THT"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Phm vi thit k"}),d.jsx("textarea",{className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 h-20 text-sm",value:x.interior.scope,onChange:N=>_("interior","scope",N.target.value),placeholder:"Phng khch, bp, PN..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Gu ni tht"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 font-bold text-blue-600",value:x.interior.style,onChange:N=>_("interior","style",N.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Vt liu mong mun"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500",value:x.interior.materials,onChange:N=>_("interior","materials",N.target.value)})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Nhu cu s dng c th"}),d.jsx("textarea",{className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 h-20 text-sm",value:x.interior.usage,onChange:N=>_("interior","usage",N.target.value)})]})]})]}),r==="landscape"&&d.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4",children:[d.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest border-l-4 border-green-500 pl-3",children:" 3. CU HI SN VN"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Din tch & Hin trng"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500",value:x.landscape.area,onChange:N=>_("landscape","area",N.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Phong cch sn vn"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 font-bold text-green-600",value:x.landscape.style,onChange:N=>_("landscape","style",N.target.value)})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Nhu cu chc nng"}),d.jsx("textarea",{className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 h-24 text-sm",value:x.landscape.functions,onChange:N=>_("landscape","functions",N.target.value),placeholder:"H c Koi, BBQ, Khu chi tr em..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Bo dng & nh sng"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500",value:x.landscape.maintenance,onChange:N=>_("landscape","maintenance",N.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Ngn sch d kin"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500",value:x.landscape.budget,onChange:N=>_("landscape","budget",N.target.value)})]})]})]}),r==="docs"&&d.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4",children:[d.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest border-l-4 border-indigo-500 pl-3",children:" 4. TI LIU & PHP L"}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 ml-1",children:"nh h s b sung (Ti a 2 nh)"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(H=x.documents.additionalPhotos)==null?void 0:H.map((N,G)=>d.jsxs("div",{className:"relative group aspect-square rounded-2xl overflow-hidden border-2 border-slate-100 shadow-sm",children:[d.jsx("img",{src:N,className:"w-full h-full object-cover",alt:""}),d.jsx("button",{type:"button",onClick:()=>w(G),className:"absolute top-2 right-2 bg-red-500 text-white p-1.5 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},G)),(((D=x.documents.additionalPhotos)==null?void 0:D.length)||0)<2&&d.jsxs("div",{onClick:()=>{var N;return(N=b.current)==null?void 0:N.click()},className:"aspect-square border-2 border-dashed border-slate-200 rounded-2xl flex flex-col items-center justify-center cursor-pointer hover:border-amber-400 hover:bg-amber-50 transition-all bg-white",children:[d.jsx("svg",{className:"w-6 h-6 text-slate-300 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),d.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Thm nh"})]})]}),d.jsx("input",{type:"file",ref:b,className:"hidden",accept:"image/*",multiple:!0,onChange:C})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Tnh trng ti liu hin c"}),d.jsx("textarea",{className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 h-20 text-sm",value:x.documents.status,onChange:N=>_("documents","status",N.target.value),placeholder:"S , hin trng..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Quy nh xy dng khu vc"}),d.jsx("textarea",{className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 h-20 text-sm",value:x.documents.regulations,onChange:N=>_("documents","regulations",N.target.value)})]})]})]})]}),d.jsxs("div",{className:"p-6 md:p-8 border-t border-gray-100 bg-white flex gap-4 shrink-0",children:[d.jsx("button",{type:"button",onClick:n,className:"flex-1 py-4 text-slate-400 font-black uppercase tracking-widest text-[10px]",children:"Hy b"}),d.jsx("button",{type:"submit",onClick:M,className:"flex-[2] py-4 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest text-[10px] shadow-xl hover:bg-amber-600 transition-all active:scale-95",children:"Khi to & Lu h s"})]})]})})},oT=({user:n,projects:t,users:i,onAddProject:a,onDeleteProject:r})=>{const[c,h]=U.useState("all"),[g,x]=U.useState("all"),[m,y]=U.useState(!1),b=n.id==="u1",S=t.filter(R=>b||R.pmId===n.id?!0:ut.some(H=>H.projectId===R.id&&H.assigneeId===n.id)),C=S.filter(R=>{const j=c==="all"||R.status===c,H=g==="all"||R.type===g;return j&&H}),w=R=>{switch(R){case tt.INIT:return"bg-gray-100 text-gray-600";case tt.DESIGNING:return"bg-blue-100 text-blue-600";case tt.WAITING_APPROVAL:return"bg-amber-100 text-amber-600";case tt.CONSTRUCTING:return"bg-purple-100 text-purple-600";case tt.COMPLETED:return"bg-green-100 text-green-600";default:return"bg-gray-100 text-gray-500"}},_=(R,j)=>{R.preventDefault(),R.stopPropagation(),window.confirm(`Bn c chc chn mun xa d n "${j.name}" khng? Thao tc ny khng th hon tc.`)&&r(j.id)},M=R=>{const j=new Date(R),H=new Date,D=j.getTime()-H.getTime(),N=Math.ceil(D/(1e3*3600*24));return N<=3&&N>=0};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Danh sch D n"}),d.jsx("p",{className:"text-gray-500",children:b?"Qun l ton b h thng d n":"Cc d n bn ang tham gia"})]}),b&&d.jsxs("button",{onClick:()=>y(!0),className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-xl font-semibold shadow-md transition-all flex items-center justify-center active:scale-95",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"D n mi"]})]}),d.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex flex-wrap gap-4",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-1",children:"Trng thi"}),d.jsxs("select",{value:c,onChange:R=>h(R.target.value),className:"border-gray-200 rounded-lg text-sm focus:ring-amber-500 focus:border-amber-500 p-2 border outline-none",children:[d.jsx("option",{value:"all",children:"Tt c trng thi"}),Object.values(tt).map(R=>d.jsx("option",{value:R,children:R},R))]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-1",children:"Loi cng trnh"}),d.jsxs("select",{value:g,onChange:R=>x(R.target.value),className:"border-gray-200 rounded-lg text-sm focus:ring-amber-500 focus:border-amber-500 p-2 border outline-none",children:[d.jsx("option",{value:"all",children:"Tt c loi"}),Object.values(Sl).map(R=>d.jsx("option",{value:R,children:R},R))]})]}),d.jsxs("div",{className:"ml-auto self-end text-xs font-bold text-slate-400 uppercase tracking-widest",children:["Hin th: ",C.length," / ",S.length," d n"]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.length>0?C.map(R=>{const j=i.find(D=>D.id===R.pmId),H=M(R.deadline);return d.jsxs(Nl,{to:`/projects/${R.id}`,className:"bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow overflow-hidden group relative",children:[H&&R.status!==tt.COMPLETED&&d.jsx("div",{className:"absolute top-2 right-2 z-10 p-2 bg-red-500 text-white rounded-xl shadow-lg animate-bounce",title:"Hn cht rt gn!",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),b&&d.jsx("button",{onClick:D=>_(D,R),className:"absolute top-2 left-2 z-10 p-2 bg-white/80 backdrop-blur-sm text-red-500 rounded-lg opacity-0 group-hover:opacity-100 hover:bg-red-50 transition-all shadow-sm border border-red-100",title:"Xa d n",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),d.jsxs("div",{className:"h-40 bg-gray-200 relative",children:[d.jsx("img",{src:R.thumbnailUrl||`https://picsum.photos/seed/${R.id}/400/200`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",alt:R.name}),d.jsx("span",{className:`absolute bottom-4 left-4 px-3 py-1 rounded-full text-xs font-bold shadow-sm ${w(R.status)}`,children:R.status})]}),d.jsxs("div",{className:"p-5",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800 group-hover:text-amber-600 transition-colors",children:R.name}),d.jsx("span",{className:"text-xs font-mono text-gray-400",children:R.code})]}),d.jsxs("p",{className:"text-sm text-gray-500 mb-4 flex items-center",children:[d.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),R.address||"Cha cp nht a ch"]}),d.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-50",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("img",{src:(j==null?void 0:j.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((j==null?void 0:j.name)||"")}`,className:"w-6 h-6 rounded-full mr-2",alt:""}),d.jsx("span",{className:"text-xs font-medium text-gray-600",children:j==null?void 0:j.name})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-tighter",children:"Hn cht"}),d.jsx("p",{className:`text-xs font-bold ${H?"text-red-600":"text-slate-600"}`,children:R.deadline})]})]})]})]},R.id)}):d.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center justify-center text-gray-400 bg-white rounded-3xl border border-dashed border-gray-200",children:[d.jsx("svg",{className:"w-16 h-16 mb-4 opacity-20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),d.jsx("p",{className:"text-lg font-medium",children:"Khng c d n no hin th"}),d.jsx("p",{className:"text-sm",children:"Bn cha c giao vic trong d n no hoc khng tm thy kt qu lc."})]})}),m&&d.jsx(iT,{onClose:()=>y(!1),onSave:a,existingProjects:t,users:i})]})};var aT={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let sT,rT;function uT(){return{geminiUrl:sT,vertexUrl:rT}}function cT(n,t,i,a){var r,c;if(!(n!=null&&n.baseUrl)){const h=uT();return t?(r=h.vertexUrl)!==null&&r!==void 0?r:i:(c=h.geminiUrl)!==null&&c!==void 0?c:a}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wn{}function ne(n,t){const i=/\{([^}]+)\}/g;return n.replace(i,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const c=t[r];return c!=null?String(c):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(n,t,i){for(let c=0;c<t.length-1;c++){const h=t[c];if(h.endsWith("[]")){const g=h.slice(0,-2);if(!(g in n))if(Array.isArray(i))n[g]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${h}`);if(Array.isArray(n[g])){const x=n[g];if(Array.isArray(i))for(let m=0;m<x.length;m++){const y=x[m];f(y,t.slice(c+1),i[m])}else for(const m of x)f(m,t.slice(c+1),i)}return}else if(h.endsWith("[0]")){const g=h.slice(0,-3);g in n||(n[g]=[{}]);const x=n[g];f(x[0],t.slice(c+1),i);return}(!n[h]||typeof n[h]!="object")&&(n[h]={}),n=n[h]}const a=t[t.length-1],r=n[a];if(r!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===r)return;if(typeof r=="object"&&typeof i=="object"&&r!==null&&i!==null)Object.assign(r,i);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(n,i):n[a]=i}function u(n,t,i=void 0){try{if(t.length===1&&t[0]==="_self")return n;for(let a=0;a<t.length;a++){if(typeof n!="object"||n===null)return i;const r=t[a];if(r.endsWith("[]")){const c=r.slice(0,-2);if(c in n){const h=n[c];return Array.isArray(h)?h.map(g=>u(g,t.slice(a+1),i)):i}else return i}else n=n[r]}return n}catch(a){if(a instanceof TypeError)return i;throw a}}function dT(n,t){for(const[i,a]of Object.entries(t)){const r=i.split("."),c=a.split("."),h=new Set;let g=-1;for(let x=0;x<r.length;x++)if(r[x]==="*"){g=x;break}if(g!==-1&&c.length>g)for(let x=g;x<c.length;x++){const m=c[x];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&h.add(m)}Qu(n,r,c,0,h)}}function Qu(n,t,i,a,r){if(a>=t.length||typeof n!="object"||n===null)return;const c=t[a];if(c.endsWith("[]")){const h=c.slice(0,-2),g=n;if(h in g&&Array.isArray(g[h]))for(const x of g[h])Qu(x,t,i,a+1,r)}else if(c==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const h=n,g=Object.keys(h).filter(m=>!m.startsWith("_")&&!r.has(m)),x={};for(const m of g)x[m]=h[m];for(const[m,y]of Object.entries(x)){const b=[];for(const S of i.slice(a))S==="*"?b.push(m):b.push(S);f(h,b,y)}for(const m of g)delete h[m]}}else{const h=n;c in h&&Qu(h[c],t,i,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xc(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fT(n){const t={},i=u(n,["operationName"]);i!=null&&f(t,["operationName"],i);const a=u(n,["resourceName"]);return a!=null&&f(t,["_url","resourceName"],a),t}function hT(n){const t={},i=u(n,["name"]);i!=null&&f(t,["name"],i);const a=u(n,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(n,["done"]);r!=null&&f(t,["done"],r);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const h=u(n,["response","generateVideoResponse"]);return h!=null&&f(t,["response"],mT(h)),t}function pT(n){const t={},i=u(n,["name"]);i!=null&&f(t,["name"],i);const a=u(n,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(n,["done"]);r!=null&&f(t,["done"],r);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const h=u(n,["response"]);return h!=null&&f(t,["response"],gT(h)),t}function mT(n){const t={},i=u(n,["generatedSamples"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(h=>vT(h))),f(t,["generatedVideos"],c)}const a=u(n,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(n,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function gT(n){const t={},i=u(n,["videos"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(h=>xT(h))),f(t,["generatedVideos"],c)}const a=u(n,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(n,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function vT(n){const t={},i=u(n,["video"]);return i!=null&&f(t,["video"],NT(i)),t}function xT(n){const t={},i=u(n,["_self"]);return i!=null&&f(t,["video"],CT(i)),t}function yT(n){const t={},i=u(n,["operationName"]);return i!=null&&f(t,["_url","operationName"],i),t}function bT(n){const t={},i=u(n,["operationName"]);return i!=null&&f(t,["_url","operationName"],i),t}function TT(n){const t={},i=u(n,["name"]);i!=null&&f(t,["name"],i);const a=u(n,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(n,["done"]);r!=null&&f(t,["done"],r);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const h=u(n,["response"]);return h!=null&&f(t,["response"],ST(h)),t}function ST(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["parent"]);a!=null&&f(t,["parent"],a);const r=u(n,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function K0(n){const t={},i=u(n,["name"]);i!=null&&f(t,["name"],i);const a=u(n,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(n,["done"]);r!=null&&f(t,["done"],r);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const h=u(n,["response"]);return h!=null&&f(t,["response"],ET(h)),t}function ET(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["parent"]);a!=null&&f(t,["parent"],a);const r=u(n,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function NT(n){const t={},i=u(n,["uri"]);i!=null&&f(t,["uri"],i);const a=u(n,["encodedVideo"]);a!=null&&f(t,["videoBytes"],xc(a));const r=u(n,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function CT(n){const t={},i=u(n,["gcsUri"]);i!=null&&f(t,["uri"],i);const a=u(n,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],xc(a));const r=u(n,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yp;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Yp||(Yp={}));var Kp;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Kp||(Kp={}));var Xp;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Xp||(Xp={}));var el;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(el||(el={}));var Qp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Qp||(Qp={}));var $p;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})($p||($p={}));var Wp;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Wp||(Wp={}));var Zp;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Zp||(Zp={}));var em;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(em||(em={}));var tm;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(tm||(tm={}));var nm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(nm||(nm={}));var lm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(lm||(lm={}));var im;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(im||(im={}));var om;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(om||(om={}));var am;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(am||(am={}));var sm;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(sm||(sm={}));var rm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(rm||(rm={}));var um;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(um||(um={}));var cm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(cm||(cm={}));var is;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(is||(is={}));var dm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dm||(dm={}));var fm;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(fm||(fm={}));var hm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(hm||(hm={}));var $u;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})($u||($u={}));var pm;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(pm||(pm={}));var mm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(mm||(mm={}));var gm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(gm||(gm={}));var vm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(vm||(vm={}));var xm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(xm||(xm={}));var ym;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ym||(ym={}));var bm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(bm||(bm={}));var Tm;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Tm||(Tm={}));var Sm;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Sm||(Sm={}));var Em;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Em||(Em={}));var Nm;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Nm||(Nm={}));var Cm;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Cm||(Cm={}));var _m;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(_m||(_m={}));var wm;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(wm||(wm={}));var Am;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Am||(Am={}));var Rm;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Rm||(Rm={}));var Mm;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Mm||(Mm={}));var km;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(km||(km={}));var Dm;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Dm||(Dm={}));var Im;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Im||(Im={}));var Um;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Um||(Um={}));var Lm;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Lm||(Lm={}));var Hm;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Hm||(Hm={}));var Gm;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Gm||(Gm={}));var Pm;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Pm||(Pm={}));var Vm;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Vm||(Vm={}));var Bm;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Bm||(Bm={}));var zm;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(zm||(zm={}));var qm;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(qm||(qm={}));var jm;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(jm||(jm={}));var Om;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Om||(Om={}));var fi;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(fi||(fi={}));class Wu{constructor(t){const i={};for(const a of t.headers.entries())i[a[0]]=a[1];this.headers=i,this.responseInternal=t}json(){return this.responseInternal.json()}}class yo{get text(){var t,i,a,r,c,h,g,x;if(((r=(a=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const b=[];for(const S of(x=(g=(h=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)!==null&&x!==void 0?x:[]){for(const[C,w]of Object.entries(S))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(w!==null||w!==void 0)&&b.push(C);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;y=!0,m+=S.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var t,i,a,r,c,h,g,x;if(((r=(a=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const b of(x=(g=(h=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)!==null&&x!==void 0?x:[]){for(const[S,C]of Object.entries(b))S!=="inlineData"&&(C!==null||C!==void 0)&&y.push(S);b.inlineData&&typeof b.inlineData.data=="string"&&(m+=atob(b.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,i,a,r,c,h,g,x;if(((r=(a=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(x=(g=(h=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||x===void 0?void 0:x.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,i,a,r,c,h,g,x,m;if(((r=(a=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(x=(g=(h=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||x===void 0?void 0:x.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,i,a,r,c,h,g,x,m;if(((r=(a=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(x=(g=(h=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||x===void 0?void 0:x.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class Fm{}class Jm{}class _T{}class wT{}class AT{}class RT{}class Ym{}class Km{}class Xm{}class MT{}class os{_fromAPIResponse({apiResponse:t,_isVertexAI:i}){const a=new os;let r;const c=t;return i?r=pT(c):r=hT(c),Object.assign(a,r),a}}class Qm{}class $m{}class Wm{}class Zm{}class kT{}class DT{}class IT{}class yc{_fromAPIResponse({apiResponse:t,_isVertexAI:i}){const a=new yc,c=TT(t);return Object.assign(a,c),a}}class UT{}class LT{}class HT{}class e0{}class GT{get text(){var t,i,a;let r="",c=!1;const h=[];for(const g of(a=(i=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&a!==void 0?a:[]){for(const[x,m]of Object.entries(g))x!=="text"&&x!=="thought"&&m!==null&&h.push(x);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;c=!0,r+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?r:void 0}get data(){var t,i,a;let r="";const c=[];for(const h of(a=(i=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&a!==void 0?a:[]){for(const[g,x]of Object.entries(h))g!=="inlineData"&&x!==null&&c.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(r+=atob(h.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class PT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class bc{_fromAPIResponse({apiResponse:t,_isVertexAI:i}){const a=new bc,c=K0(t);return Object.assign(a,c),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _e(n,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const i=t.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function X0(n,t){const i=_e(n,t);return i?i.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}`:i.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${i}`:i:""}function Q0(n){return Array.isArray(n)?n.map(t=>as(t)):[as(n)]}function as(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function $0(n){const t=as(n);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function W0(n){const t=as(n);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function t0(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Z0(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(t=>t0(t)):[t0(n)]}function Zu(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function n0(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function l0(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function ct(n){if(n==null)throw new Error("ContentUnion is required");return Zu(n)?n:{role:"user",parts:Z0(n)}}function Tc(n,t){if(!t)return[];if(n.isVertexAI()&&Array.isArray(t))return t.flatMap(i=>{const a=ct(i);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(n.isVertexAI()){const i=ct(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(t)?t.map(i=>ct(i)):[ct(t)]}function jt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(n0(n)||l0(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ct(n)]}const t=[],i=[],a=Zu(n[0]);for(const r of n){const c=Zu(r);if(c!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(r);else{if(n0(r)||l0(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(r)}}return a||t.push({role:"user",parts:Z0(i)}),t}function VT(n,t){n.includes("null")&&(t.nullable=!0);const i=n.filter(a=>a!=="null");if(i.length===1)t.type=Object.values(el).includes(i[0].toUpperCase())?i[0].toUpperCase():el.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of i)t.anyOf.push({type:Object.values(el).includes(a.toUpperCase())?a.toUpperCase():el.TYPE_UNSPECIFIED})}}function pi(n){const t={},i=["items"],a=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=n.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,n=c[1]):c[1].type==="null"&&(t.nullable=!0,n=c[0])),n.type instanceof Array&&VT(n.type,t);for(const[h,g]of Object.entries(n))if(g!=null)if(h=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(el).includes(g.toUpperCase())?g.toUpperCase():el.TYPE_UNSPECIFIED}else if(i.includes(h))t[h]=pi(g);else if(a.includes(h)){const x=[];for(const m of g){if(m.type=="null"){t.nullable=!0;continue}x.push(pi(m))}t[h]=x}else if(r.includes(h)){const x={};for(const[m,y]of Object.entries(g))x[m]=pi(y);t[h]=x}else{if(h==="additionalProperties")continue;t[h]=g}return t}function Sc(n){return pi(n)}function Ec(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Nc(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function xi(n){if(n.functionDeclarations)for(const t of n.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=pi(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=pi(t.response));return n}function yi(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of n)t.push(i);return t}function BT(n,t,i,a=1){const r=!t.startsWith(`${i}/`)&&t.split("/").length===a;return n.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${n.getProject()}/${t}`:t.startsWith(`${i}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}/${t}`:t:r?`${i}/${t}`:t}function An(n,t){if(typeof t!="string")throw new Error("name must be a string");return BT(n,t,"cachedContents")}function eg(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function tl(n){return xc(n)}function zT(n){return n!=null&&typeof n=="object"&&"name"in n}function qT(n){return n!=null&&typeof n=="object"&&"video"in n}function jT(n){return n!=null&&typeof n=="object"&&"uri"in n}function tg(n){var t;let i;if(zT(n)&&(i=n.name),!(jT(n)&&(i=n.uri,i===void 0))&&!(qT(n)&&(i=(t=n.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof n=="string"&&(i=n),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const r=i.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${i}`);i=r[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function ng(n,t){let i;return n.isVertexAI()?i=t?"publishers/google/models":"models":i=t?"models":"tunedModels",i}function lg(n){for(const t of["models","tunedModels","publisherModels"])if(OT(n,t))return n[t];return[]}function OT(n,t){return n!==null&&typeof n=="object"&&t in n}function FT(n,t={}){const i=n,a={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(a.responseJsonSchema=i.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function JT(n,t={}){const i=[],a=new Set;for(const r of n){const c=r.name;if(a.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);a.add(c);const h=FT(r,t);h.functionDeclarations&&i.push(...h.functionDeclarations)}return{functionDeclarations:i}}function ig(n,t){let i;if(typeof t=="string")if(n.isVertexAI())if(t.startsWith("gs://"))i={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))i={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))i={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:t}}else i=t;const a=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,r=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function YT(n){if(typeof n!="string")return n;const t=n;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function og(n){if(typeof n!="object"||n===null)return{};const t=n,i=t.inlinedResponses;if(typeof i!="object"||i===null)return n;const r=i.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let c=!1;for(const h of r){if(typeof h!="object"||h===null)continue;const x=h.response;if(typeof x!="object"||x===null)continue;if(x.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),n}function bi(n,t){const i=t;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function ag(n){const t=n;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KT(n){const t={},i=u(n,["responsesFile"]);i!=null&&f(t,["fileName"],i);const a=u(n,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>AS(h))),f(t,["inlinedResponses"],c)}const r=u(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>h)),f(t,["inlinedEmbedContentResponses"],c)}return t}function XT(n){const t={},i=u(n,["predictionsFormat"]);i!=null&&f(t,["format"],i);const a=u(n,["gcsDestination","outputUriPrefix"]);a!=null&&f(t,["gcsUri"],a);const r=u(n,["bigqueryDestination","outputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function QT(n){const t={},i=u(n,["format"]);i!=null&&f(t,["predictionsFormat"],i);const a=u(n,["gcsUri"]);a!=null&&f(t,["gcsDestination","outputUriPrefix"],a);const r=u(n,["bigqueryUri"]);if(r!=null&&f(t,["bigqueryDestination","outputUri"],r),u(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function ts(n){const t={},i=u(n,["name"]);i!=null&&f(t,["name"],i);const a=u(n,["metadata","displayName"]);a!=null&&f(t,["displayName"],a);const r=u(n,["metadata","state"]);r!=null&&f(t,["state"],ag(r));const c=u(n,["metadata","createTime"]);c!=null&&f(t,["createTime"],c);const h=u(n,["metadata","endTime"]);h!=null&&f(t,["endTime"],h);const g=u(n,["metadata","updateTime"]);g!=null&&f(t,["updateTime"],g);const x=u(n,["metadata","model"]);x!=null&&f(t,["model"],x);const m=u(n,["metadata","output"]);return m!=null&&f(t,["dest"],KT(og(m))),t}function ec(n){const t={},i=u(n,["name"]);i!=null&&f(t,["name"],i);const a=u(n,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(n,["state"]);r!=null&&f(t,["state"],ag(r));const c=u(n,["error"]);c!=null&&f(t,["error"],c);const h=u(n,["createTime"]);h!=null&&f(t,["createTime"],h);const g=u(n,["startTime"]);g!=null&&f(t,["startTime"],g);const x=u(n,["endTime"]);x!=null&&f(t,["endTime"],x);const m=u(n,["updateTime"]);m!=null&&f(t,["updateTime"],m);const y=u(n,["model"]);y!=null&&f(t,["model"],y);const b=u(n,["inputConfig"]);b!=null&&f(t,["src"],$T(b));const S=u(n,["outputConfig"]);S!=null&&f(t,["dest"],XT(og(S)));const C=u(n,["completionStats"]);return C!=null&&f(t,["completionStats"],C),t}function $T(n){const t={},i=u(n,["instancesFormat"]);i!=null&&f(t,["format"],i);const a=u(n,["gcsSource","uris"]);a!=null&&f(t,["gcsUri"],a);const r=u(n,["bigquerySource","inputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function WT(n,t){const i={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&f(i,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>wS(n,h))),f(i,["requests","requests"],c)}return i}function ZT(n){const t={},i=u(n,["format"]);i!=null&&f(t,["instancesFormat"],i);const a=u(n,["gcsUri"]);a!=null&&f(t,["gcsSource","uris"],a);const r=u(n,["bigqueryUri"]);if(r!=null&&f(t,["bigquerySource","inputUri"],r),u(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function eS(n){const t={},i=u(n,["data"]);if(i!=null&&f(t,["data"],i),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function tS(n,t){const i={},a=u(t,["name"]);return a!=null&&f(i,["_url","name"],bi(n,a)),i}function nS(n,t){const i={},a=u(t,["name"]);return a!=null&&f(i,["_url","name"],bi(n,a)),i}function lS(n){const t={},i=u(n,["content"]);i!=null&&f(t,["content"],i);const a=u(n,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],iS(a));const r=u(n,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const c=u(n,["finishReason"]);c!=null&&f(t,["finishReason"],c);const h=u(n,["avgLogprobs"]);h!=null&&f(t,["avgLogprobs"],h);const g=u(n,["groundingMetadata"]);g!=null&&f(t,["groundingMetadata"],g);const x=u(n,["index"]);x!=null&&f(t,["index"],x);const m=u(n,["logprobsResult"]);m!=null&&f(t,["logprobsResult"],m);const y=u(n,["safetyRatings"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(C=>C)),f(t,["safetyRatings"],S)}const b=u(n,["urlContextMetadata"]);return b!=null&&f(t,["urlContextMetadata"],b),t}function iS(n){const t={},i=u(n,["citationSources"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["citations"],a)}return t}function sg(n){const t={},i=u(n,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(c=>LS(c))),f(t,["parts"],r)}const a=u(n,["role"]);return a!=null&&f(t,["role"],a),t}function oS(n,t){const i={},a=u(n,["displayName"]);if(t!==void 0&&a!=null&&f(t,["batch","displayName"],a),u(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function aS(n,t){const i={},a=u(n,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(n,["dest"]);return t!==void 0&&r!=null&&f(t,["outputConfig"],QT(YT(r))),i}function i0(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["_url","model"],_e(n,a));const r=u(t,["src"]);r!=null&&f(i,["batch","inputConfig"],WT(n,ig(n,r)));const c=u(t,["config"]);return c!=null&&oS(c,i),i}function sS(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["model"],_e(n,a));const r=u(t,["src"]);r!=null&&f(i,["inputConfig"],ZT(ig(n,r)));const c=u(t,["config"]);return c!=null&&aS(c,i),i}function rS(n,t){const i={},a=u(n,["displayName"]);return t!==void 0&&a!=null&&f(t,["batch","displayName"],a),i}function uS(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["_url","model"],_e(n,a));const r=u(t,["src"]);r!=null&&f(i,["batch","inputConfig"],gS(n,r));const c=u(t,["config"]);return c!=null&&rS(c,i),i}function cS(n,t){const i={},a=u(t,["name"]);return a!=null&&f(i,["_url","name"],bi(n,a)),i}function dS(n,t){const i={},a=u(t,["name"]);return a!=null&&f(i,["_url","name"],bi(n,a)),i}function fS(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["name"]);a!=null&&f(t,["name"],a);const r=u(n,["done"]);r!=null&&f(t,["done"],r);const c=u(n,["error"]);return c!=null&&f(t,["error"],c),t}function hS(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["name"]);a!=null&&f(t,["name"],a);const r=u(n,["done"]);r!=null&&f(t,["done"],r);const c=u(n,["error"]);return c!=null&&f(t,["error"],c),t}function pS(n,t){const i={},a=u(t,["contents"]);if(a!=null){let c=Tc(n,a);Array.isArray(c)&&(c=c.map(h=>h)),f(i,["requests[]","request","content"],c)}const r=u(t,["config"]);return r!=null&&(f(i,["_self"],mS(r,i)),dT(i,{"requests[].*":"requests[].request.*"})),i}function mS(n,t){const i={},a=u(n,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const r=u(n,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const c=u(n,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function gS(n,t){const i={},a=u(t,["fileName"]);a!=null&&f(i,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&f(i,["requests"],pS(n,r)),i}function vS(n){const t={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(n,["fileUri"]);i!=null&&f(t,["fileUri"],i);const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function xS(n){const t={},i=u(n,["id"]);i!=null&&f(t,["id"],i);const a=u(n,["args"]);a!=null&&f(t,["args"],a);const r=u(n,["name"]);if(r!=null&&f(t,["name"],r),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function yS(n){const t={},i=u(n,["mode"]);i!=null&&f(t,["mode"],i);const a=u(n,["allowedFunctionNames"]);if(a!=null&&f(t,["allowedFunctionNames"],a),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function bS(n,t,i){const a={},r=u(t,["systemInstruction"]);i!==void 0&&r!=null&&f(i,["systemInstruction"],sg(ct(r)));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const h=u(t,["topP"]);h!=null&&f(a,["topP"],h);const g=u(t,["topK"]);g!=null&&f(a,["topK"],g);const x=u(t,["candidateCount"]);x!=null&&f(a,["candidateCount"],x);const m=u(t,["maxOutputTokens"]);m!=null&&f(a,["maxOutputTokens"],m);const y=u(t,["stopSequences"]);y!=null&&f(a,["stopSequences"],y);const b=u(t,["responseLogprobs"]);b!=null&&f(a,["responseLogprobs"],b);const S=u(t,["logprobs"]);S!=null&&f(a,["logprobs"],S);const C=u(t,["presencePenalty"]);C!=null&&f(a,["presencePenalty"],C);const w=u(t,["frequencyPenalty"]);w!=null&&f(a,["frequencyPenalty"],w);const _=u(t,["seed"]);_!=null&&f(a,["seed"],_);const M=u(t,["responseMimeType"]);M!=null&&f(a,["responseMimeType"],M);const R=u(t,["responseSchema"]);R!=null&&f(a,["responseSchema"],Sc(R));const j=u(t,["responseJsonSchema"]);if(j!=null&&f(a,["responseJsonSchema"],j),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=u(t,["safetySettings"]);if(i!==void 0&&H!=null){let ue=H;Array.isArray(ue)&&(ue=ue.map(Ae=>HS(Ae))),f(i,["safetySettings"],ue)}const D=u(t,["tools"]);if(i!==void 0&&D!=null){let ue=yi(D);Array.isArray(ue)&&(ue=ue.map(Ae=>PS(xi(Ae)))),f(i,["tools"],ue)}const N=u(t,["toolConfig"]);if(i!==void 0&&N!=null&&f(i,["toolConfig"],GS(N)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=u(t,["cachedContent"]);i!==void 0&&G!=null&&f(i,["cachedContent"],An(n,G));const z=u(t,["responseModalities"]);z!=null&&f(a,["responseModalities"],z);const Q=u(t,["mediaResolution"]);Q!=null&&f(a,["mediaResolution"],Q);const Y=u(t,["speechConfig"]);if(Y!=null&&f(a,["speechConfig"],Ec(Y)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=u(t,["thinkingConfig"]);le!=null&&f(a,["thinkingConfig"],le);const W=u(t,["imageConfig"]);W!=null&&f(a,["imageConfig"],_S(W));const ae=u(t,["enableEnhancedCivicAnswers"]);return ae!=null&&f(a,["enableEnhancedCivicAnswers"],ae),a}function TS(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["candidates"]);if(a!=null){let x=a;Array.isArray(x)&&(x=x.map(m=>lS(m))),f(t,["candidates"],x)}const r=u(n,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const c=u(n,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const h=u(n,["responseId"]);h!=null&&f(t,["responseId"],h);const g=u(n,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function SS(n,t){const i={},a=u(t,["name"]);return a!=null&&f(i,["_url","name"],bi(n,a)),i}function ES(n,t){const i={},a=u(t,["name"]);return a!=null&&f(i,["_url","name"],bi(n,a)),i}function NS(n){const t={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=u(n,["enableWidget"]);return i!=null&&f(t,["enableWidget"],i),t}function CS(n){const t={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=u(n,["timeRangeFilter"]);return i!=null&&f(t,["timeRangeFilter"],i),t}function _S(n){const t={},i=u(n,["aspectRatio"]);i!=null&&f(t,["aspectRatio"],i);const a=u(n,["imageSize"]);if(a!=null&&f(t,["imageSize"],a),u(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function wS(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["request","model"],_e(n,a));const r=u(t,["contents"]);if(r!=null){let g=jt(r);Array.isArray(g)&&(g=g.map(x=>sg(x))),f(i,["request","contents"],g)}const c=u(t,["metadata"]);c!=null&&f(i,["metadata"],c);const h=u(t,["config"]);return h!=null&&f(i,["request","generationConfig"],bS(n,h,u(i,["request"],{}))),i}function AS(n){const t={},i=u(n,["response"]);i!=null&&f(t,["response"],TS(i));const a=u(n,["error"]);return a!=null&&f(t,["error"],a),t}function RS(n,t){const i={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(n,["pageToken"]);if(t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),u(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function MS(n,t){const i={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(n,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const c=u(n,["filter"]);return t!==void 0&&c!=null&&f(t,["_query","filter"],c),i}function kS(n){const t={},i=u(n,["config"]);return i!=null&&RS(i,t),t}function DS(n){const t={},i=u(n,["config"]);return i!=null&&MS(i,t),t}function IS(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(n,["operations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>ts(h))),f(t,["batchJobs"],c)}return t}function US(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(n,["batchPredictionJobs"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>ec(h))),f(t,["batchJobs"],c)}return t}function LS(n){const t={},i=u(n,["mediaResolution"]);i!=null&&f(t,["mediaResolution"],i);const a=u(n,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(n,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(n,["fileData"]);c!=null&&f(t,["fileData"],vS(c));const h=u(n,["functionCall"]);h!=null&&f(t,["functionCall"],xS(h));const g=u(n,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const x=u(n,["inlineData"]);x!=null&&f(t,["inlineData"],eS(x));const m=u(n,["text"]);m!=null&&f(t,["text"],m);const y=u(n,["thought"]);y!=null&&f(t,["thought"],y);const b=u(n,["thoughtSignature"]);b!=null&&f(t,["thoughtSignature"],b);const S=u(n,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function HS(n){const t={},i=u(n,["category"]);if(i!=null&&f(t,["category"],i),u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(n,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function GS(n){const t={},i=u(n,["functionCallingConfig"]);i!=null&&f(t,["functionCallingConfig"],yS(i));const a=u(n,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],a),t}function PS(n){const t={},i=u(n,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(b=>b)),f(t,["functionDeclarations"],y)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(n,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(n,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(n,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const h=u(n,["codeExecution"]);if(h!=null&&f(t,["codeExecution"],h),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(n,["googleMaps"]);g!=null&&f(t,["googleMaps"],NS(g));const x=u(n,["googleSearch"]);x!=null&&f(t,["googleSearch"],CS(x));const m=u(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Cn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Cn||(Cn={}));class _l{constructor(t,i,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(t,a,r)}init(t,i,a){var r,c;this.nameInternal=t,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let h={config:{}};!a||Object.keys(a).length===0?h={config:{}}:typeof a=="object"?h=Object.assign({},a):h=a,h.config&&(h.config.pageToken=i.nextPageToken),this.paramsInternal=h,this.pageInternalSize=(c=(r=h.config)===null||r===void 0?void 0:r.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VS extends wn{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new _l(Cn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(t){const i=i0(this.apiClient,t),a=i._url,r=ne("{model}:batchGenerateContent",a),g=i.batch.inputConfig.requests,x=g.requests,m=[];for(const y of x){const b=Object.assign({},y);if(b.systemInstruction){const S=b.systemInstruction;delete b.systemInstruction;const C=b.request;C.systemInstruction=S,b.request=C}m.push(b)}return g.requests=m,delete i.config,delete i._url,delete i._query,{path:r,body:i}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,i){const a=i?Object.assign({},i):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const c=this.getGcsUri(t),h=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?a.dest=`${c.slice(0,-6)}/dest`:a.dest=`${c}_dest_${r}`;else if(h)a.dest=`${h}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=sS(this.apiClient,t);return g=ne("batchPredictionJobs",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),h.then(y=>ec(y))}else{const m=i0(this.apiClient,t);return g=ne("{model}:batchGenerateContent",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),h.then(y=>ts(y))}}async createEmbeddingsInternal(t){var i,a;let r,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=uS(this.apiClient,t);return c=ne("{model}:asyncBatchEmbedContent",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(x=>ts(x))}}async get(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=ES(this.apiClient,t);return g=ne("batchPredictionJobs/{name}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),h.then(y=>ec(y))}else{const m=SS(this.apiClient,t);return g=ne("batches/{name}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),h.then(y=>ts(y))}}async cancel(t){var i,a,r,c;let h="",g={};if(this.apiClient.isVertexAI()){const x=nS(this.apiClient,t);h=ne("batchPredictionJobs/{name}:cancel",x._url),g=x._query,delete x._url,delete x._query,await this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const x=tS(this.apiClient,t);h=ne("batches/{name}:cancel",x._url),g=x._query,delete x._url,delete x._query,await this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=DS(t);return g=ne("batchPredictionJobs",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=US(y),S=new e0;return Object.assign(S,b),S})}else{const m=kS(t);return g=ne("batches",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=IS(y),S=new e0;return Object.assign(S,b),S})}}async delete(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=dS(this.apiClient,t);return g=ne("batchPredictionJobs/{name}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>hS(y))}else{const m=cS(this.apiClient,t);return g=ne("batches/{name}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>fS(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BS(n){const t={},i=u(n,["data"]);if(i!=null&&f(t,["data"],i),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function o0(n){const t={},i=u(n,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(c=>uE(c))),f(t,["parts"],r)}const a=u(n,["role"]);return a!=null&&f(t,["role"],a),t}function zS(n,t){const i={},a=u(n,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(n,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(n,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const h=u(n,["contents"]);if(t!==void 0&&h!=null){let y=jt(h);Array.isArray(y)&&(y=y.map(b=>o0(b))),f(t,["contents"],y)}const g=u(n,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],o0(ct(g)));const x=u(n,["tools"]);if(t!==void 0&&x!=null){let y=x;Array.isArray(y)&&(y=y.map(b=>dE(b))),f(t,["tools"],y)}const m=u(n,["toolConfig"]);if(t!==void 0&&m!=null&&f(t,["toolConfig"],cE(m)),u(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function qS(n,t){const i={},a=u(n,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(n,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(n,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const h=u(n,["contents"]);if(t!==void 0&&h!=null){let b=jt(h);Array.isArray(b)&&(b=b.map(S=>S)),f(t,["contents"],b)}const g=u(n,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],ct(g));const x=u(n,["tools"]);if(t!==void 0&&x!=null){let b=x;Array.isArray(b)&&(b=b.map(S=>fE(S))),f(t,["tools"],b)}const m=u(n,["toolConfig"]);t!==void 0&&m!=null&&f(t,["toolConfig"],m);const y=u(n,["kmsKeyName"]);return t!==void 0&&y!=null&&f(t,["encryption_spec","kmsKeyName"],y),i}function jS(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["model"],X0(n,a));const r=u(t,["config"]);return r!=null&&zS(r,i),i}function OS(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["model"],X0(n,a));const r=u(t,["config"]);return r!=null&&qS(r,i),i}function FS(n,t){const i={},a=u(t,["name"]);return a!=null&&f(i,["_url","name"],An(n,a)),i}function JS(n,t){const i={},a=u(t,["name"]);return a!=null&&f(i,["_url","name"],An(n,a)),i}function YS(n){const t={},i=u(n,["sdkHttpResponse"]);return i!=null&&f(t,["sdkHttpResponse"],i),t}function KS(n){const t={},i=u(n,["sdkHttpResponse"]);return i!=null&&f(t,["sdkHttpResponse"],i),t}function XS(n){const t={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(n,["fileUri"]);i!=null&&f(t,["fileUri"],i);const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function QS(n){const t={},i=u(n,["id"]);i!=null&&f(t,["id"],i);const a=u(n,["args"]);a!=null&&f(t,["args"],a);const r=u(n,["name"]);if(r!=null&&f(t,["name"],r),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function $S(n){const t={},i=u(n,["mode"]);i!=null&&f(t,["mode"],i);const a=u(n,["allowedFunctionNames"]);if(a!=null&&f(t,["allowedFunctionNames"],a),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function WS(n){const t={};if(u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=u(n,["description"]);i!=null&&f(t,["description"],i);const a=u(n,["name"]);a!=null&&f(t,["name"],a);const r=u(n,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(n,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const h=u(n,["response"]);h!=null&&f(t,["response"],h);const g=u(n,["responseJsonSchema"]);return g!=null&&f(t,["responseJsonSchema"],g),t}function ZS(n,t){const i={},a=u(t,["name"]);return a!=null&&f(i,["_url","name"],An(n,a)),i}function eE(n,t){const i={},a=u(t,["name"]);return a!=null&&f(i,["_url","name"],An(n,a)),i}function tE(n){const t={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=u(n,["enableWidget"]);return i!=null&&f(t,["enableWidget"],i),t}function nE(n){const t={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=u(n,["timeRangeFilter"]);return i!=null&&f(t,["timeRangeFilter"],i),t}function lE(n,t){const i={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(n,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),i}function iE(n,t){const i={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(n,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),i}function oE(n){const t={},i=u(n,["config"]);return i!=null&&lE(i,t),t}function aE(n){const t={},i=u(n,["config"]);return i!=null&&iE(i,t),t}function sE(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(n,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>h)),f(t,["cachedContents"],c)}return t}function rE(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(n,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>h)),f(t,["cachedContents"],c)}return t}function uE(n){const t={},i=u(n,["mediaResolution"]);i!=null&&f(t,["mediaResolution"],i);const a=u(n,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(n,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(n,["fileData"]);c!=null&&f(t,["fileData"],XS(c));const h=u(n,["functionCall"]);h!=null&&f(t,["functionCall"],QS(h));const g=u(n,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const x=u(n,["inlineData"]);x!=null&&f(t,["inlineData"],BS(x));const m=u(n,["text"]);m!=null&&f(t,["text"],m);const y=u(n,["thought"]);y!=null&&f(t,["thought"],y);const b=u(n,["thoughtSignature"]);b!=null&&f(t,["thoughtSignature"],b);const S=u(n,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function cE(n){const t={},i=u(n,["functionCallingConfig"]);i!=null&&f(t,["functionCallingConfig"],$S(i));const a=u(n,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],a),t}function dE(n){const t={},i=u(n,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(b=>b)),f(t,["functionDeclarations"],y)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(n,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(n,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(n,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const h=u(n,["codeExecution"]);if(h!=null&&f(t,["codeExecution"],h),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(n,["googleMaps"]);g!=null&&f(t,["googleMaps"],tE(g));const x=u(n,["googleSearch"]);x!=null&&f(t,["googleSearch"],nE(x));const m=u(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function fE(n){const t={},i=u(n,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(S=>WS(S))),f(t,["functionDeclarations"],b)}const a=u(n,["retrieval"]);a!=null&&f(t,["retrieval"],a);const r=u(n,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const c=u(n,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const h=u(n,["codeExecution"]);h!=null&&f(t,["codeExecution"],h);const g=u(n,["enterpriseWebSearch"]);g!=null&&f(t,["enterpriseWebSearch"],g);const x=u(n,["googleMaps"]);x!=null&&f(t,["googleMaps"],x);const m=u(n,["googleSearch"]);m!=null&&f(t,["googleSearch"],m);const y=u(n,["urlContext"]);return y!=null&&f(t,["urlContext"],y),t}function hE(n,t){const i={},a=u(n,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(n,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),i}function pE(n,t){const i={},a=u(n,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(n,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),i}function mE(n,t){const i={},a=u(t,["name"]);a!=null&&f(i,["_url","name"],An(n,a));const r=u(t,["config"]);return r!=null&&hE(r,i),i}function gE(n,t){const i={},a=u(t,["name"]);a!=null&&f(i,["_url","name"],An(n,a));const r=u(t,["config"]);return r!=null&&pE(r,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vE extends wn{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new _l(Cn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(i),i)}async create(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=OS(this.apiClient,t);return g=ne("cachedContents",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),h.then(y=>y)}else{const m=jS(this.apiClient,t);return g=ne("cachedContents",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),h.then(y=>y)}}async get(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=eE(this.apiClient,t);return g=ne("{name}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),h.then(y=>y)}else{const m=ZS(this.apiClient,t);return g=ne("{name}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),h.then(y=>y)}}async delete(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=JS(this.apiClient,t);return g=ne("{name}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=KS(y),S=new Wm;return Object.assign(S,b),S})}else{const m=FS(this.apiClient,t);return g=ne("{name}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=YS(y),S=new Wm;return Object.assign(S,b),S})}}async update(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=gE(this.apiClient,t);return g=ne("{name}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),h.then(y=>y)}else{const m=mE(this.apiClient,t);return g=ne("{name}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),h.then(y=>y)}}async listInternal(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=aE(t);return g=ne("cachedContents",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=rE(y),S=new Zm;return Object.assign(S,b),S})}else{const m=oE(t);return g=ne("cachedContents",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=sE(y),S=new Zm;return Object.assign(S,b),S})}}}function ss(n,t){var i={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(i[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(n);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(n,a[r])&&(i[a[r]]=n[a[r]]);return i}function a0(n){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&n[t],a=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function he(n){return this instanceof he?(this.v=n,this):new he(n)}function Xt(n,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(n,t||[]),r,c=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",h),r[Symbol.asyncIterator]=function(){return this},r;function h(C){return function(w){return Promise.resolve(w).then(C,b)}}function g(C,w){a[C]&&(r[C]=function(_){return new Promise(function(M,R){c.push([C,_,M,R])>1||x(C,_)})},w&&(r[C]=w(r[C])))}function x(C,w){try{m(a[C](w))}catch(_){S(c[0][3],_)}}function m(C){C.value instanceof he?Promise.resolve(C.value.v).then(y,b):S(c[0][2],C)}function y(C){x("next",C)}function b(C){x("throw",C)}function S(C,w){C(w),c.shift(),c.length&&x(c[0][0],c[0][1])}}function Qt(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],i;return t?t.call(n):(n=typeof a0=="function"?a0(n):n[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(c){i[c]=n[c]&&function(h){return new Promise(function(g,x){h=n[c](h),r(g,x,h.done,h.value)})}}function r(c,h,g,x){Promise.resolve(x).then(function(m){c({value:m,done:g})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xE(n){var t;if(n.candidates==null||n.candidates.length===0)return!1;const i=(t=n.candidates[0])===null||t===void 0?void 0:t.content;return i===void 0?!1:rg(i)}function rg(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const t of n.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function yE(n){if(n.length!==0){for(const t of n)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function s0(n){if(n===void 0||n.length===0)return[];const t=[],i=n.length;let a=0;for(;a<i;)if(n[a].role==="user")t.push(n[a]),a++;else{const r=[];let c=!0;for(;a<i&&n[a].role==="model";)r.push(n[a]),c&&!rg(n[a])&&(c=!1),a++;c?t.push(...r):t.pop()}return t}class bE{constructor(t,i){this.modelsModule=t,this.apiClient=i}create(t){return new TE(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class TE{constructor(t,i,a,r={},c=[]){this.apiClient=t,this.modelsModule=i,this.model=a,this.config=r,this.history=c,this.sendPromise=Promise.resolve(),yE(c)}async sendMessage(t){var i;await this.sendPromise;const a=ct(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(i=t.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var c,h,g;const x=await r,m=(h=(c=x.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content,y=x.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let S=[];y!=null&&(S=(g=y.slice(b))!==null&&g!==void 0?g:[]);const C=m?[m]:[];this.recordHistory(a,C,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var i;await this.sendPromise;const a=ct(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(i=t.config)!==null&&i!==void 0?i:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const c=await r;return this.processStreamResponse(c,a)}getHistory(t=!1){const i=t?s0(this.history):this.history;return structuredClone(i)}processStreamResponse(t,i){return Xt(this,arguments,function*(){var r,c,h,g,x,m;const y=[];try{for(var b=!0,S=Qt(t),C;C=yield he(S.next()),r=C.done,!r;b=!0){g=C.value,b=!1;const w=g;if(xE(w)){const _=(m=(x=w.candidates)===null||x===void 0?void 0:x[0])===null||m===void 0?void 0:m.content;_!==void 0&&y.push(_)}yield yield he(w)}}catch(w){c={error:w}}finally{try{!b&&!r&&(h=S.return)&&(yield he(h.call(S)))}finally{if(c)throw c.error}}this.recordHistory(i,y)})}recordHistory(t,i,a){let r=[];i.length>0&&i.every(c=>c.role!==void 0)?r=i:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...s0(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fs extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,fs.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SE(n){const t={},i=u(n,["file"]);return i!=null&&f(t,["file"],i),t}function EE(n){const t={},i=u(n,["sdkHttpResponse"]);return i!=null&&f(t,["sdkHttpResponse"],i),t}function NE(n){const t={},i=u(n,["name"]);return i!=null&&f(t,["_url","file"],tg(i)),t}function CE(n){const t={},i=u(n,["sdkHttpResponse"]);return i!=null&&f(t,["sdkHttpResponse"],i),t}function _E(n){const t={},i=u(n,["name"]);return i!=null&&f(t,["_url","file"],tg(i)),t}function wE(n,t){const i={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(n,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),i}function AE(n){const t={},i=u(n,["config"]);return i!=null&&wE(i,t),t}function RE(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(n,["files"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>h)),f(t,["files"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ME extends wn{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new _l(Cn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(i),i)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(i=>i)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var i,a;let r,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=AE(t);return c=ne("files",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:x.headers},y})),r.then(x=>{const m=RE(x),y=new UT;return Object.assign(y,m),y})}}async createInternal(t){var i,a;let r,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=SE(t);return c=ne("upload/v1beta/files",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(x=>{const m=EE(x),y=new LT;return Object.assign(y,m),y})}}async get(t){var i,a;let r,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=_E(t);return c=ne("files/{file}",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(x=>x)}}async delete(t){var i,a;let r,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=NE(t);return c=ne("files/{file}",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:x.headers},y})),r.then(x=>{const m=CE(x),y=new HT;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ns(n){const t={},i=u(n,["data"]);if(i!=null&&f(t,["data"],i),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function kE(n){const t={},i=u(n,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(c=>YE(c))),f(t,["parts"],r)}const a=u(n,["role"]);return a!=null&&f(t,["role"],a),t}function DE(n){const t={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(n,["fileUri"]);i!=null&&f(t,["fileUri"],i);const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function IE(n){const t={},i=u(n,["id"]);i!=null&&f(t,["id"],i);const a=u(n,["args"]);a!=null&&f(t,["args"],a);const r=u(n,["name"]);if(r!=null&&f(t,["name"],r),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function UE(n){const t={};if(u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=u(n,["description"]);i!=null&&f(t,["description"],i);const a=u(n,["name"]);a!=null&&f(t,["name"],a);const r=u(n,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(n,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const h=u(n,["response"]);h!=null&&f(t,["response"],h);const g=u(n,["responseJsonSchema"]);return g!=null&&f(t,["responseJsonSchema"],g),t}function LE(n){const t={},i=u(n,["modelSelectionConfig"]);i!=null&&f(t,["modelConfig"],i);const a=u(n,["responseJsonSchema"]);a!=null&&f(t,["responseJsonSchema"],a);const r=u(n,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const c=u(n,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const h=u(n,["enableAffectiveDialog"]);h!=null&&f(t,["enableAffectiveDialog"],h);const g=u(n,["frequencyPenalty"]);g!=null&&f(t,["frequencyPenalty"],g);const x=u(n,["logprobs"]);x!=null&&f(t,["logprobs"],x);const m=u(n,["maxOutputTokens"]);m!=null&&f(t,["maxOutputTokens"],m);const y=u(n,["mediaResolution"]);y!=null&&f(t,["mediaResolution"],y);const b=u(n,["presencePenalty"]);b!=null&&f(t,["presencePenalty"],b);const S=u(n,["responseLogprobs"]);S!=null&&f(t,["responseLogprobs"],S);const C=u(n,["responseMimeType"]);C!=null&&f(t,["responseMimeType"],C);const w=u(n,["responseModalities"]);w!=null&&f(t,["responseModalities"],w);const _=u(n,["responseSchema"]);_!=null&&f(t,["responseSchema"],_);const M=u(n,["routingConfig"]);M!=null&&f(t,["routingConfig"],M);const R=u(n,["seed"]);R!=null&&f(t,["seed"],R);const j=u(n,["speechConfig"]);j!=null&&f(t,["speechConfig"],j);const H=u(n,["stopSequences"]);H!=null&&f(t,["stopSequences"],H);const D=u(n,["temperature"]);D!=null&&f(t,["temperature"],D);const N=u(n,["thinkingConfig"]);N!=null&&f(t,["thinkingConfig"],N);const G=u(n,["topK"]);G!=null&&f(t,["topK"],G);const z=u(n,["topP"]);if(z!=null&&f(t,["topP"],z),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function HE(n){const t={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=u(n,["enableWidget"]);return i!=null&&f(t,["enableWidget"],i),t}function GE(n){const t={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=u(n,["timeRangeFilter"]);return i!=null&&f(t,["timeRangeFilter"],i),t}function PE(n,t){const i={},a=u(n,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(n,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(n,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const h=u(n,["topP"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topP"],h);const g=u(n,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const x=u(n,["maxOutputTokens"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","maxOutputTokens"],x);const m=u(n,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const y=u(n,["seed"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","seed"],y);const b=u(n,["speechConfig"]);t!==void 0&&b!=null&&f(t,["setup","generationConfig","speechConfig"],Nc(b));const S=u(n,["thinkingConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","thinkingConfig"],S);const C=u(n,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const w=u(n,["systemInstruction"]);t!==void 0&&w!=null&&f(t,["setup","systemInstruction"],kE(ct(w)));const _=u(n,["tools"]);if(t!==void 0&&_!=null){let G=yi(_);Array.isArray(G)&&(G=G.map(z=>XE(xi(z)))),f(t,["setup","tools"],G)}const M=u(n,["sessionResumption"]);t!==void 0&&M!=null&&f(t,["setup","sessionResumption"],KE(M));const R=u(n,["inputAudioTranscription"]);t!==void 0&&R!=null&&f(t,["setup","inputAudioTranscription"],R);const j=u(n,["outputAudioTranscription"]);t!==void 0&&j!=null&&f(t,["setup","outputAudioTranscription"],j);const H=u(n,["realtimeInputConfig"]);t!==void 0&&H!=null&&f(t,["setup","realtimeInputConfig"],H);const D=u(n,["contextWindowCompression"]);t!==void 0&&D!=null&&f(t,["setup","contextWindowCompression"],D);const N=u(n,["proactivity"]);if(t!==void 0&&N!=null&&f(t,["setup","proactivity"],N),u(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function VE(n,t){const i={},a=u(n,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],LE(a));const r=u(n,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(n,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const h=u(n,["topP"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topP"],h);const g=u(n,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const x=u(n,["maxOutputTokens"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","maxOutputTokens"],x);const m=u(n,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const y=u(n,["seed"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","seed"],y);const b=u(n,["speechConfig"]);t!==void 0&&b!=null&&f(t,["setup","generationConfig","speechConfig"],Nc(b));const S=u(n,["thinkingConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","thinkingConfig"],S);const C=u(n,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const w=u(n,["systemInstruction"]);t!==void 0&&w!=null&&f(t,["setup","systemInstruction"],ct(w));const _=u(n,["tools"]);if(t!==void 0&&_!=null){let z=yi(_);Array.isArray(z)&&(z=z.map(Q=>QE(xi(Q)))),f(t,["setup","tools"],z)}const M=u(n,["sessionResumption"]);t!==void 0&&M!=null&&f(t,["setup","sessionResumption"],M);const R=u(n,["inputAudioTranscription"]);t!==void 0&&R!=null&&f(t,["setup","inputAudioTranscription"],R);const j=u(n,["outputAudioTranscription"]);t!==void 0&&j!=null&&f(t,["setup","outputAudioTranscription"],j);const H=u(n,["realtimeInputConfig"]);t!==void 0&&H!=null&&f(t,["setup","realtimeInputConfig"],H);const D=u(n,["contextWindowCompression"]);t!==void 0&&D!=null&&f(t,["setup","contextWindowCompression"],D);const N=u(n,["proactivity"]);t!==void 0&&N!=null&&f(t,["setup","proactivity"],N);const G=u(n,["explicitVadSignal"]);return t!==void 0&&G!=null&&f(t,["setup","explicitVadSignal"],G),i}function BE(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["setup","model"],_e(n,a));const r=u(t,["config"]);return r!=null&&f(i,["config"],PE(r,i)),i}function zE(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["setup","model"],_e(n,a));const r=u(t,["config"]);return r!=null&&f(i,["config"],VE(r,i)),i}function qE(n){const t={},i=u(n,["musicGenerationConfig"]);return i!=null&&f(t,["musicGenerationConfig"],i),t}function jE(n){const t={},i=u(n,["weightedPrompts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["weightedPrompts"],a)}return t}function OE(n){const t={},i=u(n,["media"]);if(i!=null){let m=Q0(i);Array.isArray(m)&&(m=m.map(y=>ns(y))),f(t,["mediaChunks"],m)}const a=u(n,["audio"]);a!=null&&f(t,["audio"],ns(W0(a)));const r=u(n,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(n,["video"]);c!=null&&f(t,["video"],ns($0(c)));const h=u(n,["text"]);h!=null&&f(t,["text"],h);const g=u(n,["activityStart"]);g!=null&&f(t,["activityStart"],g);const x=u(n,["activityEnd"]);return x!=null&&f(t,["activityEnd"],x),t}function FE(n){const t={},i=u(n,["media"]);if(i!=null){let m=Q0(i);Array.isArray(m)&&(m=m.map(y=>y)),f(t,["mediaChunks"],m)}const a=u(n,["audio"]);a!=null&&f(t,["audio"],W0(a));const r=u(n,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(n,["video"]);c!=null&&f(t,["video"],$0(c));const h=u(n,["text"]);h!=null&&f(t,["text"],h);const g=u(n,["activityStart"]);g!=null&&f(t,["activityStart"],g);const x=u(n,["activityEnd"]);return x!=null&&f(t,["activityEnd"],x),t}function JE(n){const t={},i=u(n,["setupComplete"]);i!=null&&f(t,["setupComplete"],i);const a=u(n,["serverContent"]);a!=null&&f(t,["serverContent"],a);const r=u(n,["toolCall"]);r!=null&&f(t,["toolCall"],r);const c=u(n,["toolCallCancellation"]);c!=null&&f(t,["toolCallCancellation"],c);const h=u(n,["usageMetadata"]);h!=null&&f(t,["usageMetadata"],$E(h));const g=u(n,["goAway"]);g!=null&&f(t,["goAway"],g);const x=u(n,["sessionResumptionUpdate"]);x!=null&&f(t,["sessionResumptionUpdate"],x);const m=u(n,["voiceActivityDetectionSignal"]);return m!=null&&f(t,["voiceActivityDetectionSignal"],m),t}function YE(n){const t={},i=u(n,["mediaResolution"]);i!=null&&f(t,["mediaResolution"],i);const a=u(n,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(n,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(n,["fileData"]);c!=null&&f(t,["fileData"],DE(c));const h=u(n,["functionCall"]);h!=null&&f(t,["functionCall"],IE(h));const g=u(n,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const x=u(n,["inlineData"]);x!=null&&f(t,["inlineData"],ns(x));const m=u(n,["text"]);m!=null&&f(t,["text"],m);const y=u(n,["thought"]);y!=null&&f(t,["thought"],y);const b=u(n,["thoughtSignature"]);b!=null&&f(t,["thoughtSignature"],b);const S=u(n,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function KE(n){const t={},i=u(n,["handle"]);if(i!=null&&f(t,["handle"],i),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function XE(n){const t={},i=u(n,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(b=>b)),f(t,["functionDeclarations"],y)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(n,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(n,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(n,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const h=u(n,["codeExecution"]);if(h!=null&&f(t,["codeExecution"],h),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(n,["googleMaps"]);g!=null&&f(t,["googleMaps"],HE(g));const x=u(n,["googleSearch"]);x!=null&&f(t,["googleSearch"],GE(x));const m=u(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function QE(n){const t={},i=u(n,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(S=>UE(S))),f(t,["functionDeclarations"],b)}const a=u(n,["retrieval"]);a!=null&&f(t,["retrieval"],a);const r=u(n,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const c=u(n,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const h=u(n,["codeExecution"]);h!=null&&f(t,["codeExecution"],h);const g=u(n,["enterpriseWebSearch"]);g!=null&&f(t,["enterpriseWebSearch"],g);const x=u(n,["googleMaps"]);x!=null&&f(t,["googleMaps"],x);const m=u(n,["googleSearch"]);m!=null&&f(t,["googleSearch"],m);const y=u(n,["urlContext"]);return y!=null&&f(t,["urlContext"],y),t}function $E(n){const t={},i=u(n,["promptTokenCount"]);i!=null&&f(t,["promptTokenCount"],i);const a=u(n,["cachedContentTokenCount"]);a!=null&&f(t,["cachedContentTokenCount"],a);const r=u(n,["candidatesTokenCount"]);r!=null&&f(t,["responseTokenCount"],r);const c=u(n,["toolUsePromptTokenCount"]);c!=null&&f(t,["toolUsePromptTokenCount"],c);const h=u(n,["thoughtsTokenCount"]);h!=null&&f(t,["thoughtsTokenCount"],h);const g=u(n,["totalTokenCount"]);g!=null&&f(t,["totalTokenCount"],g);const x=u(n,["promptTokensDetails"]);if(x!=null){let C=x;Array.isArray(C)&&(C=C.map(w=>w)),f(t,["promptTokensDetails"],C)}const m=u(n,["cacheTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(w=>w)),f(t,["cacheTokensDetails"],C)}const y=u(n,["candidatesTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(w=>w)),f(t,["responseTokensDetails"],C)}const b=u(n,["toolUsePromptTokensDetails"]);if(b!=null){let C=b;Array.isArray(C)&&(C=C.map(w=>w)),f(t,["toolUsePromptTokensDetails"],C)}const S=u(n,["trafficType"]);return S!=null&&f(t,["trafficType"],S),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WE(n){const t={},i=u(n,["data"]);if(i!=null&&f(t,["data"],i),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function ZE(n){const t={},i=u(n,["content"]);i!=null&&f(t,["content"],i);const a=u(n,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],e1(a));const r=u(n,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const c=u(n,["finishReason"]);c!=null&&f(t,["finishReason"],c);const h=u(n,["avgLogprobs"]);h!=null&&f(t,["avgLogprobs"],h);const g=u(n,["groundingMetadata"]);g!=null&&f(t,["groundingMetadata"],g);const x=u(n,["index"]);x!=null&&f(t,["index"],x);const m=u(n,["logprobsResult"]);m!=null&&f(t,["logprobsResult"],m);const y=u(n,["safetyRatings"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(C=>C)),f(t,["safetyRatings"],S)}const b=u(n,["urlContextMetadata"]);return b!=null&&f(t,["urlContextMetadata"],b),t}function e1(n){const t={},i=u(n,["citationSources"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["citations"],a)}return t}function t1(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["_url","model"],_e(n,a));const r=u(t,["contents"]);if(r!=null){let c=jt(r);Array.isArray(c)&&(c=c.map(h=>h)),f(i,["contents"],c)}return i}function n1(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(t,["tokensInfo"],r)}return t}function l1(n){const t={},i=u(n,["values"]);i!=null&&f(t,["values"],i);const a=u(n,["statistics"]);return a!=null&&f(t,["statistics"],i1(a)),t}function i1(n){const t={},i=u(n,["truncated"]);i!=null&&f(t,["truncated"],i);const a=u(n,["token_count"]);return a!=null&&f(t,["tokenCount"],a),t}function hs(n){const t={},i=u(n,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(c=>hN(c))),f(t,["parts"],r)}const a=u(n,["role"]);return a!=null&&f(t,["role"],a),t}function o1(n){const t={},i=u(n,["controlType"]);i!=null&&f(t,["controlType"],i);const a=u(n,["enableControlImageComputation"]);return a!=null&&f(t,["computeControl"],a),t}function a1(n){const t={};if(u(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function s1(n,t){const i={},a=u(n,["systemInstruction"]);t!==void 0&&a!=null&&f(t,["systemInstruction"],ct(a));const r=u(n,["tools"]);if(t!==void 0&&r!=null){let h=r;Array.isArray(h)&&(h=h.map(g=>fg(g))),f(t,["tools"],h)}const c=u(n,["generationConfig"]);return t!==void 0&&c!=null&&f(t,["generationConfig"],W1(c)),i}function r1(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["_url","model"],_e(n,a));const r=u(t,["contents"]);if(r!=null){let h=jt(r);Array.isArray(h)&&(h=h.map(g=>hs(g))),f(i,["contents"],h)}const c=u(t,["config"]);return c!=null&&a1(c),i}function u1(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["_url","model"],_e(n,a));const r=u(t,["contents"]);if(r!=null){let h=jt(r);Array.isArray(h)&&(h=h.map(g=>g)),f(i,["contents"],h)}const c=u(t,["config"]);return c!=null&&s1(c,i),i}function c1(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["totalTokens"]);a!=null&&f(t,["totalTokens"],a);const r=u(n,["cachedContentTokenCount"]);return r!=null&&f(t,["cachedContentTokenCount"],r),t}function d1(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["totalTokens"]);return a!=null&&f(t,["totalTokens"],a),t}function f1(n,t){const i={},a=u(t,["model"]);return a!=null&&f(i,["_url","name"],_e(n,a)),i}function h1(n,t){const i={},a=u(t,["model"]);return a!=null&&f(i,["_url","name"],_e(n,a)),i}function p1(n){const t={},i=u(n,["sdkHttpResponse"]);return i!=null&&f(t,["sdkHttpResponse"],i),t}function m1(n){const t={},i=u(n,["sdkHttpResponse"]);return i!=null&&f(t,["sdkHttpResponse"],i),t}function g1(n,t){const i={},a=u(n,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const r=u(n,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const c=u(n,["numberOfImages"]);t!==void 0&&c!=null&&f(t,["parameters","sampleCount"],c);const h=u(n,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const g=u(n,["guidanceScale"]);t!==void 0&&g!=null&&f(t,["parameters","guidanceScale"],g);const x=u(n,["seed"]);t!==void 0&&x!=null&&f(t,["parameters","seed"],x);const m=u(n,["safetyFilterLevel"]);t!==void 0&&m!=null&&f(t,["parameters","safetySetting"],m);const y=u(n,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const b=u(n,["includeSafetyAttributes"]);t!==void 0&&b!=null&&f(t,["parameters","includeSafetyAttributes"],b);const S=u(n,["includeRaiReason"]);t!==void 0&&S!=null&&f(t,["parameters","includeRaiReason"],S);const C=u(n,["language"]);t!==void 0&&C!=null&&f(t,["parameters","language"],C);const w=u(n,["outputMimeType"]);t!==void 0&&w!=null&&f(t,["parameters","outputOptions","mimeType"],w);const _=u(n,["outputCompressionQuality"]);t!==void 0&&_!=null&&f(t,["parameters","outputOptions","compressionQuality"],_);const M=u(n,["addWatermark"]);t!==void 0&&M!=null&&f(t,["parameters","addWatermark"],M);const R=u(n,["labels"]);t!==void 0&&R!=null&&f(t,["labels"],R);const j=u(n,["editMode"]);t!==void 0&&j!=null&&f(t,["parameters","editMode"],j);const H=u(n,["baseSteps"]);return t!==void 0&&H!=null&&f(t,["parameters","editConfig","baseSteps"],H),i}function v1(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["_url","model"],_e(n,a));const r=u(t,["prompt"]);r!=null&&f(i,["instances[0]","prompt"],r);const c=u(t,["referenceImages"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(x=>yN(x))),f(i,["instances[0]","referenceImages"],g)}const h=u(t,["config"]);return h!=null&&g1(h,i),i}function x1(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>ps(c))),f(t,["generatedImages"],r)}return t}function y1(n,t){const i={},a=u(n,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const r=u(n,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const c=u(n,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function b1(n,t){const i={},a=u(n,["taskType"]);t!==void 0&&a!=null&&f(t,["instances[]","task_type"],a);const r=u(n,["title"]);t!==void 0&&r!=null&&f(t,["instances[]","title"],r);const c=u(n,["outputDimensionality"]);t!==void 0&&c!=null&&f(t,["parameters","outputDimensionality"],c);const h=u(n,["mimeType"]);t!==void 0&&h!=null&&f(t,["instances[]","mimeType"],h);const g=u(n,["autoTruncate"]);return t!==void 0&&g!=null&&f(t,["parameters","autoTruncate"],g),i}function T1(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["_url","model"],_e(n,a));const r=u(t,["contents"]);if(r!=null){let g=Tc(n,r);Array.isArray(g)&&(g=g.map(x=>x)),f(i,["requests[]","content"],g)}const c=u(t,["config"]);c!=null&&y1(c,i);const h=u(t,["model"]);return h!==void 0&&f(i,["requests[]","model"],_e(n,h)),i}function S1(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["_url","model"],_e(n,a));const r=u(t,["contents"]);if(r!=null){let h=Tc(n,r);Array.isArray(h)&&(h=h.map(g=>g)),f(i,["instances[]","content"],h)}const c=u(t,["config"]);return c!=null&&b1(c,i),i}function E1(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>h)),f(t,["embeddings"],c)}const r=u(n,["metadata"]);return r!=null&&f(t,["metadata"],r),t}function N1(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["predictions[]","embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>l1(h))),f(t,["embeddings"],c)}const r=u(n,["metadata"]);return r!=null&&f(t,["metadata"],r),t}function C1(n){const t={},i=u(n,["endpoint"]);i!=null&&f(t,["name"],i);const a=u(n,["deployedModelId"]);return a!=null&&f(t,["deployedModelId"],a),t}function _1(n){const t={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(n,["fileUri"]);i!=null&&f(t,["fileUri"],i);const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function w1(n){const t={},i=u(n,["id"]);i!=null&&f(t,["id"],i);const a=u(n,["args"]);a!=null&&f(t,["args"],a);const r=u(n,["name"]);if(r!=null&&f(t,["name"],r),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function A1(n){const t={},i=u(n,["mode"]);i!=null&&f(t,["mode"],i);const a=u(n,["allowedFunctionNames"]);if(a!=null&&f(t,["allowedFunctionNames"],a),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function R1(n){const t={};if(u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=u(n,["description"]);i!=null&&f(t,["description"],i);const a=u(n,["name"]);a!=null&&f(t,["name"],a);const r=u(n,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(n,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const h=u(n,["response"]);h!=null&&f(t,["response"],h);const g=u(n,["responseJsonSchema"]);return g!=null&&f(t,["responseJsonSchema"],g),t}function M1(n,t,i){const a={},r=u(t,["systemInstruction"]);i!==void 0&&r!=null&&f(i,["systemInstruction"],hs(ct(r)));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const h=u(t,["topP"]);h!=null&&f(a,["topP"],h);const g=u(t,["topK"]);g!=null&&f(a,["topK"],g);const x=u(t,["candidateCount"]);x!=null&&f(a,["candidateCount"],x);const m=u(t,["maxOutputTokens"]);m!=null&&f(a,["maxOutputTokens"],m);const y=u(t,["stopSequences"]);y!=null&&f(a,["stopSequences"],y);const b=u(t,["responseLogprobs"]);b!=null&&f(a,["responseLogprobs"],b);const S=u(t,["logprobs"]);S!=null&&f(a,["logprobs"],S);const C=u(t,["presencePenalty"]);C!=null&&f(a,["presencePenalty"],C);const w=u(t,["frequencyPenalty"]);w!=null&&f(a,["frequencyPenalty"],w);const _=u(t,["seed"]);_!=null&&f(a,["seed"],_);const M=u(t,["responseMimeType"]);M!=null&&f(a,["responseMimeType"],M);const R=u(t,["responseSchema"]);R!=null&&f(a,["responseSchema"],Sc(R));const j=u(t,["responseJsonSchema"]);if(j!=null&&f(a,["responseJsonSchema"],j),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=u(t,["safetySettings"]);if(i!==void 0&&H!=null){let ue=H;Array.isArray(ue)&&(ue=ue.map(Ae=>bN(Ae))),f(i,["safetySettings"],ue)}const D=u(t,["tools"]);if(i!==void 0&&D!=null){let ue=yi(D);Array.isArray(ue)&&(ue=ue.map(Ae=>wN(xi(Ae)))),f(i,["tools"],ue)}const N=u(t,["toolConfig"]);if(i!==void 0&&N!=null&&f(i,["toolConfig"],_N(N)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=u(t,["cachedContent"]);i!==void 0&&G!=null&&f(i,["cachedContent"],An(n,G));const z=u(t,["responseModalities"]);z!=null&&f(a,["responseModalities"],z);const Q=u(t,["mediaResolution"]);Q!=null&&f(a,["mediaResolution"],Q);const Y=u(t,["speechConfig"]);if(Y!=null&&f(a,["speechConfig"],Ec(Y)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=u(t,["thinkingConfig"]);le!=null&&f(a,["thinkingConfig"],le);const W=u(t,["imageConfig"]);W!=null&&f(a,["imageConfig"],lN(W));const ae=u(t,["enableEnhancedCivicAnswers"]);return ae!=null&&f(a,["enableEnhancedCivicAnswers"],ae),a}function k1(n,t,i){const a={},r=u(t,["systemInstruction"]);i!==void 0&&r!=null&&f(i,["systemInstruction"],ct(r));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const h=u(t,["topP"]);h!=null&&f(a,["topP"],h);const g=u(t,["topK"]);g!=null&&f(a,["topK"],g);const x=u(t,["candidateCount"]);x!=null&&f(a,["candidateCount"],x);const m=u(t,["maxOutputTokens"]);m!=null&&f(a,["maxOutputTokens"],m);const y=u(t,["stopSequences"]);y!=null&&f(a,["stopSequences"],y);const b=u(t,["responseLogprobs"]);b!=null&&f(a,["responseLogprobs"],b);const S=u(t,["logprobs"]);S!=null&&f(a,["logprobs"],S);const C=u(t,["presencePenalty"]);C!=null&&f(a,["presencePenalty"],C);const w=u(t,["frequencyPenalty"]);w!=null&&f(a,["frequencyPenalty"],w);const _=u(t,["seed"]);_!=null&&f(a,["seed"],_);const M=u(t,["responseMimeType"]);M!=null&&f(a,["responseMimeType"],M);const R=u(t,["responseSchema"]);R!=null&&f(a,["responseSchema"],Sc(R));const j=u(t,["responseJsonSchema"]);j!=null&&f(a,["responseJsonSchema"],j);const H=u(t,["routingConfig"]);H!=null&&f(a,["routingConfig"],H);const D=u(t,["modelSelectionConfig"]);D!=null&&f(a,["modelConfig"],D);const N=u(t,["safetySettings"]);if(i!==void 0&&N!=null){let q=N;Array.isArray(q)&&(q=q.map(Z=>Z)),f(i,["safetySettings"],q)}const G=u(t,["tools"]);if(i!==void 0&&G!=null){let q=yi(G);Array.isArray(q)&&(q=q.map(Z=>fg(xi(Z)))),f(i,["tools"],q)}const z=u(t,["toolConfig"]);i!==void 0&&z!=null&&f(i,["toolConfig"],z);const Q=u(t,["labels"]);i!==void 0&&Q!=null&&f(i,["labels"],Q);const Y=u(t,["cachedContent"]);i!==void 0&&Y!=null&&f(i,["cachedContent"],An(n,Y));const le=u(t,["responseModalities"]);le!=null&&f(a,["responseModalities"],le);const W=u(t,["mediaResolution"]);W!=null&&f(a,["mediaResolution"],W);const ae=u(t,["speechConfig"]);ae!=null&&f(a,["speechConfig"],Ec(ae));const ue=u(t,["audioTimestamp"]);ue!=null&&f(a,["audioTimestamp"],ue);const Ae=u(t,["thinkingConfig"]);Ae!=null&&f(a,["thinkingConfig"],Ae);const ee=u(t,["imageConfig"]);if(ee!=null&&f(a,["imageConfig"],iN(ee)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function r0(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["_url","model"],_e(n,a));const r=u(t,["contents"]);if(r!=null){let h=jt(r);Array.isArray(h)&&(h=h.map(g=>hs(g))),f(i,["contents"],h)}const c=u(t,["config"]);return c!=null&&f(i,["generationConfig"],M1(n,c,i)),i}function u0(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["_url","model"],_e(n,a));const r=u(t,["contents"]);if(r!=null){let h=jt(r);Array.isArray(h)&&(h=h.map(g=>g)),f(i,["contents"],h)}const c=u(t,["config"]);return c!=null&&f(i,["generationConfig"],k1(n,c,i)),i}function c0(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["candidates"]);if(a!=null){let x=a;Array.isArray(x)&&(x=x.map(m=>ZE(m))),f(t,["candidates"],x)}const r=u(n,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const c=u(n,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const h=u(n,["responseId"]);h!=null&&f(t,["responseId"],h);const g=u(n,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function d0(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["candidates"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(y=>y)),f(t,["candidates"],m)}const r=u(n,["createTime"]);r!=null&&f(t,["createTime"],r);const c=u(n,["modelVersion"]);c!=null&&f(t,["modelVersion"],c);const h=u(n,["promptFeedback"]);h!=null&&f(t,["promptFeedback"],h);const g=u(n,["responseId"]);g!=null&&f(t,["responseId"],g);const x=u(n,["usageMetadata"]);return x!=null&&f(t,["usageMetadata"],x),t}function D1(n,t){const i={};if(u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(n,["numberOfImages"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const r=u(n,["aspectRatio"]);t!==void 0&&r!=null&&f(t,["parameters","aspectRatio"],r);const c=u(n,["guidanceScale"]);if(t!==void 0&&c!=null&&f(t,["parameters","guidanceScale"],c),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=u(n,["safetyFilterLevel"]);t!==void 0&&h!=null&&f(t,["parameters","safetySetting"],h);const g=u(n,["personGeneration"]);t!==void 0&&g!=null&&f(t,["parameters","personGeneration"],g);const x=u(n,["includeSafetyAttributes"]);t!==void 0&&x!=null&&f(t,["parameters","includeSafetyAttributes"],x);const m=u(n,["includeRaiReason"]);t!==void 0&&m!=null&&f(t,["parameters","includeRaiReason"],m);const y=u(n,["language"]);t!==void 0&&y!=null&&f(t,["parameters","language"],y);const b=u(n,["outputMimeType"]);t!==void 0&&b!=null&&f(t,["parameters","outputOptions","mimeType"],b);const S=u(n,["outputCompressionQuality"]);if(t!==void 0&&S!=null&&f(t,["parameters","outputOptions","compressionQuality"],S),u(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(n,["imageSize"]);if(t!==void 0&&C!=null&&f(t,["parameters","sampleImageSize"],C),u(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function I1(n,t){const i={},a=u(n,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const r=u(n,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const c=u(n,["numberOfImages"]);t!==void 0&&c!=null&&f(t,["parameters","sampleCount"],c);const h=u(n,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const g=u(n,["guidanceScale"]);t!==void 0&&g!=null&&f(t,["parameters","guidanceScale"],g);const x=u(n,["seed"]);t!==void 0&&x!=null&&f(t,["parameters","seed"],x);const m=u(n,["safetyFilterLevel"]);t!==void 0&&m!=null&&f(t,["parameters","safetySetting"],m);const y=u(n,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const b=u(n,["includeSafetyAttributes"]);t!==void 0&&b!=null&&f(t,["parameters","includeSafetyAttributes"],b);const S=u(n,["includeRaiReason"]);t!==void 0&&S!=null&&f(t,["parameters","includeRaiReason"],S);const C=u(n,["language"]);t!==void 0&&C!=null&&f(t,["parameters","language"],C);const w=u(n,["outputMimeType"]);t!==void 0&&w!=null&&f(t,["parameters","outputOptions","mimeType"],w);const _=u(n,["outputCompressionQuality"]);t!==void 0&&_!=null&&f(t,["parameters","outputOptions","compressionQuality"],_);const M=u(n,["addWatermark"]);t!==void 0&&M!=null&&f(t,["parameters","addWatermark"],M);const R=u(n,["labels"]);t!==void 0&&R!=null&&f(t,["labels"],R);const j=u(n,["imageSize"]);t!==void 0&&j!=null&&f(t,["parameters","sampleImageSize"],j);const H=u(n,["enhancePrompt"]);return t!==void 0&&H!=null&&f(t,["parameters","enhancePrompt"],H),i}function U1(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["_url","model"],_e(n,a));const r=u(t,["prompt"]);r!=null&&f(i,["instances[0]","prompt"],r);const c=u(t,["config"]);return c!=null&&D1(c,i),i}function L1(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["_url","model"],_e(n,a));const r=u(t,["prompt"]);r!=null&&f(i,["instances[0]","prompt"],r);const c=u(t,["config"]);return c!=null&&I1(c,i),i}function H1(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>K1(h))),f(t,["generatedImages"],c)}const r=u(n,["positivePromptSafetyAttributes"]);return r!=null&&f(t,["positivePromptSafetyAttributes"],cg(r)),t}function G1(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>ps(h))),f(t,["generatedImages"],c)}const r=u(n,["positivePromptSafetyAttributes"]);return r!=null&&f(t,["positivePromptSafetyAttributes"],dg(r)),t}function P1(n,t){const i={},a=u(n,["numberOfVideos"]);if(t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a),u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(n,["durationSeconds"]);if(t!==void 0&&r!=null&&f(t,["parameters","durationSeconds"],r),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(n,["aspectRatio"]);t!==void 0&&c!=null&&f(t,["parameters","aspectRatio"],c);const h=u(n,["resolution"]);t!==void 0&&h!=null&&f(t,["parameters","resolution"],h);const g=u(n,["personGeneration"]);if(t!==void 0&&g!=null&&f(t,["parameters","personGeneration"],g),u(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const x=u(n,["negativePrompt"]);t!==void 0&&x!=null&&f(t,["parameters","negativePrompt"],x);const m=u(n,["enhancePrompt"]);if(t!==void 0&&m!=null&&f(t,["parameters","enhancePrompt"],m),u(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=u(n,["lastFrame"]);t!==void 0&&y!=null&&f(t,["instances[0]","lastFrame"],ms(y));const b=u(n,["referenceImages"]);if(t!==void 0&&b!=null){let S=b;Array.isArray(S)&&(S=S.map(C=>BN(C))),f(t,["instances[0]","referenceImages"],S)}if(u(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function V1(n,t){const i={},a=u(n,["numberOfVideos"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const r=u(n,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(n,["fps"]);t!==void 0&&c!=null&&f(t,["parameters","fps"],c);const h=u(n,["durationSeconds"]);t!==void 0&&h!=null&&f(t,["parameters","durationSeconds"],h);const g=u(n,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const x=u(n,["aspectRatio"]);t!==void 0&&x!=null&&f(t,["parameters","aspectRatio"],x);const m=u(n,["resolution"]);t!==void 0&&m!=null&&f(t,["parameters","resolution"],m);const y=u(n,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const b=u(n,["pubsubTopic"]);t!==void 0&&b!=null&&f(t,["parameters","pubsubTopic"],b);const S=u(n,["negativePrompt"]);t!==void 0&&S!=null&&f(t,["parameters","negativePrompt"],S);const C=u(n,["enhancePrompt"]);t!==void 0&&C!=null&&f(t,["parameters","enhancePrompt"],C);const w=u(n,["generateAudio"]);t!==void 0&&w!=null&&f(t,["parameters","generateAudio"],w);const _=u(n,["lastFrame"]);t!==void 0&&_!=null&&f(t,["instances[0]","lastFrame"],Wt(_));const M=u(n,["referenceImages"]);if(t!==void 0&&M!=null){let H=M;Array.isArray(H)&&(H=H.map(D=>zN(D))),f(t,["instances[0]","referenceImages"],H)}const R=u(n,["mask"]);t!==void 0&&R!=null&&f(t,["instances[0]","mask"],VN(R));const j=u(n,["compressionQuality"]);return t!==void 0&&j!=null&&f(t,["parameters","compressionQuality"],j),i}function B1(n){const t={},i=u(n,["name"]);i!=null&&f(t,["name"],i);const a=u(n,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(n,["done"]);r!=null&&f(t,["done"],r);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const h=u(n,["response","generateVideoResponse"]);return h!=null&&f(t,["response"],O1(h)),t}function z1(n){const t={},i=u(n,["name"]);i!=null&&f(t,["name"],i);const a=u(n,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(n,["done"]);r!=null&&f(t,["done"],r);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const h=u(n,["response"]);return h!=null&&f(t,["response"],F1(h)),t}function q1(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["_url","model"],_e(n,a));const r=u(t,["prompt"]);r!=null&&f(i,["instances[0]","prompt"],r);const c=u(t,["image"]);c!=null&&f(i,["instances[0]","image"],ms(c));const h=u(t,["video"]);h!=null&&f(i,["instances[0]","video"],hg(h));const g=u(t,["source"]);g!=null&&J1(g,i);const x=u(t,["config"]);return x!=null&&P1(x,i),i}function j1(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["_url","model"],_e(n,a));const r=u(t,["prompt"]);r!=null&&f(i,["instances[0]","prompt"],r);const c=u(t,["image"]);c!=null&&f(i,["instances[0]","image"],Wt(c));const h=u(t,["video"]);h!=null&&f(i,["instances[0]","video"],pg(h));const g=u(t,["source"]);g!=null&&Y1(g,i);const x=u(t,["config"]);return x!=null&&V1(x,i),i}function O1(n){const t={},i=u(n,["generatedSamples"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(h=>Q1(h))),f(t,["generatedVideos"],c)}const a=u(n,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(n,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function F1(n){const t={},i=u(n,["videos"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(h=>$1(h))),f(t,["generatedVideos"],c)}const a=u(n,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(n,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function J1(n,t){const i={},a=u(n,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(n,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],ms(r));const c=u(n,["video"]);return t!==void 0&&c!=null&&f(t,["instances[0]","video"],hg(c)),i}function Y1(n,t){const i={},a=u(n,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(n,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],Wt(r));const c=u(n,["video"]);return t!==void 0&&c!=null&&f(t,["instances[0]","video"],pg(c)),i}function K1(n){const t={},i=u(n,["_self"]);i!=null&&f(t,["image"],oN(i));const a=u(n,["raiFilteredReason"]);a!=null&&f(t,["raiFilteredReason"],a);const r=u(n,["_self"]);return r!=null&&f(t,["safetyAttributes"],cg(r)),t}function ps(n){const t={},i=u(n,["_self"]);i!=null&&f(t,["image"],ug(i));const a=u(n,["raiFilteredReason"]);a!=null&&f(t,["raiFilteredReason"],a);const r=u(n,["_self"]);r!=null&&f(t,["safetyAttributes"],dg(r));const c=u(n,["prompt"]);return c!=null&&f(t,["enhancedPrompt"],c),t}function X1(n){const t={},i=u(n,["_self"]);i!=null&&f(t,["mask"],ug(i));const a=u(n,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(t,["labels"],r)}return t}function Q1(n){const t={},i=u(n,["video"]);return i!=null&&f(t,["video"],GN(i)),t}function $1(n){const t={},i=u(n,["_self"]);return i!=null&&f(t,["video"],PN(i)),t}function W1(n){const t={},i=u(n,["modelSelectionConfig"]);i!=null&&f(t,["modelConfig"],i);const a=u(n,["responseJsonSchema"]);a!=null&&f(t,["responseJsonSchema"],a);const r=u(n,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const c=u(n,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const h=u(n,["enableAffectiveDialog"]);h!=null&&f(t,["enableAffectiveDialog"],h);const g=u(n,["frequencyPenalty"]);g!=null&&f(t,["frequencyPenalty"],g);const x=u(n,["logprobs"]);x!=null&&f(t,["logprobs"],x);const m=u(n,["maxOutputTokens"]);m!=null&&f(t,["maxOutputTokens"],m);const y=u(n,["mediaResolution"]);y!=null&&f(t,["mediaResolution"],y);const b=u(n,["presencePenalty"]);b!=null&&f(t,["presencePenalty"],b);const S=u(n,["responseLogprobs"]);S!=null&&f(t,["responseLogprobs"],S);const C=u(n,["responseMimeType"]);C!=null&&f(t,["responseMimeType"],C);const w=u(n,["responseModalities"]);w!=null&&f(t,["responseModalities"],w);const _=u(n,["responseSchema"]);_!=null&&f(t,["responseSchema"],_);const M=u(n,["routingConfig"]);M!=null&&f(t,["routingConfig"],M);const R=u(n,["seed"]);R!=null&&f(t,["seed"],R);const j=u(n,["speechConfig"]);j!=null&&f(t,["speechConfig"],j);const H=u(n,["stopSequences"]);H!=null&&f(t,["stopSequences"],H);const D=u(n,["temperature"]);D!=null&&f(t,["temperature"],D);const N=u(n,["thinkingConfig"]);N!=null&&f(t,["thinkingConfig"],N);const G=u(n,["topK"]);G!=null&&f(t,["topK"],G);const z=u(n,["topP"]);if(z!=null&&f(t,["topP"],z),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Z1(n,t){const i={},a=u(t,["model"]);return a!=null&&f(i,["_url","name"],_e(n,a)),i}function eN(n,t){const i={},a=u(t,["model"]);return a!=null&&f(i,["_url","name"],_e(n,a)),i}function tN(n){const t={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=u(n,["enableWidget"]);return i!=null&&f(t,["enableWidget"],i),t}function nN(n){const t={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=u(n,["timeRangeFilter"]);return i!=null&&f(t,["timeRangeFilter"],i),t}function lN(n){const t={},i=u(n,["aspectRatio"]);i!=null&&f(t,["aspectRatio"],i);const a=u(n,["imageSize"]);if(a!=null&&f(t,["imageSize"],a),u(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function iN(n){const t={},i=u(n,["aspectRatio"]);i!=null&&f(t,["aspectRatio"],i);const a=u(n,["imageSize"]);a!=null&&f(t,["imageSize"],a);const r=u(n,["outputMimeType"]);r!=null&&f(t,["imageOutputOptions","mimeType"],r);const c=u(n,["outputCompressionQuality"]);return c!=null&&f(t,["imageOutputOptions","compressionQuality"],c),t}function oN(n){const t={},i=u(n,["bytesBase64Encoded"]);i!=null&&f(t,["imageBytes"],tl(i));const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function ug(n){const t={},i=u(n,["gcsUri"]);i!=null&&f(t,["gcsUri"],i);const a=u(n,["bytesBase64Encoded"]);a!=null&&f(t,["imageBytes"],tl(a));const r=u(n,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function ms(n){const t={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=u(n,["imageBytes"]);i!=null&&f(t,["bytesBase64Encoded"],tl(i));const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Wt(n){const t={},i=u(n,["gcsUri"]);i!=null&&f(t,["gcsUri"],i);const a=u(n,["imageBytes"]);a!=null&&f(t,["bytesBase64Encoded"],tl(a));const r=u(n,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function aN(n,t,i){const a={},r=u(t,["pageSize"]);i!==void 0&&r!=null&&f(i,["_query","pageSize"],r);const c=u(t,["pageToken"]);i!==void 0&&c!=null&&f(i,["_query","pageToken"],c);const h=u(t,["filter"]);i!==void 0&&h!=null&&f(i,["_query","filter"],h);const g=u(t,["queryBase"]);return i!==void 0&&g!=null&&f(i,["_url","models_url"],ng(n,g)),a}function sN(n,t,i){const a={},r=u(t,["pageSize"]);i!==void 0&&r!=null&&f(i,["_query","pageSize"],r);const c=u(t,["pageToken"]);i!==void 0&&c!=null&&f(i,["_query","pageToken"],c);const h=u(t,["filter"]);i!==void 0&&h!=null&&f(i,["_query","filter"],h);const g=u(t,["queryBase"]);return i!==void 0&&g!=null&&f(i,["_url","models_url"],ng(n,g)),a}function rN(n,t){const i={},a=u(t,["config"]);return a!=null&&aN(n,a,i),i}function uN(n,t){const i={},a=u(t,["config"]);return a!=null&&sN(n,a,i),i}function cN(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(n,["_self"]);if(r!=null){let c=lg(r);Array.isArray(c)&&(c=c.map(h=>tc(h))),f(t,["models"],c)}return t}function dN(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(n,["_self"]);if(r!=null){let c=lg(r);Array.isArray(c)&&(c=c.map(h=>nc(h))),f(t,["models"],c)}return t}function fN(n){const t={},i=u(n,["maskMode"]);i!=null&&f(t,["maskMode"],i);const a=u(n,["segmentationClasses"]);a!=null&&f(t,["maskClasses"],a);const r=u(n,["maskDilation"]);return r!=null&&f(t,["dilation"],r),t}function tc(n){const t={},i=u(n,["name"]);i!=null&&f(t,["name"],i);const a=u(n,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(n,["description"]);r!=null&&f(t,["description"],r);const c=u(n,["version"]);c!=null&&f(t,["version"],c);const h=u(n,["_self"]);h!=null&&f(t,["tunedModelInfo"],AN(h));const g=u(n,["inputTokenLimit"]);g!=null&&f(t,["inputTokenLimit"],g);const x=u(n,["outputTokenLimit"]);x!=null&&f(t,["outputTokenLimit"],x);const m=u(n,["supportedGenerationMethods"]);m!=null&&f(t,["supportedActions"],m);const y=u(n,["temperature"]);y!=null&&f(t,["temperature"],y);const b=u(n,["maxTemperature"]);b!=null&&f(t,["maxTemperature"],b);const S=u(n,["topP"]);S!=null&&f(t,["topP"],S);const C=u(n,["topK"]);C!=null&&f(t,["topK"],C);const w=u(n,["thinking"]);return w!=null&&f(t,["thinking"],w),t}function nc(n){const t={},i=u(n,["name"]);i!=null&&f(t,["name"],i);const a=u(n,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(n,["description"]);r!=null&&f(t,["description"],r);const c=u(n,["versionId"]);c!=null&&f(t,["version"],c);const h=u(n,["deployedModels"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(S=>C1(S))),f(t,["endpoints"],b)}const g=u(n,["labels"]);g!=null&&f(t,["labels"],g);const x=u(n,["_self"]);x!=null&&f(t,["tunedModelInfo"],RN(x));const m=u(n,["defaultCheckpointId"]);m!=null&&f(t,["defaultCheckpointId"],m);const y=u(n,["checkpoints"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(S=>S)),f(t,["checkpoints"],b)}return t}function hN(n){const t={},i=u(n,["mediaResolution"]);i!=null&&f(t,["mediaResolution"],i);const a=u(n,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(n,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(n,["fileData"]);c!=null&&f(t,["fileData"],_1(c));const h=u(n,["functionCall"]);h!=null&&f(t,["functionCall"],w1(h));const g=u(n,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const x=u(n,["inlineData"]);x!=null&&f(t,["inlineData"],WE(x));const m=u(n,["text"]);m!=null&&f(t,["text"],m);const y=u(n,["thought"]);y!=null&&f(t,["thought"],y);const b=u(n,["thoughtSignature"]);b!=null&&f(t,["thoughtSignature"],b);const S=u(n,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function pN(n){const t={},i=u(n,["productImage"]);return i!=null&&f(t,["image"],Wt(i)),t}function mN(n,t){const i={},a=u(n,["numberOfImages"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const r=u(n,["baseSteps"]);t!==void 0&&r!=null&&f(t,["parameters","baseSteps"],r);const c=u(n,["outputGcsUri"]);t!==void 0&&c!=null&&f(t,["parameters","storageUri"],c);const h=u(n,["seed"]);t!==void 0&&h!=null&&f(t,["parameters","seed"],h);const g=u(n,["safetyFilterLevel"]);t!==void 0&&g!=null&&f(t,["parameters","safetySetting"],g);const x=u(n,["personGeneration"]);t!==void 0&&x!=null&&f(t,["parameters","personGeneration"],x);const m=u(n,["addWatermark"]);t!==void 0&&m!=null&&f(t,["parameters","addWatermark"],m);const y=u(n,["outputMimeType"]);t!==void 0&&y!=null&&f(t,["parameters","outputOptions","mimeType"],y);const b=u(n,["outputCompressionQuality"]);t!==void 0&&b!=null&&f(t,["parameters","outputOptions","compressionQuality"],b);const S=u(n,["enhancePrompt"]);t!==void 0&&S!=null&&f(t,["parameters","enhancePrompt"],S);const C=u(n,["labels"]);return t!==void 0&&C!=null&&f(t,["labels"],C),i}function gN(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["_url","model"],_e(n,a));const r=u(t,["source"]);r!=null&&xN(r,i);const c=u(t,["config"]);return c!=null&&mN(c,i),i}function vN(n){const t={},i=u(n,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>ps(r))),f(t,["generatedImages"],a)}return t}function xN(n,t){const i={},a=u(n,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(n,["personImage"]);t!==void 0&&r!=null&&f(t,["instances[0]","personImage","image"],Wt(r));const c=u(n,["productImages"]);if(t!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>pN(g))),f(t,["instances[0]","productImages"],h)}return i}function yN(n){const t={},i=u(n,["referenceImage"]);i!=null&&f(t,["referenceImage"],Wt(i));const a=u(n,["referenceId"]);a!=null&&f(t,["referenceId"],a);const r=u(n,["referenceType"]);r!=null&&f(t,["referenceType"],r);const c=u(n,["maskImageConfig"]);c!=null&&f(t,["maskImageConfig"],fN(c));const h=u(n,["controlImageConfig"]);h!=null&&f(t,["controlImageConfig"],o1(h));const g=u(n,["styleImageConfig"]);g!=null&&f(t,["styleImageConfig"],g);const x=u(n,["subjectImageConfig"]);return x!=null&&f(t,["subjectImageConfig"],x),t}function cg(n){const t={},i=u(n,["safetyAttributes","categories"]);i!=null&&f(t,["categories"],i);const a=u(n,["safetyAttributes","scores"]);a!=null&&f(t,["scores"],a);const r=u(n,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function dg(n){const t={},i=u(n,["safetyAttributes","categories"]);i!=null&&f(t,["categories"],i);const a=u(n,["safetyAttributes","scores"]);a!=null&&f(t,["scores"],a);const r=u(n,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function bN(n){const t={},i=u(n,["category"]);if(i!=null&&f(t,["category"],i),u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(n,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function TN(n){const t={},i=u(n,["image"]);return i!=null&&f(t,["image"],Wt(i)),t}function SN(n,t){const i={},a=u(n,["mode"]);t!==void 0&&a!=null&&f(t,["parameters","mode"],a);const r=u(n,["maxPredictions"]);t!==void 0&&r!=null&&f(t,["parameters","maxPredictions"],r);const c=u(n,["confidenceThreshold"]);t!==void 0&&c!=null&&f(t,["parameters","confidenceThreshold"],c);const h=u(n,["maskDilation"]);t!==void 0&&h!=null&&f(t,["parameters","maskDilation"],h);const g=u(n,["binaryColorThreshold"]);t!==void 0&&g!=null&&f(t,["parameters","binaryColorThreshold"],g);const x=u(n,["labels"]);return t!==void 0&&x!=null&&f(t,["labels"],x),i}function EN(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["_url","model"],_e(n,a));const r=u(t,["source"]);r!=null&&CN(r,i);const c=u(t,["config"]);return c!=null&&SN(c,i),i}function NN(n){const t={},i=u(n,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>X1(r))),f(t,["generatedMasks"],a)}return t}function CN(n,t){const i={},a=u(n,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(n,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],Wt(r));const c=u(n,["scribbleImage"]);return t!==void 0&&c!=null&&f(t,["instances[0]","scribble"],TN(c)),i}function _N(n){const t={},i=u(n,["functionCallingConfig"]);i!=null&&f(t,["functionCallingConfig"],A1(i));const a=u(n,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],a),t}function wN(n){const t={},i=u(n,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(b=>b)),f(t,["functionDeclarations"],y)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(n,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(n,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(n,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const h=u(n,["codeExecution"]);if(h!=null&&f(t,["codeExecution"],h),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(n,["googleMaps"]);g!=null&&f(t,["googleMaps"],tN(g));const x=u(n,["googleSearch"]);x!=null&&f(t,["googleSearch"],nN(x));const m=u(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function fg(n){const t={},i=u(n,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(S=>R1(S))),f(t,["functionDeclarations"],b)}const a=u(n,["retrieval"]);a!=null&&f(t,["retrieval"],a);const r=u(n,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const c=u(n,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const h=u(n,["codeExecution"]);h!=null&&f(t,["codeExecution"],h);const g=u(n,["enterpriseWebSearch"]);g!=null&&f(t,["enterpriseWebSearch"],g);const x=u(n,["googleMaps"]);x!=null&&f(t,["googleMaps"],x);const m=u(n,["googleSearch"]);m!=null&&f(t,["googleSearch"],m);const y=u(n,["urlContext"]);return y!=null&&f(t,["urlContext"],y),t}function AN(n){const t={},i=u(n,["baseModel"]);i!=null&&f(t,["baseModel"],i);const a=u(n,["createTime"]);a!=null&&f(t,["createTime"],a);const r=u(n,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function RN(n){const t={},i=u(n,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&f(t,["baseModel"],i);const a=u(n,["createTime"]);a!=null&&f(t,["createTime"],a);const r=u(n,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function MN(n,t){const i={},a=u(n,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(n,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const c=u(n,["defaultCheckpointId"]);return t!==void 0&&c!=null&&f(t,["defaultCheckpointId"],c),i}function kN(n,t){const i={},a=u(n,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(n,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const c=u(n,["defaultCheckpointId"]);return t!==void 0&&c!=null&&f(t,["defaultCheckpointId"],c),i}function DN(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["_url","name"],_e(n,a));const r=u(t,["config"]);return r!=null&&MN(r,i),i}function IN(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["_url","model"],_e(n,a));const r=u(t,["config"]);return r!=null&&kN(r,i),i}function UN(n,t){const i={},a=u(n,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const r=u(n,["safetyFilterLevel"]);t!==void 0&&r!=null&&f(t,["parameters","safetySetting"],r);const c=u(n,["personGeneration"]);t!==void 0&&c!=null&&f(t,["parameters","personGeneration"],c);const h=u(n,["includeRaiReason"]);t!==void 0&&h!=null&&f(t,["parameters","includeRaiReason"],h);const g=u(n,["outputMimeType"]);t!==void 0&&g!=null&&f(t,["parameters","outputOptions","mimeType"],g);const x=u(n,["outputCompressionQuality"]);t!==void 0&&x!=null&&f(t,["parameters","outputOptions","compressionQuality"],x);const m=u(n,["enhanceInputImage"]);t!==void 0&&m!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],m);const y=u(n,["imagePreservationFactor"]);t!==void 0&&y!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],y);const b=u(n,["labels"]);t!==void 0&&b!=null&&f(t,["labels"],b);const S=u(n,["numberOfImages"]);t!==void 0&&S!=null&&f(t,["parameters","sampleCount"],S);const C=u(n,["mode"]);return t!==void 0&&C!=null&&f(t,["parameters","mode"],C),i}function LN(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["_url","model"],_e(n,a));const r=u(t,["image"]);r!=null&&f(i,["instances[0]","image"],Wt(r));const c=u(t,["upscaleFactor"]);c!=null&&f(i,["parameters","upscaleConfig","upscaleFactor"],c);const h=u(t,["config"]);return h!=null&&UN(h,i),i}function HN(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>ps(c))),f(t,["generatedImages"],r)}return t}function GN(n){const t={},i=u(n,["uri"]);i!=null&&f(t,["uri"],i);const a=u(n,["encodedVideo"]);a!=null&&f(t,["videoBytes"],tl(a));const r=u(n,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function PN(n){const t={},i=u(n,["gcsUri"]);i!=null&&f(t,["uri"],i);const a=u(n,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],tl(a));const r=u(n,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function VN(n){const t={},i=u(n,["image"]);i!=null&&f(t,["_self"],Wt(i));const a=u(n,["maskMode"]);return a!=null&&f(t,["maskMode"],a),t}function BN(n){const t={},i=u(n,["image"]);i!=null&&f(t,["image"],ms(i));const a=u(n,["referenceType"]);return a!=null&&f(t,["referenceType"],a),t}function zN(n){const t={},i=u(n,["image"]);i!=null&&f(t,["image"],Wt(i));const a=u(n,["referenceType"]);return a!=null&&f(t,["referenceType"],a),t}function hg(n){const t={},i=u(n,["uri"]);i!=null&&f(t,["uri"],i);const a=u(n,["videoBytes"]);a!=null&&f(t,["encodedVideo"],tl(a));const r=u(n,["mimeType"]);return r!=null&&f(t,["encoding"],r),t}function pg(n){const t={},i=u(n,["uri"]);i!=null&&f(t,["gcsUri"],i);const a=u(n,["videoBytes"]);a!=null&&f(t,["bytesBase64Encoded"],tl(a));const r=u(n,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qN(n,t){const i={},a=u(n,["displayName"]);return t!==void 0&&a!=null&&f(t,["displayName"],a),i}function jN(n){const t={},i=u(n,["config"]);return i!=null&&qN(i,t),t}function ON(n,t){const i={},a=u(n,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),i}function FN(n){const t={},i=u(n,["name"]);i!=null&&f(t,["_url","name"],i);const a=u(n,["config"]);return a!=null&&ON(a,t),t}function JN(n){const t={},i=u(n,["name"]);return i!=null&&f(t,["_url","name"],i),t}function YN(n,t){const i={},a=u(n,["customMetadata"]);if(t!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>h)),f(t,["customMetadata"],c)}const r=u(n,["chunkingConfig"]);return t!==void 0&&r!=null&&f(t,["chunkingConfig"],r),i}function KN(n){const t={},i=u(n,["name"]);i!=null&&f(t,["name"],i);const a=u(n,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(n,["done"]);r!=null&&f(t,["done"],r);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const h=u(n,["response"]);return h!=null&&f(t,["response"],QN(h)),t}function XN(n){const t={},i=u(n,["fileSearchStoreName"]);i!=null&&f(t,["_url","file_search_store_name"],i);const a=u(n,["fileName"]);a!=null&&f(t,["fileName"],a);const r=u(n,["config"]);return r!=null&&YN(r,t),t}function QN(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["parent"]);a!=null&&f(t,["parent"],a);const r=u(n,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function $N(n,t){const i={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(n,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),i}function WN(n){const t={},i=u(n,["config"]);return i!=null&&$N(i,t),t}function ZN(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(n,["fileSearchStores"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>h)),f(t,["fileSearchStores"],c)}return t}function mg(n,t){const i={},a=u(n,["mimeType"]);t!==void 0&&a!=null&&f(t,["mimeType"],a);const r=u(n,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(n,["customMetadata"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(x=>x)),f(t,["customMetadata"],g)}const h=u(n,["chunkingConfig"]);return t!==void 0&&h!=null&&f(t,["chunkingConfig"],h),i}function e2(n){const t={},i=u(n,["fileSearchStoreName"]);i!=null&&f(t,["_url","file_search_store_name"],i);const a=u(n,["config"]);return a!=null&&mg(a,t),t}function t2(n){const t={},i=u(n,["sdkHttpResponse"]);return i!=null&&f(t,["sdkHttpResponse"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n2="Content-Type",l2="X-Server-Timeout",i2="User-Agent",lc="x-goog-api-client",o2="1.34.0",a2=`google-genai-sdk/${o2}`,s2="v1beta1",r2="v1beta";class u2{constructor(t){var i,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:s2,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:r2,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),i=new URL(t);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,i,a){const r=[this.getRequestUrlInternal(i)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let i=this.clientOptions.httpOptions;t.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,i,a);if(t.queryParams)for(const[h,g]of Object.entries(t.queryParams))r.searchParams.append(h,String(g));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,i,r.toString(),t.abortSignal),this.unaryApiCall(r,c,t.httpMethod)}patchHttpOptions(t,i){const a=JSON.parse(JSON.stringify(t));for(const[r,c]of Object.entries(i))typeof c=="object"?a[r]=Object.assign(Object.assign({},a[r]),c):c!==void 0&&(a[r]=c);return a}async requestStream(t){let i=this.clientOptions.httpOptions;t.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,i,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,i,r.toString(),t.abortSignal),this.streamApiCall(r,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,i,a,r){if(i&&i.timeout||r){const c=new AbortController,h=c.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const g=setTimeout(()=>c.abort(),i.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{c.abort()}),t.signal=h}return i&&i.extraBody!==null&&c2(t,i.extraBody),t.headers=await this.getHeadersInternal(i,a),t}async unaryApiCall(t,i,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},i),{method:a})).then(async r=>(await f0(r),new Wu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,i,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},i),{method:a})).then(async r=>(await f0(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Xt(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),c=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let h="";const g="data:",x=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:y}=yield he(r.read());if(m){if(h.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const b=c.decode(y,{stream:!0});try{const w=JSON.parse(b);if("error"in w){const _=JSON.parse(JSON.stringify(w.error)),M=_.status,R=_.code,j=`got status: ${M}. ${JSON.stringify(w)}`;if(R>=400&&R<600)throw new fs({message:j,status:R})}}catch(w){if(w.name==="ApiError")throw w}h+=b;let S=-1,C=0;for(;;){S=-1,C=0;for(const M of x){const R=h.indexOf(M);R!==-1&&(S===-1||R<S)&&(S=R,C=M.length)}if(S===-1)break;const w=h.substring(0,S);h=h.substring(S+C);const _=w.trim();if(_.startsWith(g)){const M=_.substring(g.length).trim();try{const R=new Response(M,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield he(new Wu(R))}catch(R){throw new Error(`exception parsing stream chunk ${M}. ${R}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,i){return fetch(t,i).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},i=a2+" "+this.clientOptions.userAgentExtra;return t[i2]=i,t[lc]=i,t[n2]="application/json",t}async getHeadersInternal(t,i){const a=new Headers;if(t&&t.headers){for(const[r,c]of Object.entries(t.headers))a.append(r,c);t.timeout&&t.timeout>0&&a.append(l2,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,i),a}getFileName(t){var i;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(i=a.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),a}async uploadFile(t,i){var a;const r={};i!=null&&(r.mimeType=i.mimeType,r.name=i.name,r.displayName=i.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const c=this.clientOptions.uploader,h=await c.stat(t);r.sizeBytes=String(h.size);const g=(a=i==null?void 0:i.mimeType)!==null&&a!==void 0?a:h.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const x={file:r},m=this.getFileName(t),y=ne("upload/v1beta/files",x._url),b=await this.fetchUploadUrl(y,r.sizeBytes,r.mimeType,m,x,i==null?void 0:i.httpOptions);return c.upload(t,b,this)}async uploadFileToFileSearchStore(t,i,a){var r;const c=this.clientOptions.uploader,h=await c.stat(i),g=String(h.size),x=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:h.type;if(x===void 0||x==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,y=this.getFileName(i),b={};a!=null&&mg(a,b);const S=await this.fetchUploadUrl(m,g,x,y,b,a==null?void 0:a.httpOptions);return c.uploadToFileSearchStore(i,S,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,i,a,r,c,h){var g;let x={};h?x=h:x={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:x});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(g=m==null?void 0:m.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function f0(n){var t;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const i=n.status;let a;!((t=n.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await n.json():a={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(a);throw i>=400&&i<600?new fs({message:r,status:i}):new Error(r)}}function c2(n,t){if(!t||Object.keys(t).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof n.body=="string"&&n.body.length>0)try{const c=JSON.parse(n.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))i=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(c,h){const g=Object.assign({},c);for(const x in h)if(Object.prototype.hasOwnProperty.call(h,x)){const m=h[x],y=g[x];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?g[x]=a(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${x}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),g[x]=m)}return g}const r=a(i,t);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const d2="mcp_used/unknown";let f2=!1;function gg(n){for(const t of n)if(h2(t)||typeof t=="object"&&"inputSchema"in t)return!0;return f2}function vg(n){var t;const i=(t=n[lc])!==null&&t!==void 0?t:"";n[lc]=(i+` ${d2}`).trimStart()}function h2(n){return n!==null&&typeof n=="object"&&n instanceof Cc}function p2(n){return Xt(this,arguments,function*(i,a=100){let r,c=0;for(;c<a;){const h=yield he(i.listTools({cursor:r}));for(const g of h.tools)yield yield he(g),c++;if(!h.nextCursor)break;r=h.nextCursor}})}class Cc{constructor(t=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=i}static create(t,i){return new Cc(t,i)}async initialize(){var t,i,a,r;if(this.mcpTools.length>0)return;const c={},h=[];for(const y of this.mcpClients)try{for(var g=!0,x=(i=void 0,Qt(p2(y))),m;m=await x.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const b=r;h.push(b);const S=b.name;if(c[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);c[S]=y}}catch(b){i={error:b}}finally{try{!g&&!t&&(a=x.return)&&await a.call(x)}finally{if(i)throw i.error}}this.mcpTools=h,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),JT(this.mcpTools,this.config)}async callTool(t){await this.initialize();const i=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const h=await r.callTool({name:a.name,arguments:a.args},void 0,c);i.push({functionResponse:{name:a.name,response:h.isError?{error:h}:h}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function m2(n,t,i){const a=new PT;let r;i.data instanceof Blob?r=JSON.parse(await i.data.text()):r=JSON.parse(i.data),Object.assign(a,r),t(a)}class g2{constructor(t,i,a){this.apiClient=t,this.auth=i,this.webSocketFactory=a}async connect(t){var i,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),h=y2(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),x=`${r}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${g}`;let m=()=>{};const y=new Promise(H=>{m=H}),b=t.callbacks,S=function(){m({})},C=this.apiClient,w={onopen:S,onmessage:H=>{m2(C,b.onmessage,H)},onerror:(i=b==null?void 0:b.onerror)!==null&&i!==void 0?i:function(H){},onclose:(a=b==null?void 0:b.onclose)!==null&&a!==void 0?a:function(H){}},_=this.webSocketFactory.create(x,x2(h),w);_.connect(),await y;const j={setup:{model:_e(this.apiClient,t.model)}};return _.send(JSON.stringify(j)),new v2(_,this.apiClient)}}class v2{constructor(t,i){this.conn=t,this.apiClient=i}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=jE(t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const i=qE(t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(t){const i={playbackControl:t};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(fi.PLAY)}pause(){this.sendPlaybackControl(fi.PAUSE)}stop(){this.sendPlaybackControl(fi.STOP)}resetContext(){this.sendPlaybackControl(fi.RESET_CONTEXT)}close(){this.conn.close()}}function x2(n){const t={};return n.forEach((i,a)=>{t[a]=i}),t}function y2(n){const t=new Headers;for(const[i,a]of Object.entries(n))t.append(i,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const b2="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function T2(n,t,i){const a=new GT;let r;i.data instanceof Blob?r=await i.data.text():i.data instanceof ArrayBuffer?r=new TextDecoder().decode(i.data):r=i.data;const c=JSON.parse(r);if(n.isVertexAI()){const h=JE(c);Object.assign(a,h)}else Object.assign(a,c);t(a)}class S2{constructor(t,i,a){this.apiClient=t,this.auth=i,this.webSocketFactory=a,this.music=new g2(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var i,a,r,c,h,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const x=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const b=this.apiClient.getHeaders();t.config&&t.config.tools&&gg(t.config.tools)&&vg(b);const S=_2(b);if(this.apiClient.isVertexAI())y=`${x}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,y);else{const Y=this.apiClient.getApiKey();let le="BidiGenerateContent",W="key";Y!=null&&Y.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),le="BidiGenerateContentConstrained",W="access_token"),y=`${x}/ws/google.ai.generativelanguage.${m}.GenerativeService.${le}?${W}=${Y}`}let C=()=>{};const w=new Promise(Y=>{C=Y}),_=t.callbacks,M=function(){var Y;(Y=_==null?void 0:_.onopen)===null||Y===void 0||Y.call(_),C({})},R=this.apiClient,j={onopen:M,onmessage:Y=>{T2(R,_.onmessage,Y)},onerror:(i=_==null?void 0:_.onerror)!==null&&i!==void 0?i:function(Y){},onclose:(a=_==null?void 0:_.onclose)!==null&&a!==void 0?a:function(Y){}},H=this.webSocketFactory.create(y,C2(S),j);H.connect(),await w;let D=_e(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const Y=this.apiClient.getProject(),le=this.apiClient.getLocation();D=`projects/${Y}/locations/${le}/`+D}let N={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[is.AUDIO]}:t.config.responseModalities=[is.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G=(g=(h=t.config)===null||h===void 0?void 0:h.tools)!==null&&g!==void 0?g:[],z=[];for(const Y of G)if(this.isCallableTool(Y)){const le=Y;z.push(await le.tool())}else z.push(Y);z.length>0&&(t.config.tools=z);const Q={model:D,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?N=zE(this.apiClient,Q):N=BE(this.apiClient,Q),delete N.config,H.send(JSON.stringify(N)),new N2(H,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const E2={turnComplete:!0};class N2{constructor(t,i){this.conn=t,this.apiClient=i}tLiveClientContent(t,i){if(i.turns!==null&&i.turns!==void 0){let a=[];try{a=jt(i.turns),t.isVertexAI()||(a=a.map(r=>hs(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:a,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(t,i){let a=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?a=i.functionResponses:a=[i.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const c of a){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(b2)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},E2),t);const i=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendRealtimeInput(t){let i={};this.apiClient.isVertexAI()?i={realtimeInput:FE(t)}:i={realtimeInput:OE(t)},this.conn.send(JSON.stringify(i))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function C2(n){const t={};return n.forEach((i,a)=>{t[a]=i}),t}function _2(n){const t=new Headers;for(const[i,a]of Object.entries(n))t.append(i,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const h0=10;function p0(n){var t,i,a;if(!((t=n==null?void 0:n.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const h of(i=n==null?void 0:n.tools)!==null&&i!==void 0?i:[])if(mi(h)){r=!0;break}if(!r)return!0;const c=(a=n==null?void 0:n.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function mi(n){return"callTool"in n&&typeof n.callTool=="function"}function w2(n){var t,i,a;return(a=(i=(t=n.config)===null||t===void 0?void 0:t.tools)===null||i===void 0?void 0:i.some(r=>mi(r)))!==null&&a!==void 0?a:!1}function m0(n){var t;const i=[];return!((t=n==null?void 0:n.config)===null||t===void 0)&&t.tools&&n.config.tools.forEach((a,r)=>{if(mi(a))return;const c=a;c.functionDeclarations&&c.functionDeclarations.length>0&&i.push(r)}),i}function g0(n){var t;return!(!((t=n==null?void 0:n.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A2 extends wn{constructor(t){super(),this.apiClient=t,this.generateContent=async i=>{var a,r,c,h,g;const x=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!w2(i)||p0(i.config))return await this.generateContentInternal(x);const m=m0(i);if(m.length>0){const _=m.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let y,b;const S=jt(x.contents),C=(c=(r=(a=x.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&c!==void 0?c:h0;let w=0;for(;w<C&&(y=await this.generateContentInternal(x),!(!y.functionCalls||y.functionCalls.length===0));){const _=y.candidates[0].content,M=[];for(const R of(g=(h=i.config)===null||h===void 0?void 0:h.tools)!==null&&g!==void 0?g:[])if(mi(R)){const H=await R.callTool(y.functionCalls);M.push(...H)}w++,b={role:"user",parts:M},x.contents=jt(x.contents),x.contents.push(_),x.contents.push(b),g0(x.config)&&(S.push(_),S.push(b))}return g0(x.config)&&(y.automaticFunctionCallingHistory=S),y},this.generateContentStream=async i=>{var a,r,c,h,g;if(this.maybeMoveToResponseJsonSchem(i),p0(i.config)){const b=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(b)}const x=m0(i);if(x.length>0){const b=x.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${b}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(c=(r=(a=i==null?void 0:i.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,y=(g=(h=i==null?void 0:i.config)===null||h===void 0?void 0:h.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(m&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(a=>{var r;let c;const h=[];if(a!=null&&a.generatedImages)for(const x of a.generatedImages)x&&(x!=null&&x.safetyAttributes)&&((r=x==null?void 0:x.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?c=x==null?void 0:x.safetyAttributes:h.push(x);let g;return c?g={generatedImages:h,positivePromptSafetyAttributes:c,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:h,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async i=>{var a;const h={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!h.config.queryBase){if(!((a=h.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");h.config.filter="labels.tune-type:*"}return new _l(Cn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(h),h)},this.editImage=async i=>{const a={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(a.referenceImages=i.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async i=>{let a={numberOfImages:1,mode:"upscale"};i.config&&(a=Object.assign(Object.assign({},a),i.config));const r={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async i=>{var a,r,c,h,g,x;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=i.video)===null||a===void 0)&&a.uri&&(!((r=i.video)===null||r===void 0)&&r.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((h=(c=i.source)===null||c===void 0?void 0:c.video)===null||h===void 0)&&h.uri&&(!((x=(g=i.source)===null||g===void 0?void 0:g.video)===null||x===void 0)&&x.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var i,a,r;const c=(i=t.config)===null||i===void 0?void 0:i.tools;if(!c)return t;const h=await Promise.all(c.map(async x=>mi(x)?await x.tool():x)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:h})};if(g.config.tools=h,t.config&&t.config.tools&&gg(t.config.tools)){const x=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},x);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),vg(m),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return g}async initAfcToolsMap(t){var i,a,r;const c=new Map;for(const h of(a=(i=t.config)===null||i===void 0?void 0:i.tools)!==null&&a!==void 0?a:[])if(mi(h)){const g=h,x=await g.tool();for(const m of(r=x.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,g)}}return c}async processAfcStream(t){var i,a,r;const c=(r=(a=(i=t.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:h0;let h=!1,g=0;const x=await this.initAfcToolsMap(t);return(function(m,y,b){return Xt(this,arguments,function*(){for(var S,C,w,_,M,R;g<c;){h&&(g++,h=!1);const N=yield he(m.processParamsMaybeAddMcpUsage(b)),G=yield he(m.generateContentStreamInternal(N)),z=[],Q=[];try{for(var j=!0,H=(C=void 0,Qt(G)),D;D=yield he(H.next()),S=D.done,!S;j=!0){_=D.value,j=!1;const Y=_;if(yield yield he(Y),Y.candidates&&(!((M=Y.candidates[0])===null||M===void 0)&&M.content)){Q.push(Y.candidates[0].content);for(const le of(R=Y.candidates[0].content.parts)!==null&&R!==void 0?R:[])if(g<c&&le.functionCall){if(!le.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(le.functionCall.name)){const W=yield he(y.get(le.functionCall.name).callTool([le.functionCall]));z.push(...W)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${le.functionCall.name}`)}}}}catch(Y){C={error:Y}}finally{try{!j&&!S&&(w=H.return)&&(yield he(w.call(H)))}finally{if(C)throw C.error}}if(z.length>0){h=!0;const Y=new yo;Y.candidates=[{content:{role:"user",parts:z}}],yield yield he(Y);const le=[];le.push(...Q),le.push({role:"user",parts:z});const W=jt(b.contents).concat(le);b.contents=W}else break}})})(this,x,t)}async generateContentInternal(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=u0(this.apiClient,t);return g=ne("{model}:generateContent",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=d0(y),S=new yo;return Object.assign(S,b),S})}else{const m=r0(this.apiClient,t);return g=ne("{model}:generateContent",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=c0(y),S=new yo;return Object.assign(S,b),S})}}async generateContentStreamInternal(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=u0(this.apiClient,t);return g=ne("{model}:streamGenerateContent?alt=sse",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.requestStream({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),h.then(function(b){return Xt(this,arguments,function*(){var S,C,w,_;try{for(var M=!0,R=Qt(b),j;j=yield he(R.next()),S=j.done,!S;M=!0){_=j.value,M=!1;const H=_,D=d0(yield he(H.json()));D.sdkHttpResponse={headers:H.headers};const N=new yo;Object.assign(N,D),yield yield he(N)}}catch(H){C={error:H}}finally{try{!M&&!S&&(w=R.return)&&(yield he(w.call(R)))}finally{if(C)throw C.error}}})})}else{const m=r0(this.apiClient,t);return g=ne("{model}:streamGenerateContent?alt=sse",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.requestStream({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),h.then(function(b){return Xt(this,arguments,function*(){var S,C,w,_;try{for(var M=!0,R=Qt(b),j;j=yield he(R.next()),S=j.done,!S;M=!0){_=j.value,M=!1;const H=_,D=c0(yield he(H.json()));D.sdkHttpResponse={headers:H.headers};const N=new yo;Object.assign(N,D),yield yield he(N)}}catch(H){C={error:H}}finally{try{!M&&!S&&(w=R.return)&&(yield he(w.call(R)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=S1(this.apiClient,t);return g=ne("{model}:predict",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=N1(y),S=new Fm;return Object.assign(S,b),S})}else{const m=T1(this.apiClient,t);return g=ne("{model}:batchEmbedContents",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=E1(y),S=new Fm;return Object.assign(S,b),S})}}async generateImagesInternal(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=L1(this.apiClient,t);return g=ne("{model}:predict",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=G1(y),S=new Jm;return Object.assign(S,b),S})}else{const m=U1(this.apiClient,t);return g=ne("{model}:predict",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=H1(y),S=new Jm;return Object.assign(S,b),S})}}async editImageInternal(t){var i,a;let r,c="",h={};if(this.apiClient.isVertexAI()){const g=v1(this.apiClient,t);return c=ne("{model}:predict",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:x.headers},y})),r.then(x=>{const m=x1(x),y=new _T;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var i,a;let r,c="",h={};if(this.apiClient.isVertexAI()){const g=LN(this.apiClient,t);return c=ne("{model}:predict",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:x.headers},y})),r.then(x=>{const m=HN(x),y=new wT;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var i,a;let r,c="",h={};if(this.apiClient.isVertexAI()){const g=gN(this.apiClient,t);return c=ne("{model}:predict",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(x=>{const m=vN(x),y=new AT;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var i,a;let r,c="",h={};if(this.apiClient.isVertexAI()){const g=EN(this.apiClient,t);return c=ne("{model}:predict",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(x=>{const m=NN(x),y=new RT;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=eN(this.apiClient,t);return g=ne("{name}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),h.then(y=>nc(y))}else{const m=Z1(this.apiClient,t);return g=ne("{name}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),h.then(y=>tc(y))}}async listInternal(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=uN(this.apiClient,t);return g=ne("{models_url}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=dN(y),S=new Ym;return Object.assign(S,b),S})}else{const m=rN(this.apiClient,t);return g=ne("{models_url}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=cN(y),S=new Ym;return Object.assign(S,b),S})}}async update(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=IN(this.apiClient,t);return g=ne("{model}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),h.then(y=>nc(y))}else{const m=DN(this.apiClient,t);return g=ne("{name}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),h.then(y=>tc(y))}}async delete(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=h1(this.apiClient,t);return g=ne("{name}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=m1(y),S=new Km;return Object.assign(S,b),S})}else{const m=f1(this.apiClient,t);return g=ne("{name}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=p1(y),S=new Km;return Object.assign(S,b),S})}}async countTokens(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=u1(this.apiClient,t);return g=ne("{model}:countTokens",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=d1(y),S=new Xm;return Object.assign(S,b),S})}else{const m=r1(this.apiClient,t);return g=ne("{model}:countTokens",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=c1(y),S=new Xm;return Object.assign(S,b),S})}}async computeTokens(t){var i,a;let r,c="",h={};if(this.apiClient.isVertexAI()){const g=t1(this.apiClient,t);return c=ne("{model}:computeTokens",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:x.headers},y})),r.then(x=>{const m=n1(x),y=new MT;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=j1(this.apiClient,t);return g=ne("{model}:predictLongRunning",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),h.then(y=>{const b=z1(y),S=new os;return Object.assign(S,b),S})}else{const m=q1(this.apiClient,t);return g=ne("{model}:predictLongRunning",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),h.then(y=>{const b=B1(y),S=new os;return Object.assign(S,b),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class R2 extends wn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const i=t.operation,a=t.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=i.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:r,config:{httpOptions:c}});return i._fromAPIResponse({apiResponse:h,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:i.name,config:a});return i._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const i=t.operation,a=t.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=i.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:r,config:{httpOptions:c}});return i._fromAPIResponse({apiResponse:h,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:i.name,config:a});return i._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=bT(t);return g=ne("{operationName}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),h}else{const m=yT(t);return g=ne("{operationName}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),h}}async fetchPredictVideosOperationInternal(t){var i,a;let r,c="",h={};if(this.apiClient.isVertexAI()){const g=fT(t);return c=ne("{resourceName}:fetchPredictOperation",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M2(n){const t={},i=u(n,["data"]);if(i!=null&&f(t,["data"],i),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function k2(n){const t={},i=u(n,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(c=>B2(c))),f(t,["parts"],r)}const a=u(n,["role"]);return a!=null&&f(t,["role"],a),t}function D2(n,t,i){const a={},r=u(t,["expireTime"]);i!==void 0&&r!=null&&f(i,["expireTime"],r);const c=u(t,["newSessionExpireTime"]);i!==void 0&&c!=null&&f(i,["newSessionExpireTime"],c);const h=u(t,["uses"]);i!==void 0&&h!=null&&f(i,["uses"],h);const g=u(t,["liveConnectConstraints"]);i!==void 0&&g!=null&&f(i,["bidiGenerateContentSetup"],V2(n,g));const x=u(t,["lockAdditionalFields"]);return i!==void 0&&x!=null&&f(i,["fieldMask"],x),a}function I2(n,t){const i={},a=u(t,["config"]);return a!=null&&f(i,["config"],D2(n,a,i)),i}function U2(n){const t={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(n,["fileUri"]);i!=null&&f(t,["fileUri"],i);const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function L2(n){const t={},i=u(n,["id"]);i!=null&&f(t,["id"],i);const a=u(n,["args"]);a!=null&&f(t,["args"],a);const r=u(n,["name"]);if(r!=null&&f(t,["name"],r),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function H2(n){const t={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=u(n,["enableWidget"]);return i!=null&&f(t,["enableWidget"],i),t}function G2(n){const t={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=u(n,["timeRangeFilter"]);return i!=null&&f(t,["timeRangeFilter"],i),t}function P2(n,t){const i={},a=u(n,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(n,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(n,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const h=u(n,["topP"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topP"],h);const g=u(n,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const x=u(n,["maxOutputTokens"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","maxOutputTokens"],x);const m=u(n,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const y=u(n,["seed"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","seed"],y);const b=u(n,["speechConfig"]);t!==void 0&&b!=null&&f(t,["setup","generationConfig","speechConfig"],Nc(b));const S=u(n,["thinkingConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","thinkingConfig"],S);const C=u(n,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const w=u(n,["systemInstruction"]);t!==void 0&&w!=null&&f(t,["setup","systemInstruction"],k2(ct(w)));const _=u(n,["tools"]);if(t!==void 0&&_!=null){let G=yi(_);Array.isArray(G)&&(G=G.map(z=>q2(xi(z)))),f(t,["setup","tools"],G)}const M=u(n,["sessionResumption"]);t!==void 0&&M!=null&&f(t,["setup","sessionResumption"],z2(M));const R=u(n,["inputAudioTranscription"]);t!==void 0&&R!=null&&f(t,["setup","inputAudioTranscription"],R);const j=u(n,["outputAudioTranscription"]);t!==void 0&&j!=null&&f(t,["setup","outputAudioTranscription"],j);const H=u(n,["realtimeInputConfig"]);t!==void 0&&H!=null&&f(t,["setup","realtimeInputConfig"],H);const D=u(n,["contextWindowCompression"]);t!==void 0&&D!=null&&f(t,["setup","contextWindowCompression"],D);const N=u(n,["proactivity"]);if(t!==void 0&&N!=null&&f(t,["setup","proactivity"],N),u(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function V2(n,t){const i={},a=u(t,["model"]);a!=null&&f(i,["setup","model"],_e(n,a));const r=u(t,["config"]);return r!=null&&f(i,["config"],P2(r,i)),i}function B2(n){const t={},i=u(n,["mediaResolution"]);i!=null&&f(t,["mediaResolution"],i);const a=u(n,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(n,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(n,["fileData"]);c!=null&&f(t,["fileData"],U2(c));const h=u(n,["functionCall"]);h!=null&&f(t,["functionCall"],L2(h));const g=u(n,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const x=u(n,["inlineData"]);x!=null&&f(t,["inlineData"],M2(x));const m=u(n,["text"]);m!=null&&f(t,["text"],m);const y=u(n,["thought"]);y!=null&&f(t,["thought"],y);const b=u(n,["thoughtSignature"]);b!=null&&f(t,["thoughtSignature"],b);const S=u(n,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function z2(n){const t={},i=u(n,["handle"]);if(i!=null&&f(t,["handle"],i),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function q2(n){const t={},i=u(n,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(b=>b)),f(t,["functionDeclarations"],y)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(n,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(n,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(n,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const h=u(n,["codeExecution"]);if(h!=null&&f(t,["codeExecution"],h),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(n,["googleMaps"]);g!=null&&f(t,["googleMaps"],H2(g));const x=u(n,["googleSearch"]);x!=null&&f(t,["googleSearch"],G2(x));const m=u(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j2(n){const t=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const a=n[i];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(c=>`${i}.${c}`);t.push(...r)}else t.push(i)}return t.join(",")}function O2(n,t){let i=null;const a=n.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const c=a.setup;typeof c=="object"&&c!==null?(n.bidiGenerateContentSetup=c,i=c):delete n.bidiGenerateContentSetup}else a!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(i){const c=j2(i);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)c?n.fieldMask=c:delete n.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const h=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(m=>h.includes(m)?`generationConfig.${m}`:m));const x=[];c&&x.push(c),g.length>0&&x.push(...g),x.length>0?n.fieldMask=x.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class F2 extends wn{constructor(t){super(),this.apiClient=t}async create(t){var i,a;let r,c="",h={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=I2(this.apiClient,t);c=ne("auth_tokens",g._url),h=g._query,delete g.config,delete g._url,delete g._query;const x=O2(g,t.config);return r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J2(n,t){const i={},a=u(n,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),i}function Y2(n){const t={},i=u(n,["name"]);i!=null&&f(t,["_url","name"],i);const a=u(n,["config"]);return a!=null&&J2(a,t),t}function K2(n){const t={},i=u(n,["name"]);return i!=null&&f(t,["_url","name"],i),t}function X2(n,t){const i={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(n,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),i}function Q2(n){const t={},i=u(n,["parent"]);i!=null&&f(t,["_url","parent"],i);const a=u(n,["config"]);return a!=null&&X2(a,t),t}function $2(n){const t={},i=u(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(n,["documents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>h)),f(t,["documents"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W2 extends wn{constructor(t){super(),this.apiClient=t,this.list=async i=>new _l(Cn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:i.parent,config:a.config}),await this.listInternal(i),i)}async get(t){var i,a;let r,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=K2(t);return c=ne("{name}",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(x=>x)}}async delete(t){var i,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Y2(t);r=ne("{name}",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var i,a;let r,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Q2(t);return c=ne("{parent}/documents",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(x=>{const m=$2(x),y=new kT;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Z2 extends wn{constructor(t,i=new W2(t)){super(),this.apiClient=t,this.documents=i,this.list=async(a={})=>new _l(Cn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var i,a;let r,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=jN(t);return c=ne("fileSearchStores",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(x=>x)}}async get(t){var i,a;let r,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=JN(t);return c=ne("{name}",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(x=>x)}}async delete(t){var i,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=FN(t);r=ne("{name}",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var i,a;let r,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=WN(t);return c=ne("fileSearchStores",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(x=>{const m=ZN(x),y=new DT;return Object.assign(y,m),y})}}async uploadToFileSearchStoreInternal(t){var i,a;let r,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=e2(t);return c=ne("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(x=>{const m=t2(x),y=new IT;return Object.assign(y,m),y})}}async importFile(t){var i,a;let r,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=XN(t);return c=ne("{file_search_store_name}:importFile",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(x=>{const m=KN(x),y=new yc;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let xg=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return xg=n.randomUUID.bind(n),n.randomUUID();const t=new Uint8Array(1),i=n?()=>n.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^i()&15>>+a/4).toString(16))};const eC=()=>xg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ic(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const oc=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const t=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(t.stack=n.stack),n.cause&&!t.cause&&(t.cause=n.cause),n.name&&(t.name=n.name),t}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ot extends Error{}class ht extends Ot{constructor(t,i,a,r){super(`${ht.makeMessage(t,i,a)}`),this.status=t,this.headers=r,this.error=i}static makeMessage(t,i,a){const r=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,i,a,r){if(!t||!r)return new gs({message:a,cause:oc(i)});const c=i;return t===400?new bg(t,c,a,r):t===401?new Tg(t,c,a,r):t===403?new Sg(t,c,a,r):t===404?new Eg(t,c,a,r):t===409?new Ng(t,c,a,r):t===422?new Cg(t,c,a,r):t===429?new _g(t,c,a,r):t>=500?new wg(t,c,a,r):new ht(t,c,a,r)}}class ac extends ht{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class gs extends ht{constructor({message:t,cause:i}){super(void 0,void 0,t||"Connection error.",void 0),i&&(this.cause=i)}}class yg extends gs{constructor({message:t}={}){super({message:t??"Request timed out."})}}class bg extends ht{}class Tg extends ht{}class Sg extends ht{}class Eg extends ht{}class Ng extends ht{}class Cg extends ht{}class _g extends ht{}class wg extends ht{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tC=/^[a-z][a-z0-9+.-]*:/i,nC=n=>tC.test(n);let sc=n=>(sc=Array.isArray,sc(n));const lC=sc;let iC=lC;const v0=iC;function oC(n){if(!n)return!0;for(const t in n)return!1;return!0}function aC(n,t){return Object.prototype.hasOwnProperty.call(n,t)}const sC=(n,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Ot(`${n} must be an integer`);if(t<0)throw new Ot(`${n} must be a positive integer`);return t},rC=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uC=n=>new Promise(t=>setTimeout(t,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const di="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cC(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const dC=()=>{var n,t,i,a,r;const c=cC();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":di,"X-Stainless-OS":y0(Deno.build.os),"X-Stainless-Arch":x0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":di,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":di,"X-Stainless-OS":y0((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":x0((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const h=fC();return h?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":di,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${h.browser}`,"X-Stainless-Runtime-Version":h.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":di,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function fC(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:i}of n){const a=i.exec(navigator.userAgent);if(a){const r=a[1]||0,c=a[2]||0,h=a[3]||0;return{browser:t,version:`${r}.${c}.${h}`}}}return null}const x0=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",y0=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let Ya;const hC=()=>Ya??(Ya=dC());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ag(...n){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...n)}function mC(n){let t=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return Ag({start(){},async pull(i){const{done:a,value:r}=await t.next();a?i.close():i.enqueue(r)},async cancel(){var i;await((i=t.return)===null||i===void 0?void 0:i.call(t))}})}function Rg(n){if(n[Symbol.asyncIterator])return n;const t=n.getReader();return{async next(){try{const i=await t.read();return i!=null&&i.done&&t.releaseLock(),i}catch(i){throw t.releaseLock(),i}},async return(){const i=t.cancel();return t.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function gC(n){var t,i;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((i=(t=n[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(t));return}const a=n.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vC=({headers:n,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mg=()=>{var n;if(typeof File>"u"){const{process:t}=globalThis,i=typeof((n=t==null?void 0:t.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ju(n,t,i){return Mg(),new File(n,t??"unknown_file",i)}function xC(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const yC=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kg=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",bC=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&kg(n),TC=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function SC(n,t,i){if(Mg(),n=await n,bC(n))return n instanceof File?n:Ju([await n.arrayBuffer()],n.name);if(TC(n)){const r=await n.blob();return t||(t=new URL(n.url).pathname.split(/[\\/]/).pop()),Ju(await rc(r),t,i)}const a=await rc(n);if(t||(t=xC(n)),!(i!=null&&i.type)){const r=a.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof r=="string"&&(i=Object.assign(Object.assign({},i),{type:r}))}return Ju(a,t,i)}async function rc(n){var t,i,a,r,c;let h=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)h.push(n);else if(kg(n))h.push(n instanceof Blob?n:await n.arrayBuffer());else if(yC(n))try{for(var g=!0,x=Qt(n),m;m=await x.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const y=r;h.push(...await rc(y))}}catch(y){i={error:y}}finally{try{!g&&!t&&(a=x.return)&&await a.call(x)}finally{if(i)throw i.error}}else{const y=(c=n==null?void 0:n.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof n}${y?`; constructor: ${y}`:""}${EC(n)}`)}return h}function EC(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dg{constructor(t){this._client=t}}Dg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ig(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const b0=Object.freeze(Object.create(null)),NC=(n=Ig)=>(function(i,...a){if(i.length===1)return i[0];let r=!1;const c=[],h=i.reduce((y,b,S)=>{var C,w,_;/[?#]/.test(b)&&(r=!0);const M=a[S];let R=(r?encodeURIComponent:n)(""+M);return S!==a.length&&(M==null||typeof M=="object"&&M.toString===((_=Object.getPrototypeOf((w=Object.getPrototypeOf((C=M.hasOwnProperty)!==null&&C!==void 0?C:b0))!==null&&w!==void 0?w:b0))===null||_===void 0?void 0:_.toString))&&(R=M+"",c.push({start:y.length+b.length,length:R.length,error:`Value of type ${Object.prototype.toString.call(M).slice(8,-1)} is not a valid path parameter`})),y+b+(S===a.length?"":R)},""),g=h.split(/[?#]/,1)[0],x=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=x.exec(g))!==null;)c.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(c.sort((y,b)=>y.start-b.start),c.length>0){let y=0;const b=c.reduce((S,C)=>{const w=" ".repeat(C.start-y),_="^".repeat(C.length);return y=C.start+C.length,S+w+_},"");throw new Ot(`Path parameters result in path with invalid segments:
${c.map(S=>S.error).join(`
`)}
${h}
${b}`)}return h}),Ka=NC(Ig);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ug extends Dg{create(t,i){var a;const{api_version:r=this._client.apiVersion}=t,c=ss(t,["api_version"]);if("model"in c&&"agent_config"in c)throw new Ot("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new Ot("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ka`/${r}/interactions`,Object.assign(Object.assign({body:c},i),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,i={},a){const{api_version:r=this._client.apiVersion}=i??{};return this._client.delete(Ka`/${r}/interactions/${t}`,a)}cancel(t,i={},a){const{api_version:r=this._client.apiVersion}=i??{};return this._client.post(Ka`/${r}/interactions/${t}/cancel`,a)}get(t,i={},a){var r;const c=i??{},{api_version:h=this._client.apiVersion}=c,g=ss(c,["api_version"]);return this._client.get(Ka`/${h}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=i==null?void 0:i.stream)!==null&&r!==void 0?r:!1}))}}Ug._key=Object.freeze(["interactions"]);class Lg extends Ug{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CC(n){let t=0;for(const r of n)t+=r.length;const i=new Uint8Array(t);let a=0;for(const r of n)i.set(r,a),a+=r.length;return i}let Xa;function _c(n){let t;return(Xa??(t=new globalThis.TextEncoder,Xa=t.encode.bind(t)))(n)}let Qa;function T0(n){let t;return(Qa??(t=new globalThis.TextDecoder,Qa=t.decode.bind(t)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vs{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const i=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?_c(t):t;this.buffer=CC([this.buffer,i]);const a=[];let r;for(;(r=_C(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(T0(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,h=T0(this.buffer.subarray(0,c));a.push(h),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}vs.NEWLINE_CHARS=new Set([`
`,"\r"]);vs.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function _C(n,t){for(let r=t??0;r<n.length;r++){if(n[r]===10)return{preceding:r,index:r+1,carriage:!1};if(n[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function wC(n){for(let a=0;a<n.length-1;a++){if(n[a]===10&&n[a+1]===10||n[a]===13&&n[a+1]===13)return a+2;if(n[a]===13&&n[a+1]===10&&a+3<n.length&&n[a+2]===13&&n[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rs={off:0,error:200,warn:300,info:400,debug:500},S0=(n,t,i)=>{if(n){if(aC(rs,n))return n;ft(i).warn(`${t} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(rs))}`)}};function To(){}function $a(n,t,i){return!t||rs[n]>rs[i]?To:t[n].bind(t)}const AC={error:To,warn:To,info:To,debug:To};let E0=new WeakMap;function ft(n){var t;const i=n.logger,a=(t=n.logLevel)!==null&&t!==void 0?t:"off";if(!i)return AC;const r=E0.get(i);if(r&&r[0]===a)return r[1];const c={error:$a("error",i,a),warn:$a("warn",i,a),info:$a("info",i,a),debug:$a("debug",i,a)};return E0.set(i,[a,c]),c}const Tl=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([t,i])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hi{constructor(t,i,a){this.iterator=t,this.controller=i,this.client=a}static fromSSEResponse(t,i,a){let r=!1;const c=a?ft(a):console;function h(){return Xt(this,arguments,function*(){var x,m,y,b;if(r)throw new Ot("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var C=!0,w=Qt(RC(t,i)),_;_=yield he(w.next()),x=_.done,!x;C=!0){b=_.value,C=!1;const M=b;if(!S)if(M.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield he(JSON.parse(M.data))}catch(R){throw c.error("Could not parse message into JSON:",M.data),c.error("From chunk:",M.raw),R}}}catch(M){m={error:M}}finally{try{!C&&!x&&(y=w.return)&&(yield he(y.call(w)))}finally{if(m)throw m.error}}S=!0}catch(M){if(ic(M))return yield he(void 0);throw M}finally{S||i.abort()}})}return new hi(h,i,a)}static fromReadableStream(t,i,a){let r=!1;function c(){return Xt(this,arguments,function*(){var x,m,y,b;const S=new vs,C=Rg(t);try{for(var w=!0,_=Qt(C),M;M=yield he(_.next()),x=M.done,!x;w=!0){b=M.value,w=!1;const R=b;for(const j of S.decode(R))yield yield he(j)}}catch(R){m={error:R}}finally{try{!w&&!x&&(y=_.return)&&(yield he(y.call(_)))}finally{if(m)throw m.error}}for(const R of S.flush())yield yield he(R)})}function h(){return Xt(this,arguments,function*(){var x,m,y,b;if(r)throw new Ot("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var C=!0,w=Qt(c()),_;_=yield he(w.next()),x=_.done,!x;C=!0){b=_.value,C=!1;const M=b;S||M&&(yield yield he(JSON.parse(M)))}}catch(M){m={error:M}}finally{try{!C&&!x&&(y=w.return)&&(yield he(y.call(w)))}finally{if(m)throw m.error}}S=!0}catch(M){if(ic(M))return yield he(void 0);throw M}finally{S||i.abort()}})}return new hi(h,i,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],i=[],a=this.iterator(),r=c=>({next:()=>{if(c.length===0){const h=a.next();t.push(h),i.push(h)}return c.shift()}});return[new hi(()=>r(t),this.controller,this.client),new hi(()=>r(i),this.controller,this.client)]}toReadableStream(){const t=this;let i;return Ag({async start(){i=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:c}=await i.next();if(c)return a.close();const h=_c(JSON.stringify(r)+`
`);a.enqueue(h)}catch(r){a.error(r)}},async cancel(){var a;await((a=i.return)===null||a===void 0?void 0:a.call(i))}})}}function RC(n,t){return Xt(this,arguments,function*(){var a,r,c,h;if(!n.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ot("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ot("Attempted to iterate over a response with no body");const g=new kC,x=new vs,m=Rg(n.body);try{for(var y=!0,b=Qt(MC(m)),S;S=yield he(b.next()),a=S.done,!a;y=!0){h=S.value,y=!1;const C=h;for(const w of x.decode(C)){const _=g.decode(w);_&&(yield yield he(_))}}}catch(C){r={error:C}}finally{try{!y&&!a&&(c=b.return)&&(yield he(c.call(b)))}finally{if(r)throw r.error}}for(const C of x.flush()){const w=g.decode(C);w&&(yield yield he(w))}})}function MC(n){return Xt(this,arguments,function*(){var i,a,r,c;let h=new Uint8Array;try{for(var g=!0,x=Qt(n),m;m=yield he(x.next()),i=m.done,!i;g=!0){c=m.value,g=!1;const y=c;if(y==null)continue;const b=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?_c(y):y;let S=new Uint8Array(h.length+b.length);S.set(h),S.set(b,h.length),h=S;let C;for(;(C=wC(h))!==-1;)yield yield he(h.slice(0,C)),h=h.slice(C)}}catch(y){a={error:y}}finally{try{!g&&!i&&(r=x.return)&&(yield he(r.call(x)))}finally{if(a)throw a.error}}h.length>0&&(yield yield he(h))})}class kC{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(t),t.startsWith(":"))return null;let[i,a,r]=DC(t,":");return r.startsWith(" ")&&(r=r.substring(1)),i==="event"?this.event=r:i==="data"&&this.data.push(r),null}}function DC(n,t){const i=n.indexOf(t);return i!==-1?[n.substring(0,i),t,n.substring(i+t.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function IC(n,t){const{response:i,requestLogID:a,retryOfRequestLogID:r,startTime:c}=t,h=await(async()=>{var g;if(t.options.stream)return ft(n).debug("response",i.status,i.url,i.headers,i.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(i,t.controller,n):hi.fromSSEResponse(i,t.controller,n);if(i.status===204)return null;if(t.options.__binaryResponse)return i;const x=i.headers.get("content-type"),m=(g=x==null?void 0:x.split(";")[0])===null||g===void 0?void 0:g.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await i.json():await i.text()})();return ft(n).debug(`[${a}] response parsed`,Tl({retryOfRequestLogID:r,url:i.url,status:i.status,body:h,durationMs:Date.now()-c})),h}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wc extends Promise{constructor(t,i,a=IC){super(r=>{r(null)}),this.responsePromise=i,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new wc(this.client,this.responsePromise,async(i,a)=>t(await this.parseResponse(i,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,i){return this.parse().then(t,i)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hg=Symbol("brand.privateNullableHeaders");function*UC(n){if(!n)return;if(Hg in n){const{values:a,nulls:r}=n;yield*a.entries();for(const c of r)yield[c,null];return}let t=!1,i;n instanceof Headers?i=n.entries():v0(n)?i=n:(t=!0,i=Object.entries(n??{}));for(let a of i){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const c=v0(a[1])?a[1]:[a[1]];let h=!1;for(const g of c)g!==void 0&&(t&&!h&&(h=!0,yield[r,null]),yield[r,g])}}const bo=n=>{const t=new Headers,i=new Set;for(const a of n){const r=new Set;for(const[c,h]of UC(a)){const g=c.toLowerCase();r.has(g)||(t.delete(c),r.add(g)),h===null?(t.delete(c),i.add(g)):(t.append(c,h),i.delete(g))}}return{[Hg]:!0,values:t,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yu=n=>{var t,i,a,r,c,h;if(typeof globalThis.process<"u")return(a=(i=(t=aT)===null||t===void 0?void 0:t[n])===null||i===void 0?void 0:i.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(h=(c=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||c===void 0?void 0:c.call(r,n))===null||h===void 0?void 0:h.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gg;class xs{constructor(t){var i,a,r,c,h,g,x,{baseURL:m=Yu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(i=Yu("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:b="v1beta"}=t,S=ss(t,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:y,apiVersion:b},S),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(a=C.timeout)!==null&&a!==void 0?a:xs.DEFAULT_TIMEOUT,this.logger=(r=C.logger)!==null&&r!==void 0?r:console;const w="warn";this.logLevel=w,this.logLevel=(h=(c=S0(C.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:S0(Yu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&h!==void 0?h:w,this.fetchOptions=C.fetchOptions,this.maxRetries=(g=C.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(x=C.fetch)!==null&&x!==void 0?x:pC(),this.encoder=vC,this._options=C,this.apiKey=y,this.apiVersion=b,this.clientAdapter=C.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:i}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const i=bo([t.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return bo([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return bo([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([i,a])=>typeof a<"u").map(([i,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(i)}=`;throw new Ot(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${di}`}defaultIdempotencyKey(){return`stainless-node-retry-${eC()}`}makeStatusError(t,i,a,r){return ht.generate(t,i,a,r)}buildURL(t,i,a){const r=!this.baseURLOverridden()&&a||this.baseURL,c=nC(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),h=this.defaultQuery();return oC(h)||(i=Object.assign(Object.assign({},h),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(c.search=this.stringifyQuery(i)),c.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const i=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(t,{url:i,options:a}){}get(t,i){return this.methodRequest("get",t,i)}post(t,i){return this.methodRequest("post",t,i)}patch(t,i){return this.methodRequest("patch",t,i)}put(t,i){return this.methodRequest("put",t,i)}delete(t,i){return this.methodRequest("delete",t,i)}methodRequest(t,i,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:i},r)))}request(t,i=null){return new wc(this,this.makeRequest(t,i,void 0))}async makeRequest(t,i,a){var r,c,h;const g=await t,x=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;i==null&&(i=x),await this.prepareOptions(g);const{req:m,url:y,timeout:b}=await this.buildRequest(g,{retryCount:x-i});await this.prepareRequest(m,{url:y,options:g});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=a===void 0?"":`, retryOf: ${a}`,w=Date.now();if(ft(this).debug(`[${S}] sending request`,Tl({retryOfRequestLogID:a,method:g.method,url:y,options:g,headers:m.headers})),!((c=g.signal)===null||c===void 0)&&c.aborted)throw new ac;const _=new AbortController,M=await this.fetchWithTimeout(y,m,b,_).catch(oc),R=Date.now();if(M instanceof globalThis.Error){const H=`retrying, ${i} attempts remaining`;if(!((h=g.signal)===null||h===void 0)&&h.aborted)throw new ac;const D=ic(M)||/timed? ?out/i.test(String(M)+("cause"in M?String(M.cause):""));if(i)return ft(this).info(`[${S}] connection ${D?"timed out":"failed"} - ${H}`),ft(this).debug(`[${S}] connection ${D?"timed out":"failed"} (${H})`,Tl({retryOfRequestLogID:a,url:y,durationMs:R-w,message:M.message})),this.retryRequest(g,i,a??S);throw ft(this).info(`[${S}] connection ${D?"timed out":"failed"} - error; no more retries left`),ft(this).debug(`[${S}] connection ${D?"timed out":"failed"} (error; no more retries left)`,Tl({retryOfRequestLogID:a,url:y,durationMs:R-w,message:M.message})),D?new yg:new gs({cause:M})}const j=`[${S}${C}] ${m.method} ${y} ${M.ok?"succeeded":"failed"} with status ${M.status} in ${R-w}ms`;if(!M.ok){const H=await this.shouldRetry(M);if(i&&H){const Y=`retrying, ${i} attempts remaining`;return await gC(M.body),ft(this).info(`${j} - ${Y}`),ft(this).debug(`[${S}] response error (${Y})`,Tl({retryOfRequestLogID:a,url:M.url,status:M.status,headers:M.headers,durationMs:R-w})),this.retryRequest(g,i,a??S,M.headers)}const D=H?"error; no more retries left":"error; not retryable";ft(this).info(`${j} - ${D}`);const N=await M.text().catch(Y=>oc(Y).message),G=rC(N),z=G?void 0:N;throw ft(this).debug(`[${S}] response error (${D})`,Tl({retryOfRequestLogID:a,url:M.url,status:M.status,headers:M.headers,message:z,durationMs:Date.now()-w})),this.makeStatusError(M.status,G,z,M.headers)}return ft(this).info(j),ft(this).debug(`[${S}] response start`,Tl({retryOfRequestLogID:a,url:M.url,status:M.status,headers:M.headers,durationMs:R-w})),{response:M,options:g,controller:_,requestLogID:S,retryOfRequestLogID:a,startTime:w}}async fetchWithTimeout(t,i,a,r){const c=i||{},{signal:h,method:g}=c,x=ss(c,["signal","method"]);h&&h.addEventListener("abort",()=>r.abort());const m=setTimeout(()=>r.abort(),a),y=globalThis.ReadableStream&&x.body instanceof globalThis.ReadableStream||typeof x.body=="object"&&x.body!==null&&Symbol.asyncIterator in x.body,b=Object.assign(Object.assign(Object.assign({signal:r.signal},y?{duplex:"half"}:{}),{method:"GET"}),x);g&&(b.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,b)}finally{clearTimeout(m)}}async shouldRetry(t){const i=t.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,i,a,r){var c;let h;const g=r==null?void 0:r.get("retry-after-ms");if(g){const m=parseFloat(g);Number.isNaN(m)||(h=m)}const x=r==null?void 0:r.get("retry-after");if(x&&!h){const m=parseFloat(x);Number.isNaN(m)?h=Date.parse(x)-Date.now():h=m*1e3}if(!(h&&0<=h&&h<60*1e3)){const m=(c=t.maxRetries)!==null&&c!==void 0?c:this.maxRetries;h=this.calculateDefaultRetryTimeoutMillis(i,m)}return await uC(h),this.makeRequest(t,i-1,a)}calculateDefaultRetryTimeoutMillis(t,i){const c=i-t,h=Math.min(.5*Math.pow(2,c),8),g=1-Math.random()*.25;return h*g*1e3}async buildRequest(t,{retryCount:i=0}={}){var a,r,c;const h=Object.assign({},t),{method:g,path:x,query:m,defaultBaseURL:y}=h,b=this.buildURL(x,m,y);"timeout"in h&&sC("timeout",h.timeout),h.timeout=(a=h.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:S,body:C}=this.buildBody({options:h}),w=await this.buildHeaders({options:t,method:g,bodyHeaders:S,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:w},h.signal&&{signal:h.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(c=h.fetchOptions)!==null&&c!==void 0?c:{}),url:b,timeout:h.timeout}}async buildHeaders({options:t,method:i,bodyHeaders:a,retryCount:r}){let c={};this.idempotencyHeader&&i!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=t.idempotencyKey);const h=await this.authHeaders(t);let g=bo([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),hC()),this._options.defaultHeaders,a,t.headers,h]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:i}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=bo([i]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:mC(t)}:this.encoder({body:t,headers:a})}}xs.DEFAULT_TIMEOUT=6e4;class nt extends xs{constructor(){super(...arguments),this.interactions=new Lg(this)}}Gg=nt;nt.GeminiNextGenAPIClient=Gg;nt.GeminiNextGenAPIClientError=Ot;nt.APIError=ht;nt.APIConnectionError=gs;nt.APIConnectionTimeoutError=yg;nt.APIUserAbortError=ac;nt.NotFoundError=Eg;nt.ConflictError=Ng;nt.RateLimitError=_g;nt.BadRequestError=bg;nt.AuthenticationError=Tg;nt.InternalServerError=wg;nt.PermissionDeniedError=Sg;nt.UnprocessableEntityError=Cg;nt.toFile=SC;nt.Interactions=Lg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LC(n,t){const i={},a=u(n,["name"]);return a!=null&&f(i,["_url","name"],a),i}function HC(n,t){const i={},a=u(n,["name"]);return a!=null&&f(i,["_url","name"],a),i}function GC(n,t){const i={},a=u(n,["sdkHttpResponse"]);return a!=null&&f(i,["sdkHttpResponse"],a),i}function PC(n,t){const i={},a=u(n,["sdkHttpResponse"]);return a!=null&&f(i,["sdkHttpResponse"],a),i}function VC(n,t,i){const a={};if(u(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(n,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&f(t,["displayName"],r),u(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(n,["epochCount"]);t!==void 0&&c!=null&&f(t,["tuningTask","hyperparameters","epochCount"],c);const h=u(n,["learningRateMultiplier"]);if(h!=null&&f(a,["tuningTask","hyperparameters","learningRateMultiplier"],h),u(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(n,["batchSize"]);t!==void 0&&g!=null&&f(t,["tuningTask","hyperparameters","batchSize"],g);const x=u(n,["learningRate"]);if(t!==void 0&&x!=null&&f(t,["tuningTask","hyperparameters","learningRate"],x),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function BC(n,t,i){const a={};let r=u(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=u(n,["validationDataset"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec"],N0(C))}else if(r==="PREFERENCE_TUNING"){const C=u(n,["validationDataset"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec"],N0(C))}const c=u(n,["tunedModelDisplayName"]);t!==void 0&&c!=null&&f(t,["tunedModelDisplayName"],c);const h=u(n,["description"]);t!==void 0&&h!=null&&f(t,["description"],h);let g=u(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=u(n,["epochCount"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(g==="PREFERENCE_TUNING"){const C=u(n,["epochCount"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let x=u(i,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const C=u(n,["learningRateMultiplier"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(x==="PREFERENCE_TUNING"){const C=u(n,["learningRateMultiplier"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let m=u(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const C=u(n,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(m==="PREFERENCE_TUNING"){const C=u(n,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let y=u(i,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=u(n,["adapterSize"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(y==="PREFERENCE_TUNING"){const C=u(n,["adapterSize"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(u(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const b=u(n,["labels"]);t!==void 0&&b!=null&&f(t,["labels"],b);const S=u(n,["beta"]);return t!==void 0&&S!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],S),a}function zC(n,t){const i={},a=u(n,["baseModel"]);a!=null&&f(i,["baseModel"],a);const r=u(n,["preTunedModel"]);r!=null&&f(i,["preTunedModel"],r);const c=u(n,["trainingDataset"]);c!=null&&WC(c);const h=u(n,["config"]);return h!=null&&VC(h,i),i}function qC(n,t){const i={},a=u(n,["baseModel"]);a!=null&&f(i,["baseModel"],a);const r=u(n,["preTunedModel"]);r!=null&&f(i,["preTunedModel"],r);const c=u(n,["trainingDataset"]);c!=null&&ZC(c,i,t);const h=u(n,["config"]);return h!=null&&BC(h,i,t),i}function jC(n,t){const i={},a=u(n,["name"]);return a!=null&&f(i,["_url","name"],a),i}function OC(n,t){const i={},a=u(n,["name"]);return a!=null&&f(i,["_url","name"],a),i}function FC(n,t,i){const a={},r=u(n,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(n,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const h=u(n,["filter"]);return t!==void 0&&h!=null&&f(t,["_query","filter"],h),a}function JC(n,t,i){const a={},r=u(n,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(n,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const h=u(n,["filter"]);return t!==void 0&&h!=null&&f(t,["_query","filter"],h),a}function YC(n,t){const i={},a=u(n,["config"]);return a!=null&&FC(a,i),i}function KC(n,t){const i={},a=u(n,["config"]);return a!=null&&JC(a,i),i}function XC(n,t){const i={},a=u(n,["sdkHttpResponse"]);a!=null&&f(i,["sdkHttpResponse"],a);const r=u(n,["nextPageToken"]);r!=null&&f(i,["nextPageToken"],r);const c=u(n,["tunedModels"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>Pg(g))),f(i,["tuningJobs"],h)}return i}function QC(n,t){const i={},a=u(n,["sdkHttpResponse"]);a!=null&&f(i,["sdkHttpResponse"],a);const r=u(n,["nextPageToken"]);r!=null&&f(i,["nextPageToken"],r);const c=u(n,["tuningJobs"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>uc(g))),f(i,["tuningJobs"],h)}return i}function $C(n,t){const i={},a=u(n,["name"]);a!=null&&f(i,["model"],a);const r=u(n,["name"]);return r!=null&&f(i,["endpoint"],r),i}function WC(n,t){const i={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(n,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(i,["examples","examples"],r)}return i}function ZC(n,t,i){const a={};let r=u(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const h=u(n,["gcsUri"]);t!==void 0&&h!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(r==="PREFERENCE_TUNING"){const h=u(n,["gcsUri"]);t!==void 0&&h!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],h)}let c=u(i,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const h=u(n,["vertexDatasetResource"]);t!==void 0&&h!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(c==="PREFERENCE_TUNING"){const h=u(n,["vertexDatasetResource"]);t!==void 0&&h!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],h)}if(u(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Pg(n,t){const i={},a=u(n,["sdkHttpResponse"]);a!=null&&f(i,["sdkHttpResponse"],a);const r=u(n,["name"]);r!=null&&f(i,["name"],r);const c=u(n,["state"]);c!=null&&f(i,["state"],eg(c));const h=u(n,["createTime"]);h!=null&&f(i,["createTime"],h);const g=u(n,["tuningTask","startTime"]);g!=null&&f(i,["startTime"],g);const x=u(n,["tuningTask","completeTime"]);x!=null&&f(i,["endTime"],x);const m=u(n,["updateTime"]);m!=null&&f(i,["updateTime"],m);const y=u(n,["description"]);y!=null&&f(i,["description"],y);const b=u(n,["baseModel"]);b!=null&&f(i,["baseModel"],b);const S=u(n,["_self"]);return S!=null&&f(i,["tunedModel"],$C(S)),i}function uc(n,t){const i={},a=u(n,["sdkHttpResponse"]);a!=null&&f(i,["sdkHttpResponse"],a);const r=u(n,["name"]);r!=null&&f(i,["name"],r);const c=u(n,["state"]);c!=null&&f(i,["state"],eg(c));const h=u(n,["createTime"]);h!=null&&f(i,["createTime"],h);const g=u(n,["startTime"]);g!=null&&f(i,["startTime"],g);const x=u(n,["endTime"]);x!=null&&f(i,["endTime"],x);const m=u(n,["updateTime"]);m!=null&&f(i,["updateTime"],m);const y=u(n,["error"]);y!=null&&f(i,["error"],y);const b=u(n,["description"]);b!=null&&f(i,["description"],b);const S=u(n,["baseModel"]);S!=null&&f(i,["baseModel"],S);const C=u(n,["tunedModel"]);C!=null&&f(i,["tunedModel"],C);const w=u(n,["preTunedModel"]);w!=null&&f(i,["preTunedModel"],w);const _=u(n,["supervisedTuningSpec"]);_!=null&&f(i,["supervisedTuningSpec"],_);const M=u(n,["preferenceOptimizationSpec"]);M!=null&&f(i,["preferenceOptimizationSpec"],M);const R=u(n,["tuningDataStats"]);R!=null&&f(i,["tuningDataStats"],R);const j=u(n,["encryptionSpec"]);j!=null&&f(i,["encryptionSpec"],j);const H=u(n,["partnerModelTuningSpec"]);H!=null&&f(i,["partnerModelTuningSpec"],H);const D=u(n,["customBaseModel"]);D!=null&&f(i,["customBaseModel"],D);const N=u(n,["experiment"]);N!=null&&f(i,["experiment"],N);const G=u(n,["labels"]);G!=null&&f(i,["labels"],G);const z=u(n,["outputUri"]);z!=null&&f(i,["outputUri"],z);const Q=u(n,["pipelineJob"]);Q!=null&&f(i,["pipelineJob"],Q);const Y=u(n,["serviceAccount"]);Y!=null&&f(i,["serviceAccount"],Y);const le=u(n,["tunedModelDisplayName"]);le!=null&&f(i,["tunedModelDisplayName"],le);const W=u(n,["veoTuningSpec"]);return W!=null&&f(i,["veoTuningSpec"],W),i}function e_(n,t){const i={},a=u(n,["sdkHttpResponse"]);a!=null&&f(i,["sdkHttpResponse"],a);const r=u(n,["name"]);r!=null&&f(i,["name"],r);const c=u(n,["metadata"]);c!=null&&f(i,["metadata"],c);const h=u(n,["done"]);h!=null&&f(i,["done"],h);const g=u(n,["error"]);return g!=null&&f(i,["error"],g),i}function N0(n,t){const i={},a=u(n,["gcsUri"]);a!=null&&f(i,["validationDatasetUri"],a);const r=u(n,["vertexDatasetResource"]);return r!=null&&f(i,["validationDatasetUri"],r),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t_ extends wn{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new _l(Cn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var a;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const r={tunedModelName:i.baseModel};!((a=i.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=i.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},i),{preTunedModel:r});return c.baseModel=void 0,await this.tuneInternal(c)}else{const r=Object.assign({},i);return await this.tuneInternal(r)}else{const r=Object.assign({},i),c=await this.tuneMldevInternal(r);let h="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?h=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(h=c.name.split("/operations/")[0]),{name:h,state:$u.JOB_STATE_QUEUED}}}}async getInternal(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=OC(t);return g=ne("{name}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>uc(y))}else{const m=jC(t);return g=ne("{name}",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>Pg(y))}}async listInternal(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=KC(t);return g=ne("tuningJobs",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=QC(y),S=new Qm;return Object.assign(S,b),S})}else{const m=YC(t);return g=ne("tunedModels",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=XC(y),S=new Qm;return Object.assign(S,b),S})}}async cancel(t){var i,a,r,c;let h,g="",x={};if(this.apiClient.isVertexAI()){const m=HC(t);return g=ne("{name}:cancel",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=PC(y),S=new $m;return Object.assign(S,b),S})}else{const m=LC(t);return g=ne("{name}:cancel",m._url),x=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:y.headers},S})),h.then(y=>{const b=GC(y),S=new $m;return Object.assign(S,b),S})}}async tuneInternal(t){var i,a;let r,c="",h={};if(this.apiClient.isVertexAI()){const g=qC(t,t);return c=ne("tuningJobs",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:x.headers},y})),r.then(x=>uc(x))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var i,a;let r,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=zC(t);return c=ne("tunedModels",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:x.headers},y})),r.then(x=>e_(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n_{async download(t,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const l_=1024*1024*8,i_=3,o_=1e3,a_=2,us="x-goog-upload-status";async function s_(n,t,i){var a;const r=await Vg(n,t,i),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[us])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function r_(n,t,i){var a;const r=await Vg(n,t,i),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[us])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const h=K0(c),g=new bc;return Object.assign(g,h),g}async function Vg(n,t,i){var a,r;let c=0,h=0,g=new Wu(new Response),x="upload";for(c=n.size;h<c;){const m=Math.min(l_,c-h),y=n.slice(h,h+m);h+m>=c&&(x+=", finalize");let b=0,S=o_;for(;b<i_&&(g=await i.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":String(h),"Content-Length":String(m)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[us]));)b++,await c_(S),S=S*a_;if(h+=m,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[us])!=="active")break;if(c<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function u_(n){return{size:n.size,type:n.type}}function c_(n){return new Promise(t=>setTimeout(t,n))}class d_{async upload(t,i,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await s_(t,i,a)}async uploadToFileSearchStore(t,i,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await r_(t,i,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await u_(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f_{create(t,i,a){return new h_(t,i,a)}}class h_{constructor(t,i,a){this.url=t,this.headers=i,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C0="x-goog-api-key";class p_{constructor(t){this.apiKey=t}async addAuthHeaders(t,i){if(t.get(C0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(C0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const m_="gl-node/";class g_{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new nt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=i.interactions,this._interactions}constructor(t){var i;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=t.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=t.apiKey;const a=cT(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new p_(this.apiKey);this.apiClient=new u2({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:m_+"web",uploader:new d_,downloader:new n_}),this.models=new A2(this.apiClient),this.live=new S2(this.apiClient,r,new f_),this.batches=new VS(this.apiClient),this.chats=new bE(this.models,this.apiClient),this.caches=new vE(this.apiClient),this.files=new ME(this.apiClient),this.operations=new R2(this.apiClient),this.authTokens=new F2(this.apiClient),this.tunings=new t_(this.apiClient),this.fileSearchStores=new Z2(this.apiClient)}}const Ac=()=>new g_({apiKey:"PLACEHOLDER_API_KEY"}),v_=async n=>{const t=Ac(),i=`Bn l mt Kin trc s trng (Chief Architect) dy dn kinh nghim ti Vit Nam. 
  Hy phn tch b h s kho st khch hng sau v a ra mt bn  xut chuyn mn gm:
  1. Core Concept:  tng thit k c bn da trn gu ca khch.
  2. Gii php cng nng: Ti u mt bng da trn din tch t ${n.arch.landStatus||""}.
  3. T vn vt liu & nh sng: Gi  cc loi vt liu c th (v d: , g, knh) ph hp vi ngn sch ${n.arch.budget}.
  4. Cnh bo k thut: Cc vn  cn lu  (hng nng, gi, phong thy).

  H s d n:
  - Kin trc: Phong cch ${n.arch.style}, mc ch ${n.arch.purpose}, thnh vin ${n.arch.members}.
  - Ni tht: Style ${n.interior.style}, vt liu u tin ${n.interior.materials}.
  - Sn vn: Style ${n.landscape.style}, nhu cu ${n.landscape.functions}.

  Hy vit bng ting Vit chuyn ngnh kin trc, sc tch, ng cp.`;try{return(await t.models.generateContent({model:"gemini-3-pro-preview",contents:i})).text}catch(a){return console.error("AI Analysis Error:",a),"H thng AI ang bo tr, vui lng th li sau."}},x_=n=>{var a,r;const t=Ac(),i=`Bn l "Tr l KTS AI" ca MINMAXHOUSE. 
  Bi cnh d n hin ti:
  - Tn: ${n.name}
  - a ch: ${n.address}
  - Din tch: t ${n.landArea}m2, XD ${n.buildArea}m2
  - Khch hng: ${n.clientName}, Phong cch: ${(a=n.designDetails)==null?void 0:a.arch.style}
  - Ngn sch: ${(r=n.designDetails)==null?void 0:r.arch.budget}

  Nhim v ca bn:
  1. H tr Designer gii quyt cc bi ton v mt bng, phi cnh.
  2. T vn quy chun xy dng v xu hng thit k mi nht.
  3. Phn bin cc  tng thit k  tm ra gii php ti u nht.
  
  Hy lun gi thi  chuyn nghip, sng to v thc t.`;return t.chats.create({model:"gemini-3-pro-preview",config:{systemInstruction:i,temperature:.7}})},y_=async n=>{const{prompt:t,style:i="Modern",aspectRatio:a="16:9",isHighQuality:r=!1,sourceImage:c}=n;r&&(await window.aistudio.hasSelectedApiKey()||await window.aistudio.openSelectKey());const h=Ac(),g=r?"gemini-3-pro-image-preview":"gemini-2.5-flash-image",x=`High-end professional architectural render, ${i} style, photorealistic, 8k resolution, cinematic lighting, masterpiece, ultra-detailed interior/exterior: `;try{const m={parts:[]};if(c){const S=c.split(",")[1],C=c.split(";")[0].split(":")[1];m.parts.push({inlineData:{data:S,mimeType:C}}),m.parts.push({text:`Based on this site photo, render a new design with these instructions: ${t}. Keep architectural structure but upgrade aesthetics to ${i} style.`})}else m.parts.push({text:`${x}${t}`});const y=await h.models.generateContent({model:g,contents:m,config:r?{imageConfig:{aspectRatio:a,imageSize:"1K"}}:{imageConfig:{aspectRatio:a}}});if(y.candidates&&y.candidates[0].content.parts){for(const b of y.candidates[0].content.parts)if(b.inlineData)return`data:image/png;base64,${b.inlineData.data}`}return null}catch(m){return console.error("Render Error:",m),null}},b_=[{id:"Modern",label:"Hin i",icon:""},{id:"Minimalism",label:"Ti gin",icon:""},{id:"Luxury",label:"Sang trng",icon:""},{id:"Indochine",label:"ng Dng",icon:""},{id:"Wabi-sabi",label:"Wabi-sabi",icon:""},{id:"Neo Classical",label:"Tn c in",icon:""},{id:"Industrial",label:"Cng nghip",icon:""}],T_=[{id:"16:9",label:"16:9 (Ngang)"},{id:"4:3",label:"4:3 (Va)"},{id:"1:1",label:"1:1 (Vung)"},{id:"9:16",label:"9:16 (Dc)"}],Bg=({taskId:n,onClose:t,user:i})=>{const[a,r]=U.useState("info"),[c,h]=U.useState(ln.SITE),[g,x]=U.useState(""),[m,y]=U.useState("Modern"),[b,S]=U.useState("16:9"),[C,w]=U.useState(!1),[_,M]=U.useState(!1),[R,j]=U.useState(null),[H,D]=U.useState(null),[N,G]=U.useState(()=>tT.filter(ee=>ee.taskId===n)),z=U.useRef(null),Q=ut.find(ee=>ee.id===n);if(!Q)return null;const Y=Y0.find(ee=>ee.id===Q.projectId),le=J0.find(ee=>ee.id===Q.assigneeId),W=N.filter(ee=>ee.type===c),ae=async()=>{if(!g&&!H)return;M(!0);const ee=H?`Transform this architectural photo into ${m} style. ${g}. Maintain structural integrity but upgrade all materials, lighting, and furniture.`:`${g}`,q=await y_({prompt:ee||`Render a high-end ${m} architectural space`,style:m,aspectRatio:b,isHighQuality:C,sourceImage:H||void 0});q&&j(q),M(!1)},ue=ee=>{var Z;const q=(Z=ee.target.files)==null?void 0:Z[0];if(q){const re=new FileReader;re.onloadend=()=>{D(re.result)},re.readAsDataURL(q)}},Ae=()=>{if(!R)return;const ee={id:`ai-${Date.now()}`,taskId:n,url:R,type:ln.AI_GEN,note:`AI Render - Style ${m}`,isFinal:!1};G(q=>[ee,...q]),alert(" lu nh AI vo th vin d n!"),r("images"),h(ln.AI_GEN)};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-md",children:d.jsxs("div",{className:"bg-white w-full max-w-6xl h-[92vh] rounded-[3rem] shadow-2xl overflow-hidden flex flex-col animate-in zoom-in duration-300",children:[d.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-start bg-slate-50/50",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[d.jsx("span",{className:"px-3 py-1 bg-amber-100 text-amber-700 text-[10px] font-black uppercase tracking-widest rounded-full",children:Q.phase}),d.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-[10px] font-black uppercase tracking-widest rounded-full",children:Q.status}),Y&&d.jsxs("span",{className:"text-xs font-bold text-slate-400",children:["/ ",Y.name]})]}),d.jsx("h2",{className:"text-2xl md:text-3xl font-black text-slate-900 leading-tight",children:Q.title})]}),d.jsx("button",{onClick:t,className:"p-3 hover:bg-white rounded-2xl transition-all shadow-sm border border-transparent hover:border-slate-200",children:d.jsx("svg",{className:"w-6 h-6 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("div",{className:"flex border-b border-slate-100 px-8 space-x-10 bg-white overflow-x-auto no-scrollbar shrink-0",children:["info","images","ai-studio","comments"].map(ee=>d.jsxs("button",{onClick:()=>r(ee),className:`py-6 text-xs font-black uppercase tracking-[0.2em] border-b-2 transition-all whitespace-nowrap flex items-center ${a===ee?"border-slate-900 text-slate-900":"border-transparent text-slate-300 hover:text-slate-500"}`,children:[ee==="ai-studio"&&d.jsx("span",{className:"mr-2 text-indigo-500",children:""}),ee==="info"?"Chi tit":ee==="images"?"Hnh nh":ee==="ai-studio"?"AI Render Studio":"Tho lun"]},ee))}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-8 bg-white min-h-0 custom-scrollbar",children:[a==="info"&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Ni dung thc hin"}),d.jsxs("p",{className:"text-slate-700 leading-relaxed font-medium bg-slate-50 p-6 rounded-3xl italic",children:['"',Q.description,'"']})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-8 pt-8 border-t border-slate-100",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:" u tin"}),d.jsx("p",{className:`font-black uppercase tracking-widest text-sm ${Q.priority===No.URGENT?"text-red-500":"text-blue-500"}`,children:Q.priority})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Phin bn sa li"}),d.jsxs("p",{className:"font-black text-slate-800 text-sm",children:["V",Q.revisionCount]})]})]})]}),d.jsxs("div",{className:"bg-slate-950 p-8 rounded-[2.5rem] text-white space-y-8 shadow-2xl relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-amber-500/10 rounded-full -mr-16 -mt-16 blur-3xl"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-[10px] font-black text-amber-500 uppercase tracking-widest mb-6",children:"Designer ph trch"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("img",{src:le==null?void 0:le.avatar,className:"w-14 h-14 rounded-2xl border-2 border-white/10 shadow-xl object-cover",alt:""}),d.jsxs("div",{children:[d.jsx("p",{className:"font-black text-lg",children:le==null?void 0:le.name}),d.jsx("p",{className:"text-[10px] text-white/50 uppercase font-black tracking-widest",children:le?El[le.role]:""})]})]})]}),d.jsxs("div",{className:"space-y-4 pt-8 border-t border-white/5",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-[10px] font-black text-white/30 uppercase",children:"Bt u"}),d.jsx("span",{className:"font-bold text-sm",children:Q.startDate})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-[10px] font-black text-white/30 uppercase",children:"Hn cht"}),d.jsx("span",{className:"font-black text-sm text-red-400 uppercase tracking-widest",children:Q.deadline})]})]})]})]}),a==="ai-studio"&&d.jsxs("div",{className:"h-full flex flex-col lg:flex-row gap-8 animate-in fade-in duration-500",children:[d.jsxs("div",{className:"w-full lg:w-80 space-y-6 flex flex-col shrink-0",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Phong cch kin trc"}),d.jsx("div",{className:"grid grid-cols-2 gap-2",children:b_.map(ee=>d.jsxs("button",{onClick:()=>y(ee.id),className:`p-3 rounded-2xl border-2 text-[10px] font-black uppercase transition-all flex flex-col items-center gap-1 ${m===ee.id?"border-indigo-500 bg-indigo-50 text-indigo-700 shadow-md":"border-slate-50 bg-slate-50 text-slate-400 hover:border-slate-200"}`,children:[d.jsx("span",{className:"text-lg",children:ee.icon}),ee.label]},ee.id))})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"T l khung hnh"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:T_.map(ee=>d.jsx("button",{onClick:()=>S(ee.id),className:`px-3 py-2 rounded-xl border-2 text-[9px] font-black uppercase transition-all ${b===ee.id?"border-indigo-500 bg-indigo-600 text-white":"border-slate-100 text-slate-400 hover:bg-slate-50"}`,children:ee.label},ee.id))})]}),d.jsx("div",{className:"space-y-3",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Render cht lng cao (Pro)"}),d.jsx("button",{onClick:()=>w(!C),className:`w-10 h-6 rounded-full transition-all relative ${C?"bg-indigo-600":"bg-slate-200"}`,children:d.jsx("div",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-all ${C?"left-5":"left-1"}`})})]})}),d.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-100",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"M t chi tit (AI Prompt)"}),d.jsx("textarea",{value:g,onChange:ee=>x(ee.target.value),placeholder:"M t nh sng, vt liu c th... V d: 'Tng p  Marble, nh sng chiu t ht qua ca s, thm nhiu cy xanh...'",className:"w-full bg-slate-50 border-2 border-slate-100 rounded-2xl p-4 text-sm font-medium focus:border-indigo-500 outline-none h-32 resize-none transition-all"}),d.jsx("button",{onClick:ae,disabled:_||!g&&!H,className:"w-full py-5 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest hover:bg-indigo-600 disabled:opacity-50 shadow-xl transition-all active:scale-95 flex items-center justify-center gap-3",children:_?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:"ang kin to..."})]}):d.jsxs(d.Fragment,{children:[d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),d.jsx("span",{children:"Bt u Render"})]})})]})]}),d.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[d.jsxs("div",{className:"bg-slate-50 rounded-[2.5rem] border-2 border-dashed border-slate-200 flex-1 relative overflow-hidden flex items-center justify-center group/canvas",children:[R?d.jsxs("div",{className:"w-full h-full relative group",children:[d.jsx("img",{src:R,className:"w-full h-full object-contain",alt:"AI Render"}),d.jsxs("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-4",children:[d.jsxs("div",{className:"flex gap-4",children:[d.jsx("button",{onClick:()=>j(null),className:"px-6 py-3 bg-white text-slate-900 rounded-xl font-black text-[10px] uppercase tracking-widest shadow-xl",children:"Hy kt qu"}),d.jsx("button",{onClick:Ae,className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-black text-[10px] uppercase tracking-widest shadow-xl",children:"Lu vo th vin"})]}),d.jsxs("p",{className:"text-white text-[10px] font-black uppercase tracking-widest",children:["Kch thc: 1K HD (",b,")"]})]})]}):d.jsx("div",{className:"text-center p-12 max-w-sm",children:H?d.jsxs("div",{className:"relative group",children:[d.jsx("img",{src:H,className:"max-h-[350px] rounded-3xl shadow-2xl mx-auto border-8 border-white",alt:"Reference"}),d.jsx("button",{onClick:()=>D(null),className:"absolute -top-4 -right-4 p-3 bg-red-500 text-white rounded-full shadow-lg hover:scale-110 transition-transform active:scale-95",title:"Xa nh ngun",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),d.jsxs("div",{className:"mt-4 inline-flex items-center px-4 py-2 bg-indigo-50 text-indigo-600 rounded-full text-[10px] font-black uppercase tracking-widest",children:[d.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full mr-2 animate-pulse"}),"ang dng lm bi cnh gc"]})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-24 h-24 bg-white rounded-3xl shadow-xl flex items-center justify-center mx-auto mb-8 text-indigo-500 animate-pulse",children:d.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),d.jsx("h4",{className:"text-xl font-black text-slate-800 uppercase tracking-tight mb-2",children:"Architectural Canvas"}),d.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest leading-loose",children:"Chn mt nh hin trng hoc nh  tng t th vin nhim v  AI render da trn bi cnh thc t."})]})}),_&&d.jsxs("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md flex flex-col items-center justify-center z-20",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"w-20 h-20 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("svg",{className:"w-8 h-8 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]}),d.jsx("p",{className:"text-white font-black uppercase tracking-[0.4em] text-xs mt-8 animate-pulse text-center",children:"AI ang kin to khng gian mi..."}),d.jsx("p",{className:"text-white/40 text-[9px] uppercase font-bold mt-2 tracking-widest",children:"Thi gian d kin: 15-30 giy"})]})]}),d.jsxs("div",{className:"shrink-0 bg-slate-50/50 p-6 rounded-[2rem] border border-slate-100",children:[d.jsxs("div",{className:"flex justify-between items-center mb-5",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("h5",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Th vin nh ngun (Render from Image)"}),d.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-600 rounded text-[8px] font-black uppercase",children:"Chuyn dng"})]}),d.jsxs("button",{onClick:()=>{var ee;return(ee=z.current)==null?void 0:ee.click()},className:"px-5 py-2.5 bg-white text-slate-900 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-slate-900 hover:text-white transition-all border-2 border-slate-100 shadow-sm flex items-center",children:[d.jsx("svg",{className:"w-3.5 h-3.5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Ti nh tham kho"]}),d.jsx("input",{type:"file",ref:z,className:"hidden",accept:"image/*",onChange:ue})]}),d.jsxs("div",{className:"flex gap-4 overflow-x-auto no-scrollbar pb-2",children:[N.map(ee=>d.jsxs("button",{onClick:()=>D(H===ee.url?null:ee.url),className:`h-24 aspect-square rounded-2xl overflow-hidden border-4 transition-all shrink-0 relative group shadow-sm ${H===ee.url?"border-indigo-500 scale-105 shadow-xl z-10":"border-white opacity-60 hover:opacity-100 hover:scale-105"}`,children:[d.jsx("img",{src:ee.url,className:"w-full h-full object-cover",alt:""}),d.jsx("div",{className:"absolute inset-0 bg-indigo-600/20 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:d.jsx("div",{className:"bg-white/90 p-2 rounded-lg text-indigo-600",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M12 4v16m8-8H4"})})})}),H===ee.url&&d.jsx("div",{className:"absolute top-1 right-1 bg-indigo-500 text-white p-1 rounded-md",children:d.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})})]},ee.id)),N.length===0&&d.jsx("div",{className:"h-24 flex items-center justify-center border-2 border-dashed border-slate-200 rounded-2xl px-12 w-full bg-white/50",children:d.jsx("p",{className:"text-[10px] text-slate-300 font-black uppercase tracking-widest text-center",children:"Cha c nh t liu. Hy ti ln nh hin trng hoc moodboard  tng."})})]})]})]})]}),a==="images"&&d.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[d.jsx("div",{className:"flex gap-4 overflow-x-auto no-scrollbar border-b border-slate-50 pb-4",children:Object.values(ln).map(ee=>d.jsxs("button",{onClick:()=>h(ee),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap ${c===ee?"bg-slate-900 text-white shadow-lg":"bg-slate-50 text-slate-400 hover:bg-slate-100"}`,children:[ee," (",N.filter(q=>q.type===ee).length,")"]},ee))}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[W.map(ee=>d.jsxs("div",{className:"relative group rounded-[2rem] overflow-hidden border border-slate-100 shadow-xl bg-white aspect-square",children:[d.jsx("img",{src:ee.url,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",alt:""}),d.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center space-x-3",children:[d.jsx("button",{className:"p-3 bg-white rounded-2xl text-slate-900 shadow-xl hover:scale-110 transition-transform",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})})}),d.jsx("button",{onClick:()=>{D(ee.url),r("ai-studio")},className:"p-3 bg-indigo-500 rounded-2xl text-white shadow-xl hover:scale-110 transition-transform",title:"S dng lm nh gc AI",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]}),ee.type===ln.AI_GEN&&d.jsx("div",{className:"absolute top-4 left-4 px-3 py-1 bg-indigo-600 text-white text-[8px] font-black uppercase rounded-full shadow-lg",children:"AI Generated"})]},ee.id)),W.length===0&&d.jsx("div",{className:"col-span-full py-20 text-center bg-slate-50 rounded-[2rem] border-2 border-dashed border-slate-100",children:d.jsx("p",{className:"text-xs font-black text-slate-300 uppercase tracking-widest",children:"Khng c hnh nh trong mc ny"})})]})]})]})]})})},S_=({user:n,projects:t,users:i,onUpdateProject:a,onDeleteProject:r})=>{var re,Ee,Re,I,X,te,ie;const{id:c}=ob(),h=t.find($=>$.id===c),[g,x]=U.useState(null),[m,y]=U.useState("client"),[b,S]=U.useState(!1),[C,w]=U.useState(""),[_,M]=U.useState([]),[R,j]=U.useState(!1),H=U.useRef(null),[D,N]=U.useState(null),[G,z]=U.useState(null),[Q,Y]=U.useState("info");U.useRef(null);const le=n.role===Me.OWNER||h&&(h.pmId===n.id||ut.some($=>$.projectId===h.id&&$.assigneeId===n.id));if(U.useEffect(()=>{h&&!D&&N(x_(h))},[h]),U.useEffect(()=>{var $;($=H.current)==null||$.scrollIntoView({behavior:"smooth"})},[_]),!h)return d.jsx("div",{className:"p-10 text-center font-bold text-slate-400",children:"Khng tm thy d n"});const W=ut.filter($=>$.projectId===h.id),ae=i.find($=>$.id===h.pmId),ue=async()=>{if(!h.designDetails)return;S(!0),y("ai");const $=await v_(h.designDetails);a&&a({...h,aiConceptSuggestion:$}),S(!1)},Ae=async $=>{if($.preventDefault(),!C.trim()||!D||R)return;const fe=C.trim();w(""),M(ve=>[...ve,{role:"user",text:fe}]),j(!0);try{const ve=await D.sendMessage({message:fe});M($e=>[...$e,{role:"model",text:ve.text}])}catch{M($e=>[...$e,{role:"model",text:"Li kt ni: Tr l KTS khng th tr li lc ny."}])}finally{j(!1)}},ee=($="info")=>{const fe=h.designDetails||{arch:{purpose:"",members:"",habits:"",spaces:"",style:"",budget:"",special:"",constructionTime:"",landStatus:""},interior:{scope:"",style:"",usage:"",materials:"",budget:"",other:""},landscape:{area:"",style:"",functions:"",maintenance:"",lighting:"",budget:""},documents:{status:"",notes:"",landDeedImageUrl:"",referenceImageUrls:[],additionalPhotos:[],regulations:""}};z({...h,designDetails:fe}),Y($)},q=$=>{$.preventDefault(),G&&a&&(a(G),z(null))},Z=($,fe,ve)=>{G!=null&&G.designDetails&&z({...G,designDetails:{...G.designDetails,[$]:{...G.designDetails[$],[fe]:ve}}})};return d.jsxs("div",{className:"space-y-6 md:space-y-8 pb-10 animate-in fade-in duration-500",children:[d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(Nl,{to:"/projects",className:"p-3 bg-white border border-slate-200 rounded-2xl text-slate-400 hover:text-amber-600 shadow-sm transition-all",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl md:text-3xl font-black text-slate-900 tracking-tight",children:h.name}),d.jsxs("p",{className:"text-[10px] md:text-xs font-bold text-slate-400 uppercase tracking-[0.2em]",children:[h.type,"  ",h.address]})]})]}),le&&d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs("button",{onClick:()=>y("chat"),className:"p-2 md:px-6 md:py-3 bg-indigo-600 text-white rounded-2xl font-black text-[10px] md:text-xs uppercase tracking-widest shadow-xl hover:bg-indigo-700 transition-all flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),d.jsx("span",{className:"hidden sm:inline",children:"Hi Tr l KTS"})]}),d.jsx("button",{onClick:()=>ee("info"),className:"p-2 md:px-6 md:py-3 bg-amber-600 text-white rounded-2xl font-black text-[10px] md:text-xs uppercase tracking-widest shadow-xl hover:bg-amber-700 transition-all",children:"Sa h s"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[d.jsxs("section",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-xl overflow-hidden flex flex-col",children:[d.jsx("div",{className:"flex border-b border-slate-50 bg-slate-50/50 overflow-x-auto no-scrollbar shrink-0",children:[{id:"client",label:"Khch hng",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0z"},{id:"arch",label:"Kin trc",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16"},{id:"ai",label:"Phn tch AI",icon:"M13 10V3L4 14h7v7l9-11h-7z"},{id:"chat",label:"Tr l KTS",icon:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"}].map($=>d.jsxs("button",{onClick:()=>y($.id),className:`flex-1 min-w-[120px] py-5 text-[10px] font-black uppercase tracking-widest flex items-center justify-center space-x-2 border-b-2 transition-all ${m===$.id?"bg-white border-slate-900 text-slate-900":"border-transparent text-slate-400 hover:bg-white"}`,children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:$.icon})}),d.jsx("span",{children:$.label})]},$.id))}),d.jsxs("div",{className:"p-8 min-h-[500px] max-h-[600px] overflow-y-auto custom-scrollbar",children:[m==="client"&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest border-l-4 border-amber-500 pl-3",children:"Thng tin nh danh"}),d.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl space-y-4",children:[d.jsxs("div",{className:"flex justify-between border-b border-slate-100 pb-2",children:[d.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Khch hng"}),d.jsx("span",{className:"text-sm font-bold text-slate-800",children:h.clientName})]}),d.jsxs("div",{className:"flex justify-between border-b border-slate-100 pb-2",children:[d.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"in thoi"}),d.jsx("span",{className:"text-sm font-bold text-amber-600",children:h.clientPhone})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest border-l-4 border-blue-500 pl-3",children:"a ch & Php l"}),d.jsx("div",{className:"bg-slate-50 p-6 rounded-3xl min-h-[140px] space-y-4",children:d.jsx("p",{className:"text-sm text-slate-600 leading-relaxed font-medium",children:h.clientAddress||"Cha cp nht a ch"})})]})]}),m==="arch"&&d.jsx("div",{className:"space-y-8",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100",children:[d.jsx("h4",{className:"text-[10px] font-black text-amber-600 uppercase mb-4",children:"Thng tin xy dng"}),d.jsxs("ul",{className:"space-y-3 text-sm",children:[d.jsxs("li",{className:"flex justify-between",children:[d.jsx("span",{className:"text-slate-400 font-bold",children:"D kin xy:"})," ",d.jsx("span",{className:"font-bold text-slate-800",children:((re=h.designDetails)==null?void 0:re.arch.constructionTime)||"N/A"})]}),d.jsxs("li",{className:"flex justify-between",children:[d.jsx("span",{className:"text-slate-400 font-bold",children:"Phong cch:"})," ",d.jsx("span",{className:"font-bold text-amber-600 uppercase",children:((Ee=h.designDetails)==null?void 0:Ee.arch.style)||"N/A"})]})]})]}),d.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100",children:[d.jsx("h4",{className:"text-[10px] font-black text-blue-600 uppercase mb-4",children:"Gia nh & Nhu cu"}),d.jsx("p",{className:"text-sm font-medium text-slate-700 leading-relaxed",children:((Re=h.designDetails)==null?void 0:Re.arch.spaces)||"Cha cp nht nhu cu khng gian chnh."})]})]})}),m==="ai"&&d.jsx("div",{className:"space-y-6",children:b?d.jsxs("div",{className:"flex flex-col items-center py-20",children:[d.jsx("div",{className:"w-10 h-10 border-4 border-amber-500 border-t-transparent rounded-full animate-spin mb-4"}),d.jsx("p",{className:"text-xs font-black text-slate-400 uppercase",children:"AI ang lp phng n..."})]}):h.aiConceptSuggestion?d.jsx("div",{className:"bg-slate-50 p-8 rounded-[2rem] border border-slate-100 prose prose-slate max-w-none text-sm leading-relaxed whitespace-pre-wrap font-medium text-slate-700",children:h.aiConceptSuggestion}):d.jsxs("div",{className:"text-center py-20 bg-slate-50 rounded-[2rem] border-2 border-dashed border-slate-200",children:[d.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-xl flex items-center justify-center mx-auto mb-6 text-amber-500",children:d.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),d.jsx("p",{className:"text-slate-400 font-black uppercase text-[10px] tracking-[0.2em] mb-4",children:"Gemini 3 Pro  sn sng phn tch h s"}),d.jsx("button",{onClick:ue,className:"px-10 py-4 bg-slate-900 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl hover:bg-amber-600 transition-all",children:"Phn tch chuyn su"})]})}),m==="chat"&&d.jsxs("div",{className:"h-full flex flex-col space-y-4",children:[d.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 pb-4",children:[_.length===0&&d.jsxs("div",{className:"text-center py-10",children:[d.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center mx-auto mb-4 text-indigo-500",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Hi AI v vt liu, gii php mt bng hoc  tng decor cho d n ny."})]}),_.map(($,fe)=>d.jsx("div",{className:`flex ${$.role==="user"?"justify-end":"justify-start"}`,children:d.jsx("div",{className:`max-w-[80%] p-4 rounded-2xl text-sm leading-relaxed ${$.role==="user"?"bg-slate-900 text-white":"bg-slate-100 text-slate-800"}`,children:$.text})},fe)),R&&d.jsx("div",{className:"flex justify-start",children:d.jsxs("div",{className:"bg-slate-100 p-4 rounded-2xl flex space-x-1",children:[d.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"}),d.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-75"}),d.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-150"})]})}),d.jsx("div",{ref:H})]}),d.jsxs("form",{onSubmit:Ae,className:"relative mt-4 shrink-0",children:[d.jsx("input",{type:"text",value:C,onChange:$=>w($.target.value),placeholder:"Hi tr l KTS AI...",className:"w-full bg-slate-50 border-2 border-slate-100 rounded-2xl py-4 pl-6 pr-14 text-sm font-medium focus:border-indigo-500 outline-none transition-all"}),d.jsx("button",{type:"submit",disabled:R||!C.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-indigo-600 text-white rounded-xl shadow-lg disabled:opacity-50",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})]})]})]})]}),d.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-xl",children:[d.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase tracking-tight mb-8",children:"Cng vic d n"}),d.jsx("div",{className:"divide-y divide-slate-50",children:W.length>0?W.map($=>{const fe=i.find(ve=>ve.id===$.assigneeId);return d.jsxs("div",{className:"py-6 flex justify-between items-center group cursor-pointer",onClick:()=>x($.id),children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("h4",{className:"font-bold text-slate-800 group-hover:text-amber-600 transition-all",children:$.title}),d.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[$.phase,"  V",$.revisionCount]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${$.status===Eo.DONE?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:$.status}),d.jsx("img",{src:fe==null?void 0:fe.avatar,className:"w-8 h-8 rounded-xl object-cover",alt:""})]})]},$.id)}):d.jsx("div",{className:"py-10 text-center text-slate-300 font-bold uppercase text-xs tracking-widest",children:"Cha c cng vic no c giao"})})]})]}),d.jsx("div",{className:"space-y-8",children:d.jsxs("section",{className:"bg-slate-950 text-white p-8 rounded-[2.5rem] shadow-2xl relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-amber-500/10 rounded-full -mr-16 -mt-16 blur-3xl"}),d.jsxs("div",{className:"relative z-10 space-y-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-[10px] font-black text-amber-500 uppercase tracking-[0.3em] mb-6",children:"Qun l d n (PM)"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("img",{src:ae==null?void 0:ae.avatar,className:"w-14 h-14 rounded-2xl border-2 border-white/10 object-cover",alt:""}),d.jsxs("div",{children:[d.jsx("p",{className:"font-black text-lg",children:ae==null?void 0:ae.name}),d.jsx("p",{className:"text-[9px] text-white/50 uppercase tracking-widest font-bold mt-1",children:ae==null?void 0:ae.email})]})]})]}),d.jsxs("div",{className:"pt-8 border-t border-white/5",children:[d.jsx("h2",{className:"text-[10px] font-black text-amber-500 uppercase tracking-[0.3em] mb-6",children:"Thng s XD"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-white/5 p-4 rounded-3xl border border-white/5 text-center",children:[d.jsx("p",{className:"text-[9px] text-white/40 font-black uppercase mb-1",children:"D.Tch t"}),d.jsxs("p",{className:"text-lg font-black",children:[h.landArea," m"]})]}),d.jsxs("div",{className:"bg-white/5 p-4 rounded-3xl border border-white/5 text-center",children:[d.jsx("p",{className:"text-[9px] text-white/40 font-black uppercase mb-1",children:"D.Tch XD"}),d.jsxs("p",{className:"text-lg font-black",children:[h.buildArea," m"]})]})]})]}),d.jsxs("div",{className:"pt-8 border-t border-white/5",children:[d.jsx("h2",{className:"text-[10px] font-black text-amber-500 uppercase tracking-[0.3em] mb-6",children:"Lu tr m my"}),d.jsxs("a",{href:h.driveUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-4 bg-white/5 border border-white/10 rounded-2xl hover:bg-white/10 transition-all group",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("svg",{className:"w-6 h-6 text-blue-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2-2v10a2 2 0 002 2z"})}),d.jsx("span",{className:"text-xs font-bold text-white/80 group-hover:text-white",children:"Google Drive"})]}),d.jsx("svg",{className:"w-4 h-4 text-white/30 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7-7 7"})})]})]})]})]})})]}),G&&d.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-slate-900/60 backdrop-blur-md",children:d.jsxs("div",{className:"bg-white w-full max-w-4xl h-[95vh] sm:h-[90vh] rounded-t-[2rem] sm:rounded-[2.5rem] shadow-2xl p-0 overflow-hidden flex flex-col animate-in slide-in-from-bottom duration-300",children:[d.jsxs("div",{className:"p-6 md:p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[d.jsx("h2",{className:"text-xl md:text-2xl font-black text-slate-900 uppercase",children:"Cp nht h s d n"}),d.jsx("button",{onClick:()=>z(null),className:"p-3 text-slate-300 hover:text-slate-900 transition-all",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("div",{className:"flex border-b border-slate-50 px-4 md:px-8 bg-white overflow-x-auto no-scrollbar scroll-smooth shrink-0",children:[{id:"info",label:"Chung",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0z"},{id:"arch",label:"Kin trc",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16"},{id:"interior",label:"Ni tht",icon:"M3 12l2-2m0 0l7-7 7 7"},{id:"landscape",label:"Sn vn",icon:"M12 19l9 2-9-18-9 18 9-2z"},{id:"docs",label:"Ti liu",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2"}].map($=>d.jsxs("button",{onClick:()=>Y($.id),className:`flex-1 min-w-[80px] py-4 text-[10px] font-black uppercase tracking-widest border-b-2 transition-all flex items-center justify-center space-x-2 ${Q===$.id?"border-amber-600 text-amber-600":"border-transparent text-slate-400 hover:text-slate-600"}`,children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:$.icon})}),d.jsx("span",{children:$.label})]},$.id))}),d.jsxs("form",{onSubmit:q,className:"flex-1 overflow-y-auto p-6 md:p-8 bg-slate-50/20 space-y-8 custom-scrollbar",children:[Q==="info"&&d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 animate-in fade-in",children:[d.jsxs("div",{className:"sm:col-span-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Tn D n"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 font-bold",value:G.name,onChange:$=>z({...G,name:$.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Tn khch hng"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 font-bold",value:G.clientName,onChange:$=>z({...G,clientName:$.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"S in thoi"}),d.jsx("input",{type:"tel",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 font-mono",value:G.clientPhone,onChange:$=>z({...G,clientPhone:$.target.value})})]})]}),Q==="arch"&&d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 animate-in fade-in",children:[d.jsxs("div",{className:"sm:col-span-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Mc ch s dng"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500",value:(I=G.designDetails)==null?void 0:I.arch.purpose,onChange:$=>Z("arch","purpose",$.target.value)})]}),d.jsxs("div",{className:"sm:col-span-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Nhu cu khng gian"}),d.jsx("textarea",{className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 h-24 text-sm",value:(X=G.designDetails)==null?void 0:X.arch.spaces,onChange:$=>Z("arch","spaces",$.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Phong cch"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 font-black text-amber-600",value:(te=G.designDetails)==null?void 0:te.arch.style,onChange:$=>Z("arch","style",$.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Ngn sch"}),d.jsx("input",{type:"text",className:"w-full bg-white border-2 border-slate-100 rounded-xl p-3 focus:border-amber-500 font-bold",value:(ie=G.designDetails)==null?void 0:ie.arch.budget,onChange:$=>Z("arch","budget",$.target.value)})]})]})]}),d.jsxs("div",{className:"p-6 md:p-8 border-t border-slate-100 bg-white flex gap-4 shrink-0",children:[d.jsx("button",{type:"button",onClick:()=>z(null),className:"flex-1 py-4 text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Hy"}),d.jsx("button",{onClick:q,className:"flex-[2] py-4 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest text-[10px] shadow-xl",children:"Lu thay i"})]})]})}),g&&d.jsx(Bg,{taskId:g,onClose:()=>x(null),user:n})]})},E_=({user:n,projects:t,users:i})=>{const[a,r]=U.useState("all"),[c,h]=U.useState(null),g=Object.values(So),x=ut.filter(y=>a==="all"||y.projectId===a),m=y=>{switch(y){case"Khn cp":return"bg-red-500";case"Cao":return"bg-orange-500";case"Bnh thng":return"bg-blue-500";default:return"bg-gray-400"}};return d.jsxs("div",{className:"h-[calc(100vh-8rem)] md:h-[calc(100vh-10rem)] flex flex-col space-y-4",children:[d.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 px-2 md:px-0",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl md:text-2xl font-black text-slate-900 uppercase",children:"Quy trnh thit k"}),d.jsx("p",{className:"text-slate-500 text-[10px] md:text-sm uppercase tracking-widest font-bold",children:"Qun l giai on theo Kanban"})]}),d.jsx("div",{className:"w-full md:w-auto",children:d.jsxs("select",{value:a,onChange:y=>r(y.target.value),className:"w-full md:w-auto border-gray-200 rounded-xl text-xs font-bold focus:ring-amber-500 p-3 border bg-white shadow-sm min-w-[200px] outline-none appearance-none",children:[d.jsx("option",{value:"all",children:"Tt c d n"}),t.map(y=>d.jsx("option",{value:y.id,children:y.name},y.id))]})})]}),d.jsx("div",{className:"flex-1 flex space-x-4 overflow-x-auto pb-6 px-2 snap-x snap-mandatory no-scrollbar md:scroll-auto",children:g.map(y=>d.jsxs("div",{className:"flex-shrink-0 w-[85vw] sm:w-80 flex flex-col bg-slate-100/60 rounded-2xl md:rounded-3xl border border-slate-100/50 snap-center",children:[d.jsx("div",{className:"p-4 md:p-5 flex items-center justify-between sticky top-0 bg-slate-100/60 backdrop-blur-sm rounded-t-3xl z-10",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("h3",{className:"font-black text-slate-700 text-xs md:text-sm uppercase tracking-widest",children:y}),d.jsx("span",{className:"ml-2 bg-white px-2 py-0.5 rounded-lg text-[9px] md:text-xs font-black text-slate-400 border border-slate-100 shadow-sm",children:x.filter(b=>b.phase===y).length})]})}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-4 space-y-4 pb-10 custom-scrollbar",children:[x.filter(b=>b.phase===y).map(b=>{const S=i.find(w=>w.id===b.assigneeId),C=t.find(w=>w.id===b.projectId);return d.jsxs("div",{onClick:()=>h(b.id),className:"bg-white p-4 rounded-xl md:rounded-2xl shadow-sm border border-transparent hover:border-amber-300 hover:shadow-lg transition-all active:scale-[0.97] group",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${m(b.priority)}`}),d.jsxs("span",{className:"text-[9px] text-slate-300 font-mono font-bold",children:["#",C==null?void 0:C.code]})]}),d.jsx("h4",{className:"font-bold text-slate-800 text-xs md:text-sm mb-1 line-clamp-2 group-hover:text-amber-600 transition-colors uppercase tracking-tight",children:b.title}),d.jsx("p",{className:"text-[10px] text-slate-400 mb-4 truncate font-bold uppercase",children:C==null?void 0:C.name}),d.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t border-slate-50",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("img",{src:S==null?void 0:S.avatar,className:"w-6 h-6 rounded-lg border-2 border-white shadow-sm object-cover",alt:""}),d.jsx("span",{className:"ml-2 text-[10px] font-bold text-slate-500 truncate max-w-[80px]",children:S==null?void 0:S.name.split(" ").pop()})]}),d.jsxs("div",{className:"flex items-center text-[9px] font-black text-red-500 uppercase",children:[d.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),b.deadline.split("-").slice(1).join("/")]})]})]},b.id)}),x.filter(b=>b.phase===y).length===0&&d.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-slate-300",children:[d.jsx("svg",{className:"w-10 h-10 mb-2 opacity-20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),d.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Trng"})]})]})]},y))}),c&&d.jsx(Bg,{taskId:c,onClose:()=>h(null),user:n})]})},N_=({user:n,projects:t})=>{const i=Array.from({length:31},(r,c)=>c+1);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("header",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Lch lm vic"}),d.jsx("p",{className:"text-gray-500",children:"Theo di thi hn v cc s kin quan trng"})]}),d.jsxs("div",{className:"flex bg-white rounded-xl shadow-sm border border-gray-100 p-1",children:[d.jsx("button",{className:"px-4 py-2 bg-amber-600 text-white text-sm font-bold rounded-lg shadow-md",children:"Thng"}),d.jsx("button",{className:"px-4 py-2 text-gray-500 text-sm font-bold rounded-lg",children:"Tun"})]})]}),d.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-xl overflow-hidden",children:[d.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-slate-50",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Thng 3, 2024"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{className:"p-2 hover:bg-gray-200 rounded-lg",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),d.jsx("button",{className:"p-2 hover:bg-gray-200 rounded-lg",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})]}),d.jsx("div",{className:"grid grid-cols-7 border-b border-gray-100 bg-slate-50",children:["T2","T3","T4","T5","T6","T7","CN"].map(r=>d.jsx("div",{className:"py-3 text-center text-[10px] font-black text-gray-400 uppercase tracking-widest",children:r},r))}),d.jsx("div",{className:"grid grid-cols-7",children:i.map(r=>{const c=`2024-03-${r.toString().padStart(2,"0")}`,h=ut.filter(g=>g.deadline===c);return d.jsxs("div",{className:`min-h-[120px] p-2 border-b border-r border-gray-100 hover:bg-gray-50 transition-colors group ${r>31?"bg-gray-50/50":""}`,children:[d.jsx("span",{className:"text-sm font-bold text-gray-400 group-hover:text-amber-600",children:r}),d.jsx("div",{className:"mt-2 space-y-1",children:h.map(g=>d.jsx("div",{className:"p-1 rounded bg-amber-100 border-l-2 border-amber-500 overflow-hidden cursor-pointer hover:bg-amber-200 transition-colors",children:d.jsx("p",{className:"text-[10px] font-bold text-amber-900 truncate",children:g.title})},g.id))})]},r)})})]})]})},C_=({user:n,projects:t,users:i})=>{if(!(n.role===Me.OWNER||n.role===Me.PM))return d.jsx("div",{className:"p-10 text-center",children:"Bn khng c quyn truy cp bo co."});const r=t.map(c=>{const h=ut.filter(x=>x.projectId===c.id),g=h.filter(x=>x.status==="Hon thnh"||x.status===" duyt").length;return{name:c.name,percentage:h.length>0?g/h.length*100:0}});return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("header",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bo co Hot ng"}),d.jsx("p",{className:"text-gray-500",children:"Phn tch hiu sut d n v nhn s"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:[d.jsx("h2",{className:"font-bold text-gray-800 mb-6",children:"Hiu sut theo D n (%)"}),d.jsx("div",{className:"space-y-6",children:r.length>0?r.map(c=>d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:c.name}),d.jsxs("span",{className:"text-sm font-bold text-amber-600",children:[Math.round(c.percentage),"%"]})]}),d.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3",children:d.jsx("div",{className:"bg-amber-500 h-3 rounded-full shadow-inner",style:{width:`${c.percentage}%`}})})]},c.name)):d.jsx("p",{className:"text-center text-gray-400",children:"Cha c d liu d n"})})]}),d.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:[d.jsx("h2",{className:"font-bold text-gray-800 mb-6",children:"Thng k nhn s"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-[10px] text-gray-400 uppercase font-bold border-b border-gray-100",children:[d.jsx("th",{className:"pb-3",children:"Thnh vin"}),d.jsx("th",{className:"pb-3",children:"Vai tr"}),d.jsx("th",{className:"pb-3",children:"ang lm"}),d.jsx("th",{className:"pb-3",children:"Tr hn"}),d.jsx("th",{className:"pb-3",children:"Avg Revisions"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-50",children:i.filter(c=>c.role===Me.DESIGNER||c.role===Me.PM).map(c=>{const h=ut.filter(b=>b.assigneeId===c.id),g=h.filter(b=>b.status!=="Hon thnh").length,x=h.filter(b=>new Date(b.deadline)<new Date).length,m=h.reduce((b,S)=>b+S.revisionCount,0),y=h.length>0?(m/h.length).toFixed(1):0;return d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"py-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("img",{src:c.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(c.name)}`,className:"w-8 h-8 rounded-full mr-3",alt:""}),d.jsx("span",{className:"text-sm font-bold text-gray-700",children:c.name})]})}),d.jsx("td",{className:"py-4 text-xs text-gray-500 font-medium",children:El[c.role]}),d.jsx("td",{className:"py-4",children:d.jsx("span",{className:"text-sm font-semibold",children:g})}),d.jsx("td",{className:"py-4",children:d.jsx("span",{className:"text-sm font-bold text-red-500",children:x})}),d.jsx("td",{className:"py-4",children:d.jsx("span",{className:"text-sm font-mono",children:y})})]},c.id)})})]})})]})]})]})},__=({user:n,users:t,onAddUser:i,onUpdateUser:a,onDeleteUser:r})=>{const[c,h]=U.useState(!1),[g,x]=U.useState(null),[m,y]=U.useState(!1),[b,S]=U.useState({name:"",email:"",role:Me.DESIGNER,dob:"",phone:"",avatar:"",newPassword:""}),C=U.useRef(null),w=n.id==="u1",_=()=>{w&&(x(null),y(!1),S({name:"",email:"",role:Me.DESIGNER,dob:"",phone:"",avatar:"",newPassword:""}),h(!0))},M=D=>{!w&&D.id!==n.id||(x(D),y(!1),S({name:D.name,email:D.email,role:D.role,dob:D.dob||"",phone:D.phone||"",avatar:D.avatar||"",newPassword:""}),h(!0))},R=D=>{var G;const N=(G=D.target.files)==null?void 0:G[0];if(N){const z=new FileReader;z.onloadend=()=>{S(Q=>({...Q,avatar:z.result}))},z.readAsDataURL(N)}},j=D=>{if(D.preventDefault(),!(!g&&!w)){if(g){const N={...g,name:w?b.name:g.name,role:w?b.role:g.role,email:b.email,dob:b.dob,phone:b.phone,avatar:b.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(b.name)}&background=random`};a(N)}else if(w){const N={id:`u-${Date.now()}`,name:b.name,email:b.email,role:b.role,dob:b.dob,phone:b.phone,avatar:b.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(b.name)}&background=random`};i(N)}h(!1)}},H=D=>D?new Date(D).toLocaleDateString("vi-VN"):"Cha cp nht";return d.jsxs("div",{className:"space-y-6 md:space-y-8 animate-in fade-in duration-500 pb-10",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 px-2 md:px-0",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl md:text-3xl font-extrabold text-slate-900 tracking-tight uppercase",children:"Thnh vin MINMAX"}),d.jsx("p",{className:"text-slate-500 text-xs md:text-sm mt-1 uppercase tracking-widest font-bold",children:"Qun tr nhn s v h s c nhn"})]}),w&&d.jsxs("button",{onClick:_,className:"bg-slate-900 hover:bg-amber-600 text-white px-5 py-3 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-slate-900/10 transition-all flex items-center self-stretch sm:self-auto justify-center active:scale-95",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Thm Nhn s"]})]}),d.jsx("div",{className:"hidden md:block bg-white rounded-[2rem] border border-slate-100 shadow-xl shadow-slate-200/40 overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left",children:[d.jsx("thead",{className:"bg-slate-50/80 border-b border-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-5 text-[11px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Thnh vin"}),d.jsx("th",{className:"px-6 py-5 text-[11px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Lin h"}),d.jsx("th",{className:"px-6 py-5 text-[11px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Ngy sinh"}),d.jsx("th",{className:"px-6 py-5 text-[11px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Vai tr"}),d.jsx("th",{className:"px-6 py-5 text-[11px] font-black text-slate-400 uppercase tracking-[0.2em] text-right",children:"Thao tc"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(D=>d.jsxs("tr",{className:`group hover:bg-slate-50/50 transition-all ${D.id===n.id?"bg-amber-50/20":""}`,children:[d.jsx("td",{className:"px-6 py-5",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("img",{src:D.avatar,className:"w-12 h-12 rounded-2xl mr-4 border-2 border-white shadow-sm object-cover",alt:""}),d.jsxs("div",{children:[d.jsx("span",{className:"font-bold text-slate-800 block group-hover:text-amber-600 transition-colors",children:D.name}),D.id==="u1"&&d.jsx("span",{className:"text-[9px] bg-amber-600 text-white px-1.5 py-0.5 rounded uppercase font-black tracking-tighter",children:"Admin"})]})]})}),d.jsxs("td",{className:"px-6 py-5",children:[d.jsx("p",{className:"text-sm text-slate-700 font-semibold",children:D.email}),d.jsx("p",{className:"text-xs text-slate-400 font-mono mt-0.5",children:D.phone||"(Cha c ST)"})]}),d.jsx("td",{className:"px-6 py-5",children:d.jsx("span",{className:"text-sm text-slate-500 font-mono bg-slate-100 px-2 py-1 rounded-lg",children:H(D.dob)})}),d.jsx("td",{className:"px-6 py-5",children:d.jsx("span",{className:`px-3 py-1 rounded-xl text-[10px] font-black uppercase tracking-wider border ${D.role===Me.OWNER?"bg-amber-100 text-amber-700 border-amber-200":D.role===Me.PM?"bg-blue-100 text-blue-700 border-blue-200":"bg-slate-100 text-slate-700 border-slate-200"}`,children:El[D.role]})}),d.jsx("td",{className:"px-6 py-5 text-right",children:d.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[d.jsx("button",{onClick:()=>M(D),className:"opacity-0 group-hover:opacity-100 bg-white border border-slate-200 text-slate-600 hover:text-amber-600 hover:border-amber-200 px-3 py-2 rounded-xl text-xs font-bold shadow-sm transition-all",children:"Sa"}),w&&D.id!=="u1"&&d.jsx("button",{onClick:()=>r(D.id),className:"opacity-0 group-hover:opacity-100 bg-white border border-red-100 text-red-400 hover:text-white hover:bg-red-500 hover:border-red-500 px-3 py-2 rounded-xl text-xs font-bold shadow-sm transition-all",children:"Xa"})]})})]},D.id))})]})})}),d.jsx("div",{className:"md:hidden grid grid-cols-1 gap-4 px-2",children:t.map(D=>d.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm relative overflow-hidden group active:scale-[0.98] transition-all",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("img",{src:D.avatar,className:"w-14 h-14 rounded-2xl mr-4 border-2 border-slate-50 object-cover",alt:""}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("h3",{className:"font-black text-slate-900 truncate",children:D.name}),d.jsxs("div",{className:"flex items-center mt-1",children:[d.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[9px] font-black uppercase tracking-wider ${D.role===Me.OWNER?"bg-amber-100 text-amber-600":"bg-slate-100 text-slate-500"}`,children:El[D.role]}),D.id==="u1"&&d.jsx("span",{className:"ml-2 text-[8px] bg-amber-600 text-white px-1.5 py-0.5 rounded uppercase font-black",children:"Admin"})]})]})]}),d.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-50",children:[d.jsxs("div",{className:"flex items-center text-xs text-slate-600",children:[d.jsx("svg",{className:"w-4 h-4 mr-2 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),d.jsx("span",{className:"truncate",children:D.email})]}),d.jsxs("div",{className:"flex items-center text-xs text-slate-600",children:[d.jsx("svg",{className:"w-4 h-4 mr-2 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.948V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),d.jsx("span",{children:D.phone||"(Cha c ST)"})]}),d.jsxs("div",{className:"flex items-center text-xs text-slate-600",children:[d.jsx("svg",{className:"w-4 h-4 mr-2 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),d.jsx("span",{children:H(D.dob)})]})]}),d.jsxs("div",{className:"flex gap-2 mt-5",children:[d.jsx("button",{onClick:()=>M(D),className:"flex-1 py-3 bg-slate-100 text-slate-900 rounded-xl text-[10px] font-black uppercase tracking-widest active:bg-amber-100 active:text-amber-700 transition-all",children:"Chnh sa"}),w&&D.id!=="u1"&&d.jsx("button",{onClick:()=>r(D.id),className:"flex-1 py-3 bg-red-50 text-red-500 rounded-xl text-[10px] font-black uppercase tracking-widest active:bg-red-500 active:text-white transition-all",children:"Xa"})]})]},D.id))}),c&&d.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-slate-900/70 backdrop-blur-md",children:d.jsxs("div",{className:"bg-white w-full max-w-md h-[90vh] sm:h-auto rounded-t-[2.5rem] sm:rounded-[2.5rem] shadow-2xl p-6 md:p-8 overflow-y-auto animate-in slide-in-from-bottom sm:zoom-in duration-200 flex flex-col",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6 md:mb-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl md:text-2xl font-black text-slate-900 uppercase",children:"H s thnh vin"}),d.jsx("p",{className:"text-slate-400 text-[10px] md:text-xs font-bold uppercase tracking-widest mt-1",children:"Thng tin qun tr"})]}),d.jsx("button",{onClick:()=>h(!1),className:"p-2 text-slate-300 hover:text-slate-900 transition-colors",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("form",{onSubmit:j,className:"space-y-6 flex-1",children:[d.jsxs("div",{className:"flex flex-col items-center mb-6",children:[d.jsxs("div",{onClick:()=>{var D;return(D=C.current)==null?void 0:D.click()},className:"relative group cursor-pointer",children:[d.jsx("img",{src:b.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(b.name||"U")}&background=random`,className:"w-24 h-24 md:w-28 md:h-28 rounded-[1.5rem] md:rounded-[2rem] border-4 border-slate-50 shadow-xl object-cover transition-all",alt:"Avatar"}),d.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-[1.5rem] md:rounded-[2rem] opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:d.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"})})})]}),d.jsx("input",{type:"file",ref:C,onChange:R,className:"hidden",accept:"image/*"}),d.jsx("p",{className:"mt-2 text-[9px] font-black text-amber-600 uppercase tracking-widest",children:"Bm nh  i i din"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"H v tn"}),d.jsx("input",{type:"text",required:!0,disabled:!w,className:`w-full bg-slate-50 border-2 border-slate-100 rounded-xl md:rounded-2xl p-4 outline-none focus:border-amber-500 transition-all font-bold ${w?"":"opacity-60"}`,value:b.name,onChange:D=>S({...b,name:D.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Email cng ty"}),d.jsx("input",{type:"email",required:!0,className:"w-full bg-slate-50 border-2 border-slate-100 rounded-xl md:rounded-2xl p-4 outline-none focus:border-amber-500 transition-all font-semibold",value:b.email,onChange:D=>S({...b,email:D.target.value})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Ngy sinh"}),d.jsx("input",{type:"date",className:"w-full bg-slate-50 border-2 border-slate-100 rounded-xl md:rounded-2xl p-4 outline-none focus:border-amber-500 transition-all font-bold text-xs",value:b.dob,onChange:D=>S({...b,dob:D.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Vai tr"}),d.jsx("select",{disabled:!w,className:`w-full bg-slate-50 border-2 border-slate-100 rounded-xl md:rounded-2xl p-4 outline-none focus:border-amber-500 transition-all font-black appearance-none text-xs ${w?"":"opacity-60"}`,value:b.role,onChange:D=>S({...b,role:D.target.value}),children:Object.values(Me).map(D=>d.jsx("option",{value:D,children:El[D]},D))})]})]})]}),d.jsxs("div",{className:"flex gap-4 pt-6 mt-auto",children:[d.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 py-4 text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"ng"}),d.jsx("button",{type:"submit",className:"flex-[2] py-4 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest text-[10px] shadow-xl active:scale-95 transition-all",children:"Lu h s"})]})]})]})})]})},w_=({user:n,projects:t,onUpdateProjects:i})=>{const[a,r]=U.useState(""),[c,h]=U.useState(null),[g,x]=U.useState(null),m=n.id==="u1",y=t.filter(_=>m||_.pmId===n.id?!0:ut.some(M=>M.projectId===_.id&&M.assigneeId===n.id)),b=new Map;y.forEach(_=>{const M=_.clientPhone||_.clientEmail;if(!b.has(M))b.set(M,{name:_.clientName,phone:_.clientPhone,email:_.clientEmail,address:_.clientAddress,cccd:_.clientCCCD,projects:[_]});else{const R=b.get(M);R.projects.some(j=>j.id===_.id)||R.projects.push(_)}});const S=Array.from(b.values()).filter(_=>_.name.toLowerCase().includes(a.toLowerCase())||_.phone.includes(a)),C=_=>{if(!m){alert("Ch Admin ti cao mi c quyn sa h s gc ca khch hng.");return}h({..._}),x(_.phone||_.email)},w=_=>{if(_.preventDefault(),!c||!i||!g)return;const M=t.map(R=>(R.clientPhone||R.clientEmail)===g?{...R,clientName:c.name,clientPhone:c.phone,clientEmail:c.email,clientAddress:c.address,clientCCCD:c.cccd}:R);i(M),h(null),x(null)};return d.jsxs("div",{className:"space-y-6 md:space-y-8 animate-in fade-in duration-500 pb-10",children:[d.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl md:text-3xl font-black text-slate-900 tracking-tight uppercase",children:"Danh mc Khch hng"}),d.jsx("p",{className:"text-slate-500 font-medium mt-1 uppercase text-[10px] md:text-xs tracking-[0.2em]",children:m?"Qun l d liu ton b khch hng":"Khch hng trong cc d n ca bn"})]}),d.jsxs("div",{className:"relative w-full md:w-64",children:[d.jsx("input",{type:"text",placeholder:"Tm theo tn hoc ST...",className:"w-full bg-white border border-slate-200 rounded-2xl py-3 pl-10 pr-4 text-xs font-bold outline-none focus:border-amber-500 transition-all shadow-sm",value:a,onChange:_=>r(_.target.value)}),d.jsx("svg",{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.length>0?S.map((_,M)=>d.jsxs("div",{className:"bg-white rounded-[2rem] border border-slate-100 shadow-xl shadow-slate-200/40 p-6 md:p-8 hover:shadow-2xl hover:border-amber-100 transition-all group overflow-hidden relative flex flex-col",children:[m&&d.jsx("button",{onClick:()=>C(_),className:"absolute top-6 right-6 p-2 bg-slate-50 text-slate-400 rounded-xl opacity-0 group-hover:opacity-100 transition-all hover:bg-amber-600 hover:text-white shadow-sm",title:"Chnh sa h s khch hng",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),d.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[d.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-950 text-amber-500 flex items-center justify-center text-xl font-black shadow-lg flex-shrink-0",children:_.name.charAt(0)}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("h3",{className:"font-black text-slate-900 text-lg group-hover:text-amber-600 transition-colors truncate",children:_.name}),d.jsxs("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:["M i tc: MM-CL",M+100]})]})]}),d.jsxs("div",{className:"space-y-4 mb-8 flex-1",children:[d.jsxs("div",{className:"flex items-center text-xs text-slate-600 font-bold bg-slate-50 p-3 rounded-xl border border-slate-100",children:[d.jsx("svg",{className:"w-4 h-4 mr-3 text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.948V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),_.phone]}),d.jsxs("div",{className:"flex items-center text-xs text-slate-600 font-bold bg-slate-50 p-3 rounded-xl border border-slate-100",children:[d.jsx("svg",{className:"w-4 h-4 mr-3 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),d.jsx("span",{className:"truncate",children:_.email})]}),_.address&&d.jsxs("div",{className:"flex items-start text-[11px] text-slate-400 font-medium leading-relaxed italic",children:[d.jsxs("svg",{className:"w-4 h-4 mr-3 mt-0.5 text-slate-300 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),_.address]})]}),d.jsxs("div",{className:"pt-6 border-t border-slate-100",children:[d.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:["D n ca khch (",_.projects.length,")"]}),d.jsx("div",{className:"space-y-2",children:_.projects.map(R=>d.jsxs(Nl,{to:`/projects/${R.id}`,className:"block p-2 bg-slate-50 rounded-lg text-[10px] font-bold text-slate-700 hover:bg-amber-600 hover:text-white transition-all truncate",children:[" ",R.name]},R.id))})]}),d.jsxs("div",{className:"mt-8 flex gap-3",children:[d.jsx("a",{href:`tel:${_.phone}`,className:"flex-1 py-3 bg-slate-900 text-white rounded-xl text-center text-[10px] font-black uppercase tracking-widest hover:bg-amber-600 transition-colors active:scale-95 shadow-lg",children:"Gi in"}),d.jsx("a",{href:`mailto:${_.email}`,className:"flex-1 py-3 bg-white border border-slate-200 text-slate-600 rounded-xl text-center text-[10px] font-black uppercase tracking-widest hover:bg-slate-50 transition-colors active:scale-95 shadow-sm",children:"Email"})]})]},M)):d.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center justify-center text-slate-300 bg-white rounded-[3rem] border-2 border-dashed border-slate-100",children:[d.jsx("svg",{className:"w-16 h-16 mb-4 opacity-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),d.jsx("p",{className:"text-sm font-bold uppercase tracking-widest",children:"Khng c khch hng no hin th"}),d.jsx("p",{className:"text-[10px] mt-2 px-10 text-center",children:"Bn ch thy khch hng ca cc d n m mnh ang trc tip thc hin."})]})}),c&&m&&d.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in duration-300 flex flex-col",children:[d.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Cp nht h s gc"}),d.jsx("p",{className:"text-[10px] font-black text-amber-500 uppercase tracking-widest mt-1",children:"D liu ny s cp nht tt c d n lin quan"})]}),d.jsx("button",{onClick:()=>h(null),className:"p-3 hover:bg-white rounded-2xl text-slate-300 hover:text-slate-900 transition-all",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("form",{onSubmit:w,className:"p-8 space-y-5",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-1",children:"H v tn"}),d.jsx("input",{type:"text",required:!0,className:"w-full bg-slate-50 border-2 border-slate-100 rounded-2xl p-4 outline-none focus:border-amber-500 transition-all font-bold",value:c.name,onChange:_=>h({...c,name:_.target.value})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-1",children:"S in thoi"}),d.jsx("input",{type:"tel",required:!0,className:"w-full bg-slate-50 border-2 border-slate-100 rounded-2xl p-4 outline-none focus:border-amber-500 transition-all font-mono font-bold",value:c.phone,onChange:_=>h({...c,phone:_.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-1",children:"S CCCD"}),d.jsx("input",{type:"text",className:"w-full bg-slate-50 border-2 border-slate-100 rounded-2xl p-4 outline-none focus:border-amber-500 transition-all font-mono font-bold",value:c.cccd||"",onChange:_=>h({...c,cccd:_.target.value})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-1",children:"Email lin lc"}),d.jsx("input",{type:"email",required:!0,className:"w-full bg-slate-50 border-2 border-slate-100 rounded-2xl p-4 outline-none focus:border-amber-500 transition-all font-semibold",value:c.email,onChange:_=>h({...c,email:_.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-1",children:"a ch thng tr"}),d.jsx("textarea",{className:"w-full bg-slate-50 border-2 border-slate-100 rounded-2xl p-4 outline-none focus:border-amber-500 transition-all min-h-[100px] text-sm",value:c.address||"",onChange:_=>h({...c,address:_.target.value})})]}),d.jsxs("div",{className:"pt-4 flex gap-4",children:[d.jsx("button",{type:"button",onClick:()=>h(null),className:"flex-1 py-4 text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Hy b"}),d.jsx("button",{type:"submit",className:"flex-[2] py-4 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest text-[10px] shadow-xl hover:bg-amber-600 transition-all active:scale-95",children:"Lu thay i h s"})]})]})]})})]})},A_=({user:n,users:t,registrations:i,onUpdateRegistrations:a})=>{const[r,c]=U.useState(()=>{const D=new Date,N=D.getDay(),G=D.getDate()-N+(N===0?-6:1);return new Date(D.setDate(G))}),[h,g]=U.useState(i),[x,m]=U.useState(!1),[y,b]=U.useState(!1);U.useEffect(()=>{g(i)},[i]);const S=n.id==="u1"||n.role===Me.OWNER,C=Array.from({length:6},(D,N)=>{const G=new Date(r);return G.setDate(r.getDate()+N),G}),w=()=>{const D=new Date(r);return D.setDate(r.getDate()+5),`${r.toLocaleDateString("vi-VN",{day:"numeric",month:"numeric"})} - ${D.toLocaleDateString("vi-VN",{day:"numeric",month:"numeric",year:"numeric"})}`},_=D=>{const N=new Date(r);N.setDate(r.getDate()+D*7),c(N)},M=(D,N,G)=>{if(!S&&G!==n.id)return;const z=h.find(W=>W.date===D&&W.userId===G);let Q;if(!z)Q=N==="MORNING"?Ge.MORNING:Ge.AFTERNOON;else{const W=z.session;N==="MORNING"?W===Ge.MORNING?Q=Ge.OFF:W===Ge.AFTERNOON?Q=Ge.FULL_DAY:W===Ge.FULL_DAY?Q=Ge.AFTERNOON:Q=Ge.MORNING:W===Ge.AFTERNOON?Q=Ge.OFF:W===Ge.MORNING?Q=Ge.FULL_DAY:W===Ge.FULL_DAY?Q=Ge.MORNING:Q=Ge.AFTERNOON}let Y;z?Y=h.map(W=>W.date===D&&W.userId===G?{...W,session:Q}:W):Y=[...h,{id:`wr-${Date.now()}`,userId:G,date:D,session:Q}];const le=Y.filter(W=>W.session!==Ge.OFF);g(le),m(!0)},R=()=>{b(!0),setTimeout(()=>{a(h),m(!1),b(!1),alert("Lch lm vic  c cp nht thnh cng cho ton b h thng.")},800)},j=(D,N)=>{const G=h.find(z=>z.userId===D&&z.date===N);return G?{morning:G.session===Ge.MORNING||G.session===Ge.FULL_DAY,afternoon:G.session===Ge.AFTERNOON||G.session===Ge.FULL_DAY}:{morning:!1,afternoon:!1}},H=t.filter(D=>D.role!==Me.VIEWER);return d.jsxs("div",{className:"space-y-6 md:space-y-8 animate-in fade-in duration-500 pb-24",children:[d.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl md:text-3xl font-black text-slate-900 tracking-tight uppercase",children:"Lch trc Studio"}),d.jsx("p",{className:"text-slate-500 font-medium mt-1 uppercase text-[10px] md:text-xs tracking-[0.2em]",children:"Cp nht qun s & Phn b lch hp"})]}),d.jsxs("div",{className:"flex bg-white rounded-2xl shadow-sm border border-slate-100 p-1",children:[d.jsx("button",{onClick:()=>_(-1),className:"p-3 hover:bg-slate-50 rounded-xl transition-all",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),d.jsx("div",{className:"px-6 flex items-center text-xs font-black uppercase tracking-widest text-slate-600",children:w()}),d.jsx("button",{onClick:()=>_(1),className:"p-3 hover:bg-slate-50 rounded-xl transition-all",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})]}),d.jsx("div",{className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-[100] transition-all duration-500 ${x?"scale-100 opacity-100":"scale-90 opacity-0 pointer-events-none"}`,children:d.jsxs("div",{className:"bg-slate-900 text-white px-8 py-4 rounded-[2rem] shadow-2xl flex items-center space-x-6 border border-white/10 backdrop-blur-xl",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse mr-3"}),d.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest whitespace-nowrap",children:"C thay i cha lu"})]}),d.jsxs("button",{onClick:R,disabled:y,className:"bg-amber-500 hover:bg-amber-600 text-white px-8 py-3 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-xl transition-all active:scale-95 disabled:opacity-50 flex items-center",children:[y?d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Lu ng k & Cp nht h thng"]})]})}),d.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-xl shadow-slate-200/40 overflow-hidden relative",children:d.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:d.jsxs("table",{className:"w-full text-left border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-slate-950 text-white",children:[d.jsx("th",{className:"p-6 text-[10px] font-black uppercase tracking-widest sticky left-0 bg-slate-950 z-20 min-w-[220px]",children:"Nhn s / Th"}),C.map(D=>d.jsxs("th",{className:"p-6 text-center min-w-[140px] border-l border-white/5",children:[d.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-amber-500",children:D.toLocaleDateString("vi-VN",{weekday:"long"})}),d.jsxs("p",{className:"text-lg font-black mt-1",children:[D.getDate(),"/",D.getMonth()+1]})]},D.toISOString()))]})}),d.jsx("tbody",{className:"divide-y divide-slate-50",children:H.map(D=>d.jsxs("tr",{className:`${D.id===n.id?"bg-amber-50/20":""} hover:bg-slate-50/30 transition-colors group`,children:[d.jsx("td",{className:"p-6 sticky left-0 bg-white shadow-xl z-10 border-r border-slate-50",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:D.avatar,className:"w-12 h-12 rounded-2xl object-cover border-2 border-slate-100 shadow-sm",alt:""}),D.id===n.id&&d.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),d.jsxs("div",{children:[d.jsxs("p",{className:`font-black text-sm ${D.id===n.id?"text-amber-600":"text-slate-800"}`,children:[D.name," ",D.id===n.id&&"(Ti)"]}),d.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-tighter mt-0.5",children:D.role})]})]})}),C.map(N=>{const G=N.toISOString().split("T")[0],z=j(D.id,G),Q=D.id===n.id||S;return d.jsx("td",{className:`p-4 border-l border-slate-50 transition-colors ${Q?"cursor-pointer":"cursor-default"}`,children:d.jsxs("div",{className:"flex flex-col space-y-2",children:[d.jsxs("button",{disabled:!Q,onClick:()=>M(G,"MORNING",D.id),className:`py-2 px-3 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all flex items-center justify-between ${z.morning?"bg-amber-500 text-white shadow-lg shadow-amber-500/20":"bg-slate-50 text-slate-300 hover:bg-slate-100"} ${Q?"active:scale-95":"opacity-80"}`,children:[d.jsx("span",{children:"Sng"}),z.morning&&d.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})]}),d.jsxs("button",{disabled:!Q,onClick:()=>M(G,"AFTERNOON",D.id),className:`py-2 px-3 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all flex items-center justify-between ${z.afternoon?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"bg-slate-50 text-slate-300 hover:bg-slate-100"} ${Q?"active:scale-95":"opacity-80"}`,children:[d.jsx("span",{children:"Chiu"}),z.afternoon&&d.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})]})]})},G)})]},D.id))}),d.jsx("tfoot",{children:d.jsxs("tr",{className:"bg-slate-50/80 backdrop-blur-sm border-t border-slate-200",children:[d.jsx("td",{className:"p-6 sticky left-0 bg-slate-50/90 font-black text-[10px] uppercase text-slate-500 tracking-[0.2em] border-r border-slate-100",children:"Tng qun s hin din"}),C.map(D=>{const N=D.toISOString().split("T")[0],G=h.filter(Q=>Q.date===N&&(Q.session===Ge.MORNING||Q.session===Ge.FULL_DAY)).length,z=h.filter(Q=>Q.date===N&&(Q.session===Ge.AFTERNOON||Q.session===Ge.FULL_DAY)).length;return d.jsx("td",{className:"p-6 text-center border-l border-slate-100",children:d.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[d.jsxs("div",{className:"px-3 py-1 bg-amber-100 text-amber-700 rounded-lg text-[10px] font-black w-14",children:["S: ",G]}),d.jsxs("div",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-[10px] font-black w-14",children:["C: ",z]})]})},N)})]})})]})})}),d.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-10 text-white relative overflow-hidden shadow-2xl group",children:[d.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-amber-500/10 rounded-full -mr-24 -mt-24 blur-3xl group-hover:bg-amber-500/20 transition-all duration-700"}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("h3",{className:"text-xl font-black uppercase tracking-tight mb-6 flex items-center",children:[d.jsx("span",{className:"w-2 h-8 bg-amber-500 mr-4"}),"Lu  cho Nhn s"]}),d.jsxs("ul",{className:"space-y-5 text-[11px] font-bold text-white/60 uppercase tracking-widest leading-loose",children:[d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-amber-500 mr-3",children:"01."})," ng k lch trc 17:00 th 7 hng tun  KTS trng sp xp lch hp."]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-amber-500 mr-3",children:"02."}),' Sau khi tch chn ca lm vic, hy nhn nt "Lu ng k"  h thng cp nht.']}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-amber-500 mr-3",children:"03."})," Mi thay i sau khi  cht tun cn bo trc tip qua nhm Chat hoc PM."]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"text-amber-500 mr-3",children:"04."})," D liu ny cng khai  cc thnh vin bit lch lm vic ca nhau."]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-[2.5rem] p-10 border border-slate-100 shadow-xl flex flex-col justify-center items-center text-center",children:[d.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-[2rem] flex items-center justify-center text-amber-500 mb-8 shadow-inner",children:d.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),d.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tighter",children:"Timeline Studio"}),d.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-[0.3em] mt-3",children:"Sng: 08:00 - 11:45 | Chiu: 13:30 - 17:30"}),d.jsxs("div",{className:"mt-8 flex space-x-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-200"}),d.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),d.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-200"})]})]})]})]})},El={[Me.OWNER]:"Kin trc s",[Me.PM]:"Qun l d n",[Me.DESIGNER]:"Ha vin thit k",[Me.VIEWER]:"Khch hng/Viewer"},R_=()=>{const[n,t]=U.useState(null),[i,a]=U.useState(()=>{const W=localStorage.getItem("minmax_projects");return W?JSON.parse(W):Y0}),[r,c]=U.useState(()=>{const W=localStorage.getItem("minmax_users");return W?JSON.parse(W):J0}),[h,g]=U.useState(()=>{const W=localStorage.getItem("minmax_work_regs");return W?JSON.parse(W):[]}),[x,m]=U.useState(!0),[y,b]=U.useState(""),[S,C]=U.useState(""),[w,_]=U.useState("");U.useEffect(()=>{localStorage.setItem("minmax_projects",JSON.stringify(i))},[i]),U.useEffect(()=>{localStorage.setItem("minmax_users",JSON.stringify(r))},[r]),U.useEffect(()=>{localStorage.setItem("minmax_work_regs",JSON.stringify(h))},[h]),U.useEffect(()=>{const W=localStorage.getItem("archi_user");if(W){const ae=JSON.parse(W),ue=r.find(Ae=>Ae.id===ae.id);ue?t(ue):localStorage.removeItem("archi_user")}m(!1)},[r]);const M=W=>{W.preventDefault(),_("");const ae=y.trim().toLowerCase(),ue=S,Ae="mmdesign.thietke@gmail.com",ee="Quan21011998*",q="123456";if(ae===Ae&&ue===ee){const re=r.find(Ee=>Ee.email===Ae);if(re){R(re);return}}const Z=r.find(re=>re.email.toLowerCase()===ae);Z?ae===Ae?_("Mt khu qun tr khng ng."):ue===q?R(Z):_("Mt khu khng chnh xc."):_("Ti khon khng tn ti.")},R=W=>{t(W),localStorage.setItem("archi_user",JSON.stringify(W))},j=()=>{t(null),localStorage.removeItem("archi_user")},H=W=>{a(ae=>[W,...ae])},D=W=>{a(ae=>ae.map(ue=>ue.id===W.id?W:ue))},N=W=>{a(W)},G=W=>{a(ae=>ae.filter(ue=>ue.id!==W))},z=W=>c(ae=>[...ae,W]),Q=W=>c(ae=>ae.map(ue=>ue.id===W.id?W:ue)),Y=W=>c(ae=>ae.filter(ue=>ue.id!==W)),le=W=>{g(W)};return x?d.jsx("div",{className:"flex items-center justify-center h-screen bg-slate-950 text-white",children:"MINMAX Khi ng..."}):n?d.jsx(Fb,{children:d.jsx(nT,{user:n,onLogout:j,children:d.jsxs(Tb,{children:[d.jsx(Kt,{path:"/",element:d.jsx(lT,{user:n,projects:i,onUpdateProject:D})}),d.jsx(Kt,{path:"/projects",element:d.jsx(oT,{user:n,projects:i,users:r,onAddProject:H,onDeleteProject:G})}),d.jsx(Kt,{path:"/projects/:id",element:d.jsx(S_,{user:n,projects:i,users:r,onUpdateProject:D,onDeleteProject:G})}),d.jsx(Kt,{path:"/clients",element:d.jsx(w_,{user:n,projects:i,onUpdateProjects:N})}),d.jsx(Kt,{path:"/kanban",element:d.jsx(E_,{user:n,projects:i,users:r})}),d.jsx(Kt,{path:"/calendar",element:d.jsx(N_,{user:n,projects:i})}),d.jsx(Kt,{path:"/schedule",element:d.jsx(A_,{user:n,users:r,registrations:h,onUpdateRegistrations:le})}),d.jsx(Kt,{path:"/reports",element:d.jsx(C_,{user:n,projects:i,users:r})}),d.jsx(Kt,{path:"/staff",element:d.jsx(__,{user:n,users:r,onAddUser:z,onUpdateUser:Q,onDeleteUser:Y})}),d.jsx(Kt,{path:"*",element:d.jsx(yb,{to:"/"})})]})})}):d.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-950 p-4 font-inter",children:d.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-2xl w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-10",children:[d.jsxs("h1",{className:"text-4xl font-black tracking-tighter text-slate-900 uppercase",children:["MINMA",d.jsx("span",{className:"text-amber-500",children:"X"})]}),d.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[0.4em] mt-2",children:"Architecture Studio"})]}),d.jsxs("form",{onSubmit:M,className:"space-y-6",children:[d.jsx("input",{type:"email",required:!0,placeholder:"Email",className:"w-full p-4 bg-slate-50 border-2 border-slate-100 rounded-2xl outline-none focus:border-amber-500 transition-all",value:y,onChange:W=>b(W.target.value)}),d.jsx("input",{type:"password",required:!0,placeholder:"Password",className:"w-full p-4 bg-slate-50 border-2 border-slate-100 rounded-2xl outline-none focus:border-amber-500 transition-all",value:S,onChange:W=>C(W.target.value)}),w&&d.jsx("p",{className:"text-red-500 text-xs font-bold text-center",children:w}),d.jsx("button",{type:"submit",className:"w-full py-5 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest hover:bg-amber-600 transition-all",children:"ng nhp"})]})]})})},zg=document.getElementById("root");if(!zg)throw new Error("Could not find root element to mount to");const M_=Sy.createRoot(zg);M_.render(d.jsx(py.StrictMode,{children:d.jsx(R_,{})}));
